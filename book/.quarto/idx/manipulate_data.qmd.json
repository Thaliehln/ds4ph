{"title":"Manipulate data","markdown":{"yaml":{"title":"Manipulate data"},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n\n```{r}\nlibrary(reticulate)\n```\n\n```{python}\nimport warnings\nwarnings.filterwarnings('ignore')\n```\n\n## Import data from files\n\n```{r}\nlibrary(RStata)\ndf1 <- RStata::stata(\"import excel dataset1.xlsx\",\n                     data.out = TRUE)\n```\n\n```{python}\nimport pandas as pd\ndf2 = pd.read_csv('dataset1.csv')\n```\n\n```{r}\nlibrary(haven)\ndf3 <- haven::read_dta(\"dataset1.dta\")\n```\n\n::: {.panel-tabset}\n\n#### Exercise 4\n\nCan you indicate what variable has been modified in **dataset1** between df1 and df2?\n\n::: callout-tip\nUse the R function **comparedf**\n:::\n\n```{r}\n#| echo: true\n# Write your code here\n```\n\n#### Solution\n\n```{r}\narsenal::comparedf(df1, py$df2)\n```\n\n:::\n\n## Import data from URLs\n\nIndicate functions that accepts URL as well (it is the case for Python functions).\n\n# Import data from ODK Central\n\nWhile data digitally captured using ODK Collect or Enketo and stored in ODK Central can be retrieved in bulk through the web interface, ODK Central's API provides direct access to its data (and functionality). It is a more efficient way to ensure that data are always up-to-date.\n\nWe will see how to retrieve data through the OData API.\n\n1.  Connect to the ODK Central server data set (give access to a dummy ODK Central project for demo purpose).\n\n::: callout-tip\n-   R: use the [ru_setup](https://docs.ropensci.org/ruODK/reference/ru_setup.html) function from the `ruODK` package [@mayer20].\n-   Python: use functions from the `pyODK` package.\n:::\n\n```{r}\n#| echo: true\n# Write your code here\n```\n\n```{r}\n# ruODK::ru_setup(\n#   svc = Sys.getenv(\"ODKC_SVC\"),\n#   un = Sys.getenv(\"ODKC_UN\"),\n#   pw = Sys.getenv(\"ODKC_PW\"),\n#   tz = Sys.getenv(\"TZ\"),\n#   verbose = FALSE \n# )\n```\n\n2.  Retrieve data from form and store the data set into a data frame called df4\n\n::: callout-tip\n-   R: use the [odata_submission_get](https://docs.ropensci.org/ruODK/reference/odata_submission_get.html) function from the `ruODK` package [@mayer20].\n-   Python: use functions from the `pyODK` package.\n:::\n\n```{r}\n#| echo: true\n# Write your code here\n```\n\n::: callout-important\nFor advanced users: encrypted data can only be retrieved through the RESTful API.\n:::\n\n## References\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","from":"markdown+emoji","output-file":"manipulate_data.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.37","bibliography":["references.bib"],"editor":"visual","theme":"cosmo","title":"Manipulate data"},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","from":"markdown+emoji","output-file":"manipulate_data.pdf"},"language":{},"metadata":{"block-headings":true,"bibliography":["references.bib"],"editor":"visual","documentclass":"scrreprt","title":"Manipulate data"},"extensions":{"book":{}}}}}