{"title":":blue_book: Manipulate data","markdown":{"yaml":{"title":":blue_book: Manipulate data","execute":{"warning":false}},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n\n::: callout-important\nRemember that with Quarto you can store multiple data sets in memory (stored in different data frames `df1`, `df2`, `df3`, etc) and work in parallel on all these data sets.\n:::\n\n## Import data\n\n::: {.panel-tabset}\n\n#### :pencil2: Exercise 1\n\nImport **dataset1.xlsx** using Stata and store it in `df1`\n\n```{r}\n#| echo: fenced\n# Write your code here\n```\n\n#### :eyes: Solution\n\n```{r}\n#| echo: fenced\ndf1 <- openxlsx::read.xlsx(\"./data/dataset1a.xlsx\")\n```\n\n:::\n\n## Piping\n\nPackage `dplyr`\n\nPipes are a powerful tool for clearly expressing a sequence of multiple operations. So far, you’ve been using them without knowing how they work, or what the alternatives are. Now, in this chapter, it’s time to explore the pipe in more detail. You’ll learn the alternatives to the pipe, when you shouldn’t use the pipe, and some useful related tools.\n\n## Structure of the data\n\n### Inspect the structure of the data\n\n```{r}\n#| echo: fenced\nlibrary(skimr)\n```\n\n```{r}\n#| echo: fenced\ndf1 <- df1 %>%\n  tibble::remove_rownames() %>%\n  tibble::column_to_rownames(var=\"child_ID\")\n```\n\n\n```{r}\n#| echo: fenced\ndf1 %>%\n  skimr::skim()\n```\nA categorical variable is:\n\na) a variable with only two different possible values\nb) a variable with continuous numerical values\nc) a variable with a finite set of possible values\n\nSelect a single answer\n\n### Convert \n\nFunction mutate across\n\n### Add new columns\n\nFunction mutate\n\n## Descriptive statistics\n\nPackage `gtsummary`\n\n```{{r}}\ninstall.packages(\"gtsummary\")\n```\n\n```{r}\n#| echo: fenced\nlibrary(gtsummary)\n```\n\n```{r}\n#| echo: fenced\ndf1 %>% \n  gtsummary::tbl_summary()\n```\n## Filter data\n\n## Concatenate data\n\ncbind\nrbind\n\n## Visualise data\n\n## Plot\n\nPackage `ggplot2`\n\n```{{r}}\ninstall.packages(\"ggplot2\")\n```\n\n## Explore data\n\nPackage `DataExplorer`\n\n```{{r}}\ninstall.packages(\"DataExplorer\")\n```\n\n```{r}\nlibrary(DataExplorer)\n```\n\n```{r}\nDataExplorer::plot_missing(df1)\n```\n\n```{r}\nDataExplorer::plot_missing(df1)\n```\n\n## Manipulate Python and R data\n\n::: {.panel-tabset}\n\n#### :pencil2: Exercise 1\n\n1. Import **dataset1.xlsx** using Stata and store it in `df1`\n\n```{r}\n#| echo: fenced\n# Write your code here\n```\n\n2. Import **dataset1.csv** using Python and store it in `df2`\n\n```{python}\n#| echo: fenced\n# Write your code here\n```\n\n3. Compare `df1`and `df2`. Can you indicate what variable has been modified in **dataset1** between df1 and df2?\n\n::: callout-tip\nUse the R function **comparedf**\n:::\n\n```{r}\n#| echo: fenced\n# Write your code here\n```\n\n#### :eyes: Solution\n\n1. Import **dataset1.xlsx** using Stata and store it in `df1`\n\n```{r}\n#| echo: fenced\nlibrary(RStata)\ndf1 <- RStata::stata(\"import excel ./data/dataset1a.xlsx\",\n                     data.out = TRUE)\n```\n\n2. Import **dataset1.csv** using Python and store it in `df2`\n\n```{python}\n#| include: false\nimport warnings\nwarnings.filterwarnings('ignore')\n```\n\n```{python}\n#| echo: fenced\nimport pandas as pd\ndf2 = pd.read_csv('./data/dataset1b.csv')\n```\n\n3. Compare `df1`and `df2`.\n\n```{r}\n#| echo: fenced\nlibrary(reticulate)\narsenal::comparedf(df1, py$df2)\n```\n:::","srcMarkdownNoYaml":"\n\n## Introduction\n\n::: callout-important\nRemember that with Quarto you can store multiple data sets in memory (stored in different data frames `df1`, `df2`, `df3`, etc) and work in parallel on all these data sets.\n:::\n\n## Import data\n\n::: {.panel-tabset}\n\n#### :pencil2: Exercise 1\n\nImport **dataset1.xlsx** using Stata and store it in `df1`\n\n```{r}\n#| echo: fenced\n# Write your code here\n```\n\n#### :eyes: Solution\n\n```{r}\n#| echo: fenced\ndf1 <- openxlsx::read.xlsx(\"./data/dataset1a.xlsx\")\n```\n\n:::\n\n## Piping\n\nPackage `dplyr`\n\nPipes are a powerful tool for clearly expressing a sequence of multiple operations. So far, you’ve been using them without knowing how they work, or what the alternatives are. Now, in this chapter, it’s time to explore the pipe in more detail. You’ll learn the alternatives to the pipe, when you shouldn’t use the pipe, and some useful related tools.\n\n## Structure of the data\n\n### Inspect the structure of the data\n\n```{r}\n#| echo: fenced\nlibrary(skimr)\n```\n\n```{r}\n#| echo: fenced\ndf1 <- df1 %>%\n  tibble::remove_rownames() %>%\n  tibble::column_to_rownames(var=\"child_ID\")\n```\n\n\n```{r}\n#| echo: fenced\ndf1 %>%\n  skimr::skim()\n```\nA categorical variable is:\n\na) a variable with only two different possible values\nb) a variable with continuous numerical values\nc) a variable with a finite set of possible values\n\nSelect a single answer\n\n### Convert \n\nFunction mutate across\n\n### Add new columns\n\nFunction mutate\n\n## Descriptive statistics\n\nPackage `gtsummary`\n\n```{{r}}\ninstall.packages(\"gtsummary\")\n```\n\n```{r}\n#| echo: fenced\nlibrary(gtsummary)\n```\n\n```{r}\n#| echo: fenced\ndf1 %>% \n  gtsummary::tbl_summary()\n```\n## Filter data\n\n## Concatenate data\n\ncbind\nrbind\n\n## Visualise data\n\n## Plot\n\nPackage `ggplot2`\n\n```{{r}}\ninstall.packages(\"ggplot2\")\n```\n\n## Explore data\n\nPackage `DataExplorer`\n\n```{{r}}\ninstall.packages(\"DataExplorer\")\n```\n\n```{r}\nlibrary(DataExplorer)\n```\n\n```{r}\nDataExplorer::plot_missing(df1)\n```\n\n```{r}\nDataExplorer::plot_missing(df1)\n```\n\n## Manipulate Python and R data\n\n::: {.panel-tabset}\n\n#### :pencil2: Exercise 1\n\n1. Import **dataset1.xlsx** using Stata and store it in `df1`\n\n```{r}\n#| echo: fenced\n# Write your code here\n```\n\n2. Import **dataset1.csv** using Python and store it in `df2`\n\n```{python}\n#| echo: fenced\n# Write your code here\n```\n\n3. Compare `df1`and `df2`. Can you indicate what variable has been modified in **dataset1** between df1 and df2?\n\n::: callout-tip\nUse the R function **comparedf**\n:::\n\n```{r}\n#| echo: fenced\n# Write your code here\n```\n\n#### :eyes: Solution\n\n1. Import **dataset1.xlsx** using Stata and store it in `df1`\n\n```{r}\n#| echo: fenced\nlibrary(RStata)\ndf1 <- RStata::stata(\"import excel ./data/dataset1a.xlsx\",\n                     data.out = TRUE)\n```\n\n2. Import **dataset1.csv** using Python and store it in `df2`\n\n```{python}\n#| include: false\nimport warnings\nwarnings.filterwarnings('ignore')\n```\n\n```{python}\n#| echo: fenced\nimport pandas as pd\ndf2 = pd.read_csv('./data/dataset1b.csv')\n```\n\n3. Compare `df1`and `df2`.\n\n```{r}\n#| echo: fenced\nlibrary(reticulate)\narsenal::comparedf(df1, py$df2)\n```\n:::"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","from":"markdown+emoji","output-file":"manipulate_data.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.553","bibliography":["references.bib"],"csl":"vancouver.csl","theme":"cosmo","title":":blue_book: Manipulate data"},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","from":"markdown+emoji","output-file":"manipulate_data.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"block-headings":true,"bibliography":["references.bib"],"csl":"vancouver.csl","documentclass":"scrreprt","title":":blue_book: Manipulate data"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}