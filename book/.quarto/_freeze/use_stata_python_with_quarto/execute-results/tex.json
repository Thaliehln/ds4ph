{
  "hash": "584a2f36156e1dd3e2f8845243157f71",
  "result": {
    "markdown": "---\ntitle: \":blue_book: Code chunks\"\nwarning: false\n---\n\n\n\n## Introduction\n\nAs the number of programming languages used for scientific discourse is very broad, Quarto was developed to be multilingual, beginning with R, Python, Javascript, and Julia. building on the RStudio (R) and Jupyter (Python, Julia) ecosystems which are very popular.\n\nIn this section, we will see how to use and mix R, Stata and Python within Quarto so that you can make the most out of it.\n\n## Create code chunks\n\n::: callout-tip\n\n* Use backticks\n* Click on icon\n* Keyboard shortcut `Ctrl` + `Alt` + `I`\n\n:::\n\n## R code chunks\n\n::: callout-note\nA **data frame** is a two-dimensional array-like structure that contains rows and columns.\n:::\n\nTo store the content of the *iris* data set in data frame `df`, you can use `=` (*equal*) but good practice recommend using `<-` (*back arrow*) to indicate the direction of your allocation.\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\ndf <- iris\n```\n````\n:::\n\n\n\nHow to display data\n\n\n\n::: {.cell df-print='kable'}\n\n````{.cell-code}\n```{{r}}\n#| df-print: kable\nlibrary(dplyr)\nknitr::kable(head(df, 10))\n```\n````\n\n::: {.cell-output-display}\n| Sepal.Length| Sepal.Width| Petal.Length| Petal.Width|Species |\n|------------:|-----------:|------------:|-----------:|:-------|\n|          5.1|         3.5|          1.4|         0.2|setosa  |\n|          4.9|         3.0|          1.4|         0.2|setosa  |\n|          4.7|         3.2|          1.3|         0.2|setosa  |\n|          4.6|         3.1|          1.5|         0.2|setosa  |\n|          5.0|         3.6|          1.4|         0.2|setosa  |\n|          5.4|         3.9|          1.7|         0.4|setosa  |\n|          4.6|         3.4|          1.4|         0.3|setosa  |\n|          5.0|         3.4|          1.5|         0.2|setosa  |\n|          4.4|         2.9|          1.4|         0.2|setosa  |\n|          4.9|         3.1|          1.5|         0.1|setosa  |\n:::\n:::\n\n\n\nThe pipe operator\n\n\n\n::: {.cell df-print='kable'}\n\n````{.cell-code}\n```{{r}}\n#| df-print: kable\nlibrary(dplyr)\ndf %>%\n  head(10) %>%\n  knitr::kable()\n```\n````\n\n::: {.cell-output-display}\n| Sepal.Length| Sepal.Width| Petal.Length| Petal.Width|Species |\n|------------:|-----------:|------------:|-----------:|:-------|\n|          5.1|         3.5|          1.4|         0.2|setosa  |\n|          4.9|         3.0|          1.4|         0.2|setosa  |\n|          4.7|         3.2|          1.3|         0.2|setosa  |\n|          4.6|         3.1|          1.5|         0.2|setosa  |\n|          5.0|         3.6|          1.4|         0.2|setosa  |\n|          5.4|         3.9|          1.7|         0.4|setosa  |\n|          4.6|         3.4|          1.4|         0.3|setosa  |\n|          5.0|         3.4|          1.5|         0.2|setosa  |\n|          4.4|         2.9|          1.4|         0.2|setosa  |\n|          4.9|         3.1|          1.5|         0.1|setosa  |\n:::\n:::\n\n\n\nYou can cross-reference your table @tbl-iris\n\n\n\n::: {#tbl-iris .cell tbl-cap='Iris data set' df-print='kable'}\n\n````{.cell-code}\n```{{r}}\n#| label: tbl-iris\n#| tbl-cap: Iris data set\n#| df-print: kable\ndf %>% \n  knitr::kable()\n```\n````\n\n::: {.cell-output-display}\n| Sepal.Length| Sepal.Width| Petal.Length| Petal.Width|Species    |\n|------------:|-----------:|------------:|-----------:|:----------|\n|          5.1|         3.5|          1.4|         0.2|setosa     |\n|          4.9|         3.0|          1.4|         0.2|setosa     |\n|          4.7|         3.2|          1.3|         0.2|setosa     |\n|          4.6|         3.1|          1.5|         0.2|setosa     |\n|          5.0|         3.6|          1.4|         0.2|setosa     |\n|          5.4|         3.9|          1.7|         0.4|setosa     |\n|          4.6|         3.4|          1.4|         0.3|setosa     |\n|          5.0|         3.4|          1.5|         0.2|setosa     |\n|          4.4|         2.9|          1.4|         0.2|setosa     |\n|          4.9|         3.1|          1.5|         0.1|setosa     |\n|          5.4|         3.7|          1.5|         0.2|setosa     |\n|          4.8|         3.4|          1.6|         0.2|setosa     |\n|          4.8|         3.0|          1.4|         0.1|setosa     |\n|          4.3|         3.0|          1.1|         0.1|setosa     |\n|          5.8|         4.0|          1.2|         0.2|setosa     |\n|          5.7|         4.4|          1.5|         0.4|setosa     |\n|          5.4|         3.9|          1.3|         0.4|setosa     |\n|          5.1|         3.5|          1.4|         0.3|setosa     |\n|          5.7|         3.8|          1.7|         0.3|setosa     |\n|          5.1|         3.8|          1.5|         0.3|setosa     |\n|          5.4|         3.4|          1.7|         0.2|setosa     |\n|          5.1|         3.7|          1.5|         0.4|setosa     |\n|          4.6|         3.6|          1.0|         0.2|setosa     |\n|          5.1|         3.3|          1.7|         0.5|setosa     |\n|          4.8|         3.4|          1.9|         0.2|setosa     |\n|          5.0|         3.0|          1.6|         0.2|setosa     |\n|          5.0|         3.4|          1.6|         0.4|setosa     |\n|          5.2|         3.5|          1.5|         0.2|setosa     |\n|          5.2|         3.4|          1.4|         0.2|setosa     |\n|          4.7|         3.2|          1.6|         0.2|setosa     |\n|          4.8|         3.1|          1.6|         0.2|setosa     |\n|          5.4|         3.4|          1.5|         0.4|setosa     |\n|          5.2|         4.1|          1.5|         0.1|setosa     |\n|          5.5|         4.2|          1.4|         0.2|setosa     |\n|          4.9|         3.1|          1.5|         0.2|setosa     |\n|          5.0|         3.2|          1.2|         0.2|setosa     |\n|          5.5|         3.5|          1.3|         0.2|setosa     |\n|          4.9|         3.6|          1.4|         0.1|setosa     |\n|          4.4|         3.0|          1.3|         0.2|setosa     |\n|          5.1|         3.4|          1.5|         0.2|setosa     |\n|          5.0|         3.5|          1.3|         0.3|setosa     |\n|          4.5|         2.3|          1.3|         0.3|setosa     |\n|          4.4|         3.2|          1.3|         0.2|setosa     |\n|          5.0|         3.5|          1.6|         0.6|setosa     |\n|          5.1|         3.8|          1.9|         0.4|setosa     |\n|          4.8|         3.0|          1.4|         0.3|setosa     |\n|          5.1|         3.8|          1.6|         0.2|setosa     |\n|          4.6|         3.2|          1.4|         0.2|setosa     |\n|          5.3|         3.7|          1.5|         0.2|setosa     |\n|          5.0|         3.3|          1.4|         0.2|setosa     |\n|          7.0|         3.2|          4.7|         1.4|versicolor |\n|          6.4|         3.2|          4.5|         1.5|versicolor |\n|          6.9|         3.1|          4.9|         1.5|versicolor |\n|          5.5|         2.3|          4.0|         1.3|versicolor |\n|          6.5|         2.8|          4.6|         1.5|versicolor |\n|          5.7|         2.8|          4.5|         1.3|versicolor |\n|          6.3|         3.3|          4.7|         1.6|versicolor |\n|          4.9|         2.4|          3.3|         1.0|versicolor |\n|          6.6|         2.9|          4.6|         1.3|versicolor |\n|          5.2|         2.7|          3.9|         1.4|versicolor |\n|          5.0|         2.0|          3.5|         1.0|versicolor |\n|          5.9|         3.0|          4.2|         1.5|versicolor |\n|          6.0|         2.2|          4.0|         1.0|versicolor |\n|          6.1|         2.9|          4.7|         1.4|versicolor |\n|          5.6|         2.9|          3.6|         1.3|versicolor |\n|          6.7|         3.1|          4.4|         1.4|versicolor |\n|          5.6|         3.0|          4.5|         1.5|versicolor |\n|          5.8|         2.7|          4.1|         1.0|versicolor |\n|          6.2|         2.2|          4.5|         1.5|versicolor |\n|          5.6|         2.5|          3.9|         1.1|versicolor |\n|          5.9|         3.2|          4.8|         1.8|versicolor |\n|          6.1|         2.8|          4.0|         1.3|versicolor |\n|          6.3|         2.5|          4.9|         1.5|versicolor |\n|          6.1|         2.8|          4.7|         1.2|versicolor |\n|          6.4|         2.9|          4.3|         1.3|versicolor |\n|          6.6|         3.0|          4.4|         1.4|versicolor |\n|          6.8|         2.8|          4.8|         1.4|versicolor |\n|          6.7|         3.0|          5.0|         1.7|versicolor |\n|          6.0|         2.9|          4.5|         1.5|versicolor |\n|          5.7|         2.6|          3.5|         1.0|versicolor |\n|          5.5|         2.4|          3.8|         1.1|versicolor |\n|          5.5|         2.4|          3.7|         1.0|versicolor |\n|          5.8|         2.7|          3.9|         1.2|versicolor |\n|          6.0|         2.7|          5.1|         1.6|versicolor |\n|          5.4|         3.0|          4.5|         1.5|versicolor |\n|          6.0|         3.4|          4.5|         1.6|versicolor |\n|          6.7|         3.1|          4.7|         1.5|versicolor |\n|          6.3|         2.3|          4.4|         1.3|versicolor |\n|          5.6|         3.0|          4.1|         1.3|versicolor |\n|          5.5|         2.5|          4.0|         1.3|versicolor |\n|          5.5|         2.6|          4.4|         1.2|versicolor |\n|          6.1|         3.0|          4.6|         1.4|versicolor |\n|          5.8|         2.6|          4.0|         1.2|versicolor |\n|          5.0|         2.3|          3.3|         1.0|versicolor |\n|          5.6|         2.7|          4.2|         1.3|versicolor |\n|          5.7|         3.0|          4.2|         1.2|versicolor |\n|          5.7|         2.9|          4.2|         1.3|versicolor |\n|          6.2|         2.9|          4.3|         1.3|versicolor |\n|          5.1|         2.5|          3.0|         1.1|versicolor |\n|          5.7|         2.8|          4.1|         1.3|versicolor |\n|          6.3|         3.3|          6.0|         2.5|virginica  |\n|          5.8|         2.7|          5.1|         1.9|virginica  |\n|          7.1|         3.0|          5.9|         2.1|virginica  |\n|          6.3|         2.9|          5.6|         1.8|virginica  |\n|          6.5|         3.0|          5.8|         2.2|virginica  |\n|          7.6|         3.0|          6.6|         2.1|virginica  |\n|          4.9|         2.5|          4.5|         1.7|virginica  |\n|          7.3|         2.9|          6.3|         1.8|virginica  |\n|          6.7|         2.5|          5.8|         1.8|virginica  |\n|          7.2|         3.6|          6.1|         2.5|virginica  |\n|          6.5|         3.2|          5.1|         2.0|virginica  |\n|          6.4|         2.7|          5.3|         1.9|virginica  |\n|          6.8|         3.0|          5.5|         2.1|virginica  |\n|          5.7|         2.5|          5.0|         2.0|virginica  |\n|          5.8|         2.8|          5.1|         2.4|virginica  |\n|          6.4|         3.2|          5.3|         2.3|virginica  |\n|          6.5|         3.0|          5.5|         1.8|virginica  |\n|          7.7|         3.8|          6.7|         2.2|virginica  |\n|          7.7|         2.6|          6.9|         2.3|virginica  |\n|          6.0|         2.2|          5.0|         1.5|virginica  |\n|          6.9|         3.2|          5.7|         2.3|virginica  |\n|          5.6|         2.8|          4.9|         2.0|virginica  |\n|          7.7|         2.8|          6.7|         2.0|virginica  |\n|          6.3|         2.7|          4.9|         1.8|virginica  |\n|          6.7|         3.3|          5.7|         2.1|virginica  |\n|          7.2|         3.2|          6.0|         1.8|virginica  |\n|          6.2|         2.8|          4.8|         1.8|virginica  |\n|          6.1|         3.0|          4.9|         1.8|virginica  |\n|          6.4|         2.8|          5.6|         2.1|virginica  |\n|          7.2|         3.0|          5.8|         1.6|virginica  |\n|          7.4|         2.8|          6.1|         1.9|virginica  |\n|          7.9|         3.8|          6.4|         2.0|virginica  |\n|          6.4|         2.8|          5.6|         2.2|virginica  |\n|          6.3|         2.8|          5.1|         1.5|virginica  |\n|          6.1|         2.6|          5.6|         1.4|virginica  |\n|          7.7|         3.0|          6.1|         2.3|virginica  |\n|          6.3|         3.4|          5.6|         2.4|virginica  |\n|          6.4|         3.1|          5.5|         1.8|virginica  |\n|          6.0|         3.0|          4.8|         1.8|virginica  |\n|          6.9|         3.1|          5.4|         2.1|virginica  |\n|          6.7|         3.1|          5.6|         2.4|virginica  |\n|          6.9|         3.1|          5.1|         2.3|virginica  |\n|          5.8|         2.7|          5.1|         1.9|virginica  |\n|          6.8|         3.2|          5.9|         2.3|virginica  |\n|          6.7|         3.3|          5.7|         2.5|virginica  |\n|          6.7|         3.0|          5.2|         2.3|virginica  |\n|          6.3|         2.5|          5.0|         1.9|virginica  |\n|          6.5|         3.0|          5.2|         2.0|virginica  |\n|          6.2|         3.4|          5.4|         2.3|virginica  |\n|          5.9|         3.0|          5.1|         1.8|virginica  |\n:::\n:::\n\n\n\n## Execute Stata commands within R code chunks\n\nStata is not a language supported by Quarto. To use Stata within Quarto, you have to use the [RStata](https://cran.r-project.org/web/packages/RStata/README.html) R package, which is a simple R / Stata interface that enables you to:\n\n* execute Stata commands (inline or from a `.do` file) from R;\n* pass a data frame to Stata;\n* return Stata outputs (including modified data frames) to R.\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nif ( !require(RStata) ) {\n  install.packages('RStata')\n}\nlibrary(RStata)\n```\n````\n:::\n\n\n\n### Configure RStudio to execute Stata\n\n#### Find your Stata binary path\n\nThe function `chooseStataBin` from the `RStata` library allows you to browse and set the path to your Stata binary executable.\n\n```{{r}}\nstata_bin_path <- RStata::chooseStataBin()\nprint(stata_bin_path)\n```\n\nWhen you run this code, you should normally get a path which is of the format: **\"\\\"C:\\\\Program Files\\\\Stata16\\\\StataIC-64\\\"\"**. Note that the `.exe` extension has been removed from this path. It is important that you keep the format as is, as otherwise your Stata engine will not be recognised.\n\n#### Add your Stata binary path to your .Rprofile\n\nThe Stata binary path setting we just created is just for your current RStudio session and it will be lost once your RStudio is closed.\nTo keep this setting each time you are using RStudio and avoid havin to reconfigure RStata each time you are restarting RStudio, let us add the Stata binary path as an option to `.Rprofile`, which is your user-specific R configuration file.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(usethis)\n```\n:::\n\n\n\n`Usethis` is a workflow package: it automates repetitive tasks that arise during project setup and development, both for R packages and non-package projects.\n\nThe function `edit_r_profile` from the `usethis` library allows to open your configuration file `.Rprofile`.\n\n```{{r}}\nusethis::edit_r_profile(\"user\")\n```\n\nAdd the following two lines in the Rprofile file that you have just opened:\n\n* options(\"RStata.StataPath\" = ...)\n* options(\"RStata.StataVersion\" = ...)\n\nYou need to indicate the path to your Stata binary executable in the `RStata.StataPath` option (e.g., \"\\\"C:\\\\Program Files\\\\Stata16\\\\StataIC-64\\\"\") and the version of your Stata (e.g., 16) in the `RStata.StataVersion` option.\n\nafter indicating the path and version your code should look as specified below\n\n* options(\"RStata.StataPath\" = \"\\\"C:\\\\Program Files (x86)\\\\Stata15\\\\Stata-64\\\"\")\n* options(\"RStata.StataVersion\" = 15)\n\nOnce you are done, save and close your `.Rprofile`.\n\n## Python code chunks\n\n::: callout-warning\nThis section is for (advanced) Python/R Markdown users only\n:::\n\nYou still need to import the R package `reticulate` if you want to use the Knitr engine and manipulate Python objects within R code chunks.\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nlibrary(reticulate)\n```\n````\n:::\n\n\n\n### Call R objects in Python code chunks\n\nR objects can be manipulated in Python code chunks by referring to them as `r.`\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nval <- 10\n```\n````\n:::\n\n::: {.cell}\n\n````{.cell-code}\n```{{python}}\nval = 5\nprint(r.val)\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n```\n10.0\n```\n:::\n:::\n\n\n\n### Call Python objects in R code chunks\n\nPython objects can be manipulated in R code chunks by referring to them as `py$`\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nprint(val)\nprint(py$val)\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10\n[1] 5\n```\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}