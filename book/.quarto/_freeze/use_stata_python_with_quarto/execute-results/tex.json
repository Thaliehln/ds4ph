{
  "hash": "75277bdfd126d83921952390fb3d8d19",
  "result": {
    "markdown": "---\ntitle: \":blue_book: Transition from Stata to R\"\nwarning: false\n---\n\n\n\n## Execute Stata commands within R code chunks\n\nStata is not a language supported by Quarto. To use Stata within Quarto, you have to use the [RStata](https://cran.r-project.org/web/packages/RStata/README.html) R package, which is a simple R / Stata interface that enables you to:\n\n* execute Stata commands (inline or from a `.do` file) from R;\n* pass a data frame to Stata;\n* return Stata outputs (including modified data frames) to R.\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nif ( !require(RStata) ) {\n  install.packages('RStata')\n}\nlibrary(RStata)\n```\n````\n:::\n\n\n\n### Configure RStudio to execute Stata\n\n#### Find your Stata binary path\n\nThe function `chooseStataBin` from the `RStata` library allows you to browse and set the path to your Stata binary executable.\n\n```{{r}}\nstata_bin_path <- RStata::chooseStataBin()\nprint(stata_bin_path)\n```\n\nWhen you run this code, you should normally get a path which is of the format: **\"\\\"C:\\\\Program Files\\\\Stata16\\\\StataIC-64\\\"\"**. Note that the `.exe` extension has been removed from this path. It is important that you keep the format as is, as otherwise your Stata engine will not be recognised.\n\n#### Add your Stata binary path to your .Rprofile\n\nThe Stata binary path setting we just created is just for your current RStudio session and it will be lost once your RStudio is closed.\nTo keep this setting each time you are using RStudio and avoid havin to reconfigure RStata each time you are restarting RStudio, let us add the Stata binary path as an option to `.Rprofile`, which is your user-specific R configuration file.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(usethis)\n```\n:::\n\n\n\n`Usethis` is a workflow package: it automates repetitive tasks that arise during project setup and development, both for R packages and non-package projects.\n\nThe function `edit_r_profile` from the `usethis` library allows to open your configuration file `.Rprofile`.\n\n```{{r}}\nusethis::edit_r_profile(\"user\")\n```\n\nAdd the following two lines in the Rprofile file that you have just opened:\n\n```{{r}}\noptions(\"RStata.StataPath\" = ...)\noptions(\"RStata.StataVersion\" = ...)\n```\n\nYou need to indicate the path to your Stata binary executable in the `RStata.StataPath` option (e.g., \"\\\"C:\\\\Program Files\\\\Stata16\\\\StataIC-64\\\"\") and the version of your Stata (e.g., 16) in the `RStata.StataVersion` option.\n\nafter indicating the path and version your code should look as specified below\n\n```{{r}}\noptions(\"RStata.StataPath\" = \"\\\"C:\\\\Program Files (x86)\\\\Stata15\\\\Stata-64\\\"\")\noptions(\"RStata.StataVersion\" = 15)\n```\n\nOnce you are done, save and close your `.Rprofile`.\n\n## Python code chunks\n\n::: callout-warning\nThis section is for (advanced) Python/R Markdown users only\n:::\n\nYou still need to import the R package `reticulate` if you want to use the Knitr engine and manipulate Python objects within R code chunks.\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nlibrary(reticulate)\n```\n````\n:::\n\n\n\n### Call R objects in Python code chunks\n\nR objects can be manipulated in Python code chunks by referring to them as `r.`\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nval <- 10\n```\n````\n:::\n\n::: {.cell}\n\n````{.cell-code}\n```{{python}}\nval = 5\nprint(r.val)\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n```\n10.0\n```\n:::\n:::\n\n\n\n### Call Python objects in R code chunks\n\nPython objects can be manipulated in R code chunks by referring to them as `py$`\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nprint(val)\nprint(py$val)\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10\n[1] 5\n```\n:::\n:::",
    "supporting": [
      "use_stata_python_with_quarto_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}