# Day 2 - Session 01

TBD

## Malaria research questions

Research questions in an enumerated list

## Dataset description

Information about the consultations of **10,308 children \[1 day - 59 months\]** from **18 facilities** (dispensaries and health centres) in **Kaliua** District, **Sengerema** District and **Tanga** District, Tanzania. Data were collected using *ODK* (ODK Collect, ODK Central) between **start date** and **end date**. Data were made available by IHI and Swiss TPH and the Tools for Integrated Management of Childhood Illness (TIMCI) project. Data are stored in **dataset1.dta**.

### Data collection

Research assistants recorded the following information from different sources:

-   from the caregiver:
    -   sociodemographic information
    -   information on treatment received before consultation
    -   **clinical presentation** (variables starting with the suffix **CLIN**)
    -   laboratory investigations (variables starting with the suffix **TEST**)
    -   diagnosis (variables starting with the suffix **DX**)
    -   prescribed medication (variables starting with the suffix **RX**)
    -   referral advice will be extracted from clinical notes and / or facility registers (variables starting with the suffix **MGMT**).

Research assistants sought clarification from healthcare providers only in cases where these variables were not clear from the records.

## Data cleaning and data de-identification

Personally identifiable information (PII) were removed.

### Dataset structure

Load the data and show the structure of your dataset

### Codebook

## Familiarise with the dataset

## Import the data

Read the dataset and store it into a dataframe called **df**.

::: callout-tip
Refer to previous session (link to add)
:::

```{r}
#| echo: true
# Write your code here
```

```{r}
library(haven)
df <- haven::read_dta("./data/dataset10.dta")
```

```{r}
#| knitr: kable
library(dplyr)
df %>%
  head(5) %>%
  dplyr::select(c("child_ID", "CONSULT_district"))
```

## Structure of the data

Examine the structure of the data, including variable names, labels.

::: callout-tip
-   Stata: use the **codebook** function
-   R: use the [skim](https://docs.ropensci.org/skimr/reference/skim.html) function from the `skimr` package
:::

```{r}
#| echo: true
# Write your code here
```

```{r}
library(RStata)
RStata::stata("codebook",
              data.in = df)
```

```{r}
library(skimr)
skimr::skim(df)
```

::: callout-tip
-   R: use the [tbl_summary](https://www.danieldsjoberg.com/gtsummary/reference/tbl_summary.html) function from the `gtsummary` package
:::

```{r}
#| df-print: kable
library(gtsummary)
gtsummary::tbl_summary(df)
```

## Identify missing values

Identify missing values in each variable: missing_plot

```{r}
library(finalfit)
explanatory = c("CONSULT_facility_ID", "CONSULT_district", "CLIN_fever")
dependent = "DX_malaria"

df %>% 
  finalfit::missing_pattern(dependent, explanatory)
```

## Data analysis plan

For now, all you need to include in this section is which variables from the dataset you plan to use, and what associations between them you will investigate to help answer your research question.

## References

* Skimr package
