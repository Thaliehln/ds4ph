% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod,
  oneside]{scrreprt}

\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[left=1in,marginparwidth=2.0666666666667in,textwidth=4.1333333333333in,marginparsep=0.3in]{geometry}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{5}
% Make \paragraph and \subparagraph free-standing
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newlength{\cslentryspacingunit} % times entry-spacing
\setlength{\cslentryspacingunit}{\parskip}
\newenvironment{CSLReferences}[2] % #1 hanging-ident, #2 entry spacing
 {% don't indent paragraphs
  \setlength{\parindent}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1
  \let\oldpar\par
  \def\par{\hangindent=\cslhangindent\oldpar}
  \fi
  % set entry spacing
  \setlength{\parskip}{#2\cslentryspacingunit}
 }%
 {}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{#1\hfill\break}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{#1}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{#1}\break}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}

\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[many]{tcolorbox}}
\@ifpackageloaded{fontawesome5}{}{\usepackage{fontawesome5}}
\definecolor{quarto-callout-color}{HTML}{909090}
\definecolor{quarto-callout-note-color}{HTML}{0758E5}
\definecolor{quarto-callout-important-color}{HTML}{CC1914}
\definecolor{quarto-callout-warning-color}{HTML}{EB9113}
\definecolor{quarto-callout-tip-color}{HTML}{00A047}
\definecolor{quarto-callout-caution-color}{HTML}{FC5300}
\definecolor{quarto-callout-color-frame}{HTML}{acacac}
\definecolor{quarto-callout-note-color-frame}{HTML}{4582ec}
\definecolor{quarto-callout-important-color-frame}{HTML}{d9534f}
\definecolor{quarto-callout-warning-color-frame}{HTML}{f0ad4e}
\definecolor{quarto-callout-tip-color-frame}{HTML}{02b875}
\definecolor{quarto-callout-caution-color-frame}{HTML}{fd7e14}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{bookmark}{}{\usepackage{bookmark}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[many]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}
\makeatother
\makeatletter
\@ifpackageloaded{sidenotes}{}{\usepackage{sidenotes}}
\@ifpackageloaded{marginnote}{}{\usepackage{marginnote}}
\makeatother
\makeatletter
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Data Science for Public Health},
  pdfauthor={Hélène Langet; Samwel Lwambura; Fenella Beynon; Silvia Cicconi; Gillian Levine; Ibrahim Mtebene; Fabian Schär},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}

\title{Data Science for Public Health}
\usepackage{etoolbox}
\makeatletter
\providecommand{\subtitle}[1]{% add subtitle to \maketitle
  \apptocmd{\@title}{\par {\large #1 \par}}{}{}
}
\makeatother
\subtitle{Test}
\author{Hélène Langet \and Samwel Lwambura \and Fenella
Beynon \and Silvia Cicconi \and Gillian Levine \and Ibrahim
Mtebene \and Fabian Schär}
\date{2022-10-31T00:00:00+01:00}

\begin{document}
\maketitle
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[borderline west={3pt}{0pt}{shadecolor}, frame hidden, breakable, boxrule=0pt, interior hidden, enhanced, sharp corners]}{\end{tcolorbox}}\fi

\renewcommand*\contentsname{Table of contents}
{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}
\bookmarksetup{startatroot}

\hypertarget{preface}{%
\chapter*{Preface}\label{preface}}
\addcontentsline{toc}{chapter}{Preface}

\hypertarget{introduction}{%
\section*{Introduction}\label{introduction}}
\addcontentsline{toc}{section}{Introduction}

Data science and artificial intelligence have the potential to generate
fundamentally new insights on global health policies in Africa, but the
full realization of this potential depends on the availability of a
critical mass of highly trained health data scientists on the continent.

This electronic book was created by Hélène Langet, Fenella Beynon,
Fabian Schär, Silvia Cicconi and Gillian Levine from the
\href{https://www.swisstph.ch}{Swiss Tropical \& Public Health Institute
(Swiss TPH)} and Samwel Lwambura (IHI) from the
\href{https://ihi.or.tz/}{Ifakara Health Institute (IHI)} to accompany
the \textbf{Data Science for Public Health} workshop which will be held
in Dar-es-Salaam from Monday,September 26th to Wednesday, September 28th
2022.

The goal of this workshop is to enable researchers from the Ifakara
Health Institute (IHI) to strengthen their expertise in the area and to
lay the foundations for the development of a data science curriculum
that is adapted to IHI's needs.

This work is the product of interdisciplinary discussions with Abdallah
Mkopi, Grace Mhalu, Robert Moshiro from IHI and feedback from Hajirani
Msuya and Martine Masonda, the first group to use these notebooks.

\hypertarget{license}{%
\section*{License}\label{license}}
\addcontentsline{toc}{section}{License}

\includegraphics{https://i.creativecommons.org/l/by/4.0/88x31.png} This
book is licensed under a
\href{https://creativecommons.org/licenses/by/4.0/}{Attribution 4.0
International (CC BY 4.0)}.

You are free to:

\begin{itemize}
\tightlist
\item
  Share --- copy and redistribute the material in any medium or format
\item
  Adapt --- remix, transform, and build upon the material for any
  purpose, even commercially.
\end{itemize}

Under the following terms:

\begin{itemize}
\tightlist
\item
  Attribution --- You must give appropriate credit, provide a link to
  the license, and indicate if changes were made. You may do so in any
  reasonable manner, but not in any way that suggests the licensor
  endorses you or your use.
\item
  No additional restrictions --- You may not apply legal terms or
  technological measures that legally restrict others from doing
  anything the license permits.
\end{itemize}

\hypertarget{update-history}{%
\section*{Update History}\label{update-history}}
\addcontentsline{toc}{section}{Update History}

\begin{itemize}
\tightlist
\item
  September 25, 2022: First edition.
\end{itemize}

\hypertarget{acknowledgement}{%
\section*{Acknowledgement}\label{acknowledgement}}
\addcontentsline{toc}{section}{Acknowledgement}

This work was funded by the
\href{https://www.swisstph.ch/en/research/leading-house-africa/}{Leading
House Africa (LHA)} which promotes and fosters bilateral collaboration
with partner institutions in Africa.

\bookmarksetup{startatroot}

\hypertarget{introduction-1}{%
\chapter{Introduction}\label{introduction-1}}

Two complementary aspects of moving into data science are:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  the mindset about how scientists think and collaborate about data, and
\item
  the skillsets which is composed of an ecosystem of tools (mostly
  open-source) and practices.
\end{enumerate}

Upon completing the workshop, participants will have gained:

\begin{itemize}
\tightlist
\item
  exposure to data science approach, tools and collaborative practices
\item
  hands-on experience on how to interface between Stata and R, learned
  the basics of working with data in R/RStudio, and how to incrementally
  incorporate R into your existing data analysis workflows in Stata. The
  idea is not to replace everything you do in Stata into R but that you
  can continue your learning after this workshop at your own pace.
\end{itemize}

\hypertarget{is-this-workshop-for-me}{%
\section{Is this workshop for me?}\label{is-this-workshop-for-me}}

This workshop is relevant for individuals who answer yes to the
following questions:

\begin{itemize}
\tightlist
\item[$\square$]
  Do you who want to develop data science projects in public health?
\item[$\square$]
  Do you wants to learn more about how open and reproducible science
  approaches can be used in your daily practice?
\item[$\square$]
  Are you a Stata user (or any other data analysis language) who would
  like to expand your data analysis skillset with R?
\item[$\square$]
  Do you want to bridge analyses between data analysis tools (Stata, R
  or Python) and to more easily collaborate with other researchers who
  use another of these tools?
\end{itemize}

\hypertarget{schedule}{%
\section{Schedule}\label{schedule}}

{🗓️} September 26-28, 2022\\
{🕘} 09:00 - 17:00\\
{🌇} Dar-es-Salaam, Tanzania (Protea Hotel by Marriott Dar es Salaam
Courtyard)

\hypertarget{before-the-workshop}{%
\subsection{Before the workshop}\label{before-the-workshop}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Fill out the online pre-workshop questionnaire
\item
  Install on your laptop the (free) data science software that will be
  used during the workshop. If you have any difficulties with the
  installation, support can be provided on the first day of the workshop
  before the first session or during breaks.
\end{enumerate}

\hypertarget{day-1}{%
\subsection{Day 1}\label{day-1}}

\hypertarget{tbl-day1-schedule}{}
\begin{longtable}[]{@{}
  >{\centering\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2222}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.6528}}@{}}
\caption{\label{tbl-day1-schedule}Schedule Day 1}\tabularnewline
\toprule()
\begin{minipage}[b]{\linewidth}\centering
Time
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Session
\end{minipage} \\
\midrule()
\endfirsthead
\toprule()
\begin{minipage}[b]{\linewidth}\centering
Time
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Session
\end{minipage} \\
\midrule()
\endhead
08.30 - 09.00 & \begin{minipage}[t]{\linewidth}\raggedright
Welcome\\
Support for software installation\strut
\end{minipage} \\
09.00 - 09.15 & \begin{minipage}[t]{\linewidth}\raggedright
Introduction to data science tools\\
Overview of objectives for Day 1\strut
\end{minipage} \\
09.15 - 10.30 & Version control with Git \\
10.30 - 11.00 & {🍵} {☕} Break \\
11.00 -12.00 & Introduction to dynamic documents and Quarto \\
12.00 - 13.00 & Use Quarto with Stata \\
13.00 - 14.00 & {🍴} Lunch break \\
14.00 - 15.00 & Import and manipulate external data (1) \\
15.00 - 15.30 & Import and manipulate external data (2) \\
15.30 - 16.00 & {🍵} {☕} Break \\
16.00 - 17.00 & Share code and Collaborate with Git \\
\bottomrule()
\end{longtable}

\hypertarget{day-2}{%
\subsection{Day 2}\label{day-2}}

\hypertarget{tbl-day2-schedule}{}
\begin{longtable}[]{@{}
  >{\centering\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1839}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8161}}@{}}
\caption{\label{tbl-day2-schedule}Schedule Day 2}\tabularnewline
\toprule()
\begin{minipage}[b]{\linewidth}\centering
Time
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Session (all)
\end{minipage} \\
\midrule()
\endfirsthead
\toprule()
\begin{minipage}[b]{\linewidth}\centering
Time
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Session (all)
\end{minipage} \\
\midrule()
\endhead
08.30 - 09.00 & Welcome \\
09.00 - 09.15 & \begin{minipage}[t]{\linewidth}\raggedright
Introduction to Data Science for Public Health\\
Overview of objectives for Day 2\strut
\end{minipage} \\
09.15 - 10.30 & Discussion on concepts related to to health data for
decision-making \\
10.30 - 11.00 & {🍵} {☕} Break \\
11:00-11:15 & Malaria use case - Presentation of the data \\
11.15 - 11.45 & Malaria use case - Interdisciplinary discussion \\
11.45 - 12.30 & Malaria use case - Data practicals by interdisciplinary
groups \\
12.30 - 13.00 & Malaria use case - Feedback on findings from
practicals \\
13.00 - 14.00 & {🍴} Lunch break \\
14.00 - 14.30 & Malaria use case - Interdisciplinary discussion \\
14.00 - 15.30 & \begin{minipage}[t]{\linewidth}\raggedright
Malaria use case

Analysis: data practicals\\
Interpretation: discussion on data sources and interpretation\strut
\end{minipage} \\
15.30 - 16.00 & {🍵} {☕} Break \\
16.00 - 17.00 & Malaria use case - Feedback on praticals \\
\bottomrule()
\end{longtable}

\hypertarget{day-3}{%
\subsection{Day 3}\label{day-3}}

\hypertarget{tbl-day3-schedule}{}
\begin{longtable}[]{@{}
  >{\centering\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1905}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8095}}@{}}
\caption{\label{tbl-day3-schedule}Schedule Day 3}\tabularnewline
\toprule()
\begin{minipage}[b]{\linewidth}\centering
Time
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Session (all)
\end{minipage} \\
\midrule()
\endfirsthead
\toprule()
\begin{minipage}[b]{\linewidth}\centering
Time
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Session (all)
\end{minipage} \\
\midrule()
\endhead
08.30 - 09.00 & Welcome \\
09.00 - 09.15 & Interdisciplinary introduction to big data and machine
Learning

Overview of objectives for Day 3 \\
09.15 - 10.00 & Discussion on secondary data sources

(Public Datasets, e.g.~DHS, Facebook, facilities, etc)

Benefits and drawbacks between primary and secondary data sources \\
10.00 - 10.30 & {🍵} {☕} Break \\
11.00 - 13.00 & \begin{minipage}[t]{\linewidth}\raggedright
Analysis: Introduction to machine learning\\
Interpretation: Critically discuss data surveys/reports\strut
\end{minipage} \\
13:00-14:00 & {🍴} Lunch break \\
14:00-14:30 & Speed talks - research presentations \\
14:30-15:30 & Feedback on findings from practicals \\
\begin{minipage}[t]{\linewidth}\centering
15:30-16:30\\
\strut
\end{minipage} & \begin{minipage}[t]{\linewidth}\raggedright
Feedback on workshop - Wrap-up\\
\strut
\end{minipage} \\
\bottomrule()
\end{longtable}

\hypertarget{after-the-workshop}{%
\subsection{After the workshop}\label{after-the-workshop}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Fill out the online post-workshop questionnaire
\end{enumerate}

\hypertarget{scope}{%
\section{Scope}\label{scope}}

This workshop aims to accompany researchers to progress on the following
development axes:

\hypertarget{data-science-mindset}{%
\subsection{Data science mindset}\label{data-science-mindset}}

\begin{itemize}
\tightlist
\item
  Use of reproducible research practices in public health
\item
  Data provenance

  \begin{itemize}
  \tightlist
  \item
    Use of distinct data sources for the development of public health
    indicators
  \item
    Research data vs.~real world evidence data
  \end{itemize}
\item
  Ethical data science
\item
  Data papers
\end{itemize}

\hypertarget{data-science-skillset}{%
\subsection{Data science skillset}\label{data-science-skillset}}

\begin{itemize}
\tightlist
\item
  Programming tools

  \begin{itemize}
  \tightlist
  \item
    Move from Stata to R (prerequisite: Stata)
  \item
    R programming

    \begin{itemize}
    \tightlist
    \item
      dplyr
    \end{itemize}
  \item
    Python programming

    \begin{itemize}
    \tightlist
    \item
      pandas
    \item
      scikit-learn (prerequisite: independent Python user)
    \end{itemize}
  \end{itemize}
\item
  Coding with best practices (R/RStudio/tidyverse)

  \begin{itemize}
  \tightlist
  \item
    Versioning using GitHub (all)
  \item
    Using targets (prerequisite: independent R user)
  \end{itemize}
\item
  Reporting and publishing: Dynamic report generation
\item
  Reproducible data

  \begin{itemize}
  \tightlist
  \item
    Use APIs (prerequisite: IT programming basics)
  \item
    Open access data (all)
  \end{itemize}
\item
  Statistical methods for reproducible research (advanced)
\end{itemize}

\hypertarget{what-is-not-covered}{%
\subsection{What is not covered}\label{what-is-not-covered}}

\begin{itemize}
\tightlist
\item
  Reproducible workflows (targets)
\item
  Reproducible environments (Binder, Docker, renv, etc)
\end{itemize}

\hypertarget{conventions}{%
\section{Conventions}\label{conventions}}

Discussion activity {💬}

Reflection activity {💭}

Coding activity {💻}

\part{------------ DAY 1 ------------}

\hypertarget{tools-for-reproducible-quantitative-research}{%
\chapter{\texorpdfstring{{📚} Tools for reproducible quantitative
research}{📚 Tools for reproducible quantitative research}}\label{tools-for-reproducible-quantitative-research}}

\hypertarget{overview}{%
\subsection{Overview}\label{overview}}

When reporting scientific results, researchers must document the steps
they followed so that independent researchers within the broader
research community are able to trust and build upon their findings
(\emph{cumulative knowledge}).

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Reporting should include negative results as they contribute to the
development of a cumulative knowledge as much as positive results do and
avoid wasting resources.
\end{tcolorbox}

\begin{figure}

{\centering \includegraphics{./images/paste-95377789.png}

}

\caption{\label{fig-research-diagram-vs-research-reality}Research
Diagram vs.~Research Reality. ``Piled Higher and Deeper'' by Jorge Cham
www.phdcomics.com}

\end{figure}

There have been recurrent calls in the recent decades for the scientific
community to embrace practices to support research reproducibility and
many software tools are now available to facilitate this process.

\hypertarget{learning-objectives}{%
\subsection{Learning objectives}\label{learning-objectives}}

\begin{itemize}
\tightlist
\item
  What is meant by \emph{reproducible quantitative research} and why
  does it matters?
\item
  What should be documented for ensuring the reproducibility of
  quantitative analyses?
\item
  What software tools are available to support reproducible quantitative
  research?
\end{itemize}

\hypertarget{reproducible-quantitative-research}{%
\section{Reproducible quantitative
research}\label{reproducible-quantitative-research}}

A quantitative analysis is said to be (\emph{computationally})
\textbf{reproducible} when the \textbf{same analysis steps} performed on
the \textbf{same dataset} consistently produce the \textbf{same
quantitative results} (1). Given the deterministic nature of computer
programmes, a quantitative analysis must be reproducible to be
\textbf{credible}.

\begin{figure}

{\centering \includegraphics[width=4.16667in,height=\textheight]{./images/paste-97E0048A.png}

}

\caption{\label{fig-reproducibility}This image was created by Scriberia
for The Turing Way community and is used under a CC-BY licence. DOI:
10.5281/zenodo.3332807}

\end{figure}

In addition to (computational) reproducibility, \textbf{replicability},
\textbf{robustness} and \textbf{generalisability} are key to the
generation of strong quantitative evidence.

\hypertarget{replicability}{%
\subsubsection{Replicability}\label{replicability}}

The \textbf{same analysis} steps are performed on \textbf{different
datasets} and produce \textbf{qualitatively similar answers} (1).

\begin{figure}

{\centering \includegraphics[width=4.16667in,height=\textheight]{./images/paste-5D367441.png}

}

\caption{\label{fig-replicability}This image was created by Scriberia
for The Turing Way community and is used under a CC-BY licence. DOI:
10.5281/zenodo.3332807}

\end{figure}

\hypertarget{robustness}{%
\subsubsection{Robustness}\label{robustness}}

\textbf{Different analysis} steps are performed on the \textbf{same
dataset} to answer the \textbf{same research question} and produce
\textbf{qualitatively similar or identical answers} (1).

\begin{figure}

{\centering \includegraphics[width=4.16667in,height=\textheight]{./images/paste-1E28AEDC.png}

}

\caption{\label{fig-robustness}This image was created by Scriberia for
The Turing Way community and is used under a CC-BY licence. DOI:
10.5281/zenodo.3332807}

\end{figure}

\hypertarget{generalisability}{%
\subsubsection{Generalisability}\label{generalisability}}

\textbf{Different analysis} steps are performed on the \textbf{different
datasets} to know how well the work applies to all the different aspects
of the research question and produce \textbf{generalisable answers} (1).

\begin{figure}

{\centering \includegraphics[width=4.16667in,height=\textheight]{./images/paste-222EF473.png}

}

\caption{\label{fig-generalisability}This image was created by Scriberia
for The Turing Way community and is used under a CC-BY licence. DOI:
10.5281/zenodo.3332807}

\end{figure}

\hypertarget{good-documentation-for-reproducible-analyses}{%
\section{Good documentation for reproducible
analyses}\label{good-documentation-for-reproducible-analyses}}

To guarantee that any other researcher can reproduce your analysis, you
would need to document and share the full \textbf{computational
environment}, \textbf{tools}, \textbf{data} and \textbf{code} that were
used to generate your results.

\begin{figure}

{\centering \includegraphics{./images/paste-E04E255A.png}

}

\caption{\label{fig-documentation-reproducible-analysis}This image was
adapted from an original image created by Scriberia for The Turing Way
community (CC-BY licence. DOI: 10.5281/zenodo.3332807).}

\end{figure}

\hypertarget{opportunities-and-challenges-of-reproducible-research}{%
\section{Opportunities and challenges of reproducible
research}\label{opportunities-and-challenges-of-reproducible-research}}

\hypertarget{discussion}{%
\subsubsection{\texorpdfstring{{💬}
Discussion}{💬 Discussion}}\label{discussion}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  How do you think reproducible quantitative analyses can improve your
  research?
\item
  Recent investigations have shown that a significant percentage of
  scientific studies cannot be reproduced, thus contributing to growing
  mistrust in scientific results (2,3). What barriers and challenges to
  reproducible research do you see in your daily practice?
\end{enumerate}

{🕒} 5 minutes

\hypertarget{opportunities}{%
\subsubsection{\texorpdfstring{{➕}
Opportunities}{➕ Opportunities}}\label{opportunities}}

\begin{figure}

{\centering \includegraphics{./images/paste-9DF4B400.png}

}

\caption{This image was created by Scriberia for The Turing Way
community and is used under a CC-BY licence. DOI:
10.5281/zenodo.3332807}

\end{figure}

\hypertarget{barriers-and-challenges}{%
\subsubsection{\texorpdfstring{{➖} Barriers and
challenges}{➖ Barriers and challenges}}\label{barriers-and-challenges}}

\begin{figure}

{\centering \includegraphics{./images/paste-80DE769E.png}

}

\caption{\label{fig-barriers-reproducibility}Example of barriers to
reproducibility}

\end{figure}

\hypertarget{challenges}{%
\subsubsection{Challenges}\label{challenges}}

In practice, reproducibility is challenging, even for trained data
scientists equipped with an arsenal of software tools. Quantitative
analyses can often not be fully reproduced because of complexities in
how software tools are packaged, installed, and executed and because of
limitations associated with how scientists document analysis steps.

\includegraphics{./images/phd_comics_code_documentation.png}

\hypertarget{software-tools-across-the-research-data-lifecycle}{%
\section{Software tools across the research data
lifecycle}\label{software-tools-across-the-research-data-lifecycle}}

As illustrated in
Figure~\ref{fig-software-tools-across-research-lifecycle}, there is now
a whole set of free or open source software tools that are available to
help you automate your processes and overcome reproducibility challenges
across the research data lifecycle.

In this workshop, you will be introduced to following software tools
that will help make your quantitative data processing, study and
analysis more reproducible:

\begin{itemize}
\tightlist
\item
  \textbf{Git/GitHub} allow you to keep track of various versions of
  your code, share your code and collaborate with others on code
  development;
\item
  \textbf{R} is a programming language for statistical computing and
  graphics and one of main programming language used for data science
  (with other programming languages such as \textbf{Python} and Julia).
  The ecosystem around R provides an interactive environment for data
  science science workflows, thus making R is a great start for your
  data science journey.
\item
  \textbf{Rstudio} is an integrated development environment (IDE) for R
  that enables an easier use of R.
\item
  \textbf{Quarto} allow you to generate (reproducible) dynamic reports
  to document your data analyses. We will use Quarto within the
  \textbf{R/RStudio} environment.
\end{itemize}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
In practice, most data scientists use a mix of languages, often at least
R and Python. You will be slightly exposed to R, but the goal of this
workshop is
\end{tcolorbox}

\begin{figure}

{\centering \includegraphics{./images/paste-AF117E41.png}

}

\caption{\label{fig-software-tools-across-research-lifecycle}Example of
free / open source software tools across the research data lifecycle.
This image was adapted from an original image created by Scriberia for
The Turing Way community (CC-BY licence. DOI: 10.5281/zenodo.3332807).}

\end{figure}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Although qualitative research contributes as significantly as
quantitative research to knowledge generation, the validation of
qualitative research findings is a much more complex and debated concept
as qualitative analysis is by essence subjective and contextual. This
explains the lower availability of software tools dedicated to
qualitative research compared to what is available for quantitative
research.
\end{tcolorbox}

\hypertarget{to-go-further-with-reproducibility}{%
\section{To go further with
reproducibility}\label{to-go-further-with-reproducibility}}

\begin{itemize}
\tightlist
\item
  Binder/Docker: reproducible environments
\item
  Targets: reproducible workflows
\end{itemize}

\hypertarget{version-control-with-git}{%
\chapter{\texorpdfstring{{📚} Version control with
Git}{📚 Version control with Git}}\label{version-control-with-git}}

\hypertarget{overview-1}{%
\subsection{Overview}\label{overview-1}}

Does the following situation seem sadly familiar? The challenge here is
not only that you have no idea which draft is actually the latest
version of the document, but also that it is almost impossible to
understand what decision on the document content was taken when.

\begin{figure}

{\centering \includegraphics{./images/paste-2840AEE3.png}

}

\caption{\label{fig-final-doc}``Piled Higher and Deeper'' by Jorge Cham
www.phdcomics.com}

\end{figure}

Version control is the process by which the development of a document is
clearly identified. It provides huge benefits to organization,
archiving, and being able to find your files easily when you need them.
Git is a tool that

\hypertarget{learning-objectives-1}{%
\subsection{Learning objectives}\label{learning-objectives-1}}

In this chapter, we introduce the basic elements of version control. We
will learn the terminology and practice version control on a
\emph{need-to-know} basis across the workshop.

\begin{itemize}
\item
  What is version control?
\item
  What tools are available to support version control?
\item
  How to set up Git version control for a project?
\end{itemize}

\hypertarget{version-control}{%
\section{Version control}\label{version-control}}

Version control generally applies at a level of a project. It tracks and
manages different drafts and versions for each document in the project.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
With version control, you will only see a single file, which is the most
recent version (\emph{final} version). This helps avoiding confusion.
\end{tcolorbox}

Version control provides an audit trail for the revisions and updates of
final versions.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Version control tracks \textbf{what} changes have been made, \textbf{by
whom} and \textbf{when}, so that you do no longer need to save a copy of
your documents with your name or the date in the filename.
\end{tcolorbox}

Version control allows you to discard recent updates and restore an
earlier version of our project if needed.

\begin{figure}

{\centering \includegraphics{./images/paste-EB447856.png}

}

\caption{This image was created by Scriberia for The Turing Way
community and is used under a CC-BY licence. DOI:
10.5281/zenodo.3332807}

\end{figure}

\hypertarget{git-github-and-github-desktop}{%
\section{Git, GitHub and GitHub
Desktop}\label{git-github-and-github-desktop}}

\begin{longtable}[]{@{}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.1806}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.1806}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.6389}}@{}}
\toprule()
\endhead
\includegraphics{./images/paste-5B5DE956.png} & \textbf{Git} & Free and
open programme that tracks changes to your files over time. \\
\includegraphics{./images/paste-A0B6FCC4.png} & \textbf{GitHub} &
Cloud-based hosting platform that lets you host and manage Git
repositories. GitHub synchronizes your local files online and enables
you to collaborate with others (and yourself). \\
\includegraphics[width=1.25in,height=\textheight]{./images/paste-B8632B75.png}
& \textbf{GitHub Desktop} & Application that allows to use Git commands
seamlessly through a visual interface instead of using the command line
(for software developers) or GitHub's website. \\
\bottomrule()
\end{longtable}

We will always use these three tools together.

Please refer to the following sections for instructions on
creation/installation steps:

\begin{itemize}
\tightlist
\item
  Create a GitHub account (\textbf{?@sec-GitHub-account-creation})
\item
  Install GitHub Desktop (Section~\ref{sec-GitHub-Desktop-installation})
\end{itemize}

\includegraphics{./images/paste-081F7F03.png}

\hypertarget{set-up-git-version-control-for-a-project}{%
\section{Set up Git version control for a
project}\label{set-up-git-version-control-for-a-project}}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
A \textbf{repository} is a database of all changes in your project. You
will have a personal copy of all the final versions of the documents in
the project (\emph{working copy}) which will appear on your computer as
a folder.
\end{tcolorbox}

\hypertarget{step-1}{%
\subsubsection{Step 1}\label{step-1}}

Open GitHub Desktop

\includegraphics{./images/paste-EFF40D72.png}

\hypertarget{step-2}{%
\subsubsection{Step 2}\label{step-2}}

In GitHub Desktop, you can create a new repository by selecting
\textbf{File} \textgreater{} \textbf{New repository}.

\includegraphics{./images/paste-A85BE0C6.png}

\hypertarget{step-3}{%
\subsubsection{Step 3}\label{step-3}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Enter \textbf{data\_science\_workshop\_sept\_2022} as the name of your
  new repository.
\item
  Click \textbf{Choose\ldots{}} to select the local directory in which
  your new repository will be created. Using Windows Explorer, navigate
  to the local repository of your choice.
\item
  Check \textbf{Initialize this repository with a README} to create a
  README file in your new repository. This is \emph{optional} and you
  will be able to create a README file later if you wish to do so.
\item
  Click on \textbf{Create repository}.
\end{enumerate}

\includegraphics{./images/paste-D831B36F.png}

\hypertarget{to-go-further}{%
\section{To go further}\label{to-go-further}}

To learn more about Git, we refer you to the resources listed in
Section~\ref{sec-resources-git}.

\hypertarget{getting-started-with-rstudio}{%
\chapter{\texorpdfstring{{📘} Getting started with
RStudio}{📘 Getting started with RStudio}}\label{getting-started-with-rstudio}}

\hypertarget{overview-2}{%
\subsection{Overview}\label{overview-2}}

Please review the following sections for instructions on installation
steps:

\begin{itemize}
\tightlist
\item
  Downloading R (\textbf{?@sec-R-installation})
\item
  Downloading and configuring RStudio
  (Section~\ref{sec-RStudio-installation})
\end{itemize}

\hypertarget{learning-objectives-2}{%
\subsection{Learning objectives}\label{learning-objectives-2}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Familiarise with RStudio
\item
  Get set up with not storing the RStudio workspace
\end{enumerate}

\hypertarget{orientation-to-the-rstudio-interface}{%
\section{Orientation to the RStudio
interface}\label{orientation-to-the-rstudio-interface}}

Open RStudio

By default RStudio displays four rectangle panes.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
If your RStudio displays only one left pane it is because you have no
scripts open yet.
\end{tcolorbox}

\hypertarget{r-console-pane}{%
\subsubsection{R Console Pane}\label{r-console-pane}}

The R Console, by default the left or lower-left pane in R Studio, is
the home of the R ``engine''. This is where the commands are actually
run and non-graphic outputs and error/warning messages appear. You can
directly enter and run commands in the R Console, but realize that these
commands are not saved as they are when running commands from a script.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
This pane is similar to the Stata Command and the Results windows.
\end{tcolorbox}

\hypertarget{source-pane}{%
\subsubsection{Source Pane}\label{source-pane}}

This pane, by default in the upper-left, is space to edit and run your
scripts, including the RMarkdown outbreak and survey templates. This
pane can also display datasets (data frames) for viewing.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
This pane is similar to the Stata Do-file and Data Editor windows.
\end{tcolorbox}

\hypertarget{environment-pane}{%
\subsubsection{Environment Pane}\label{environment-pane}}

This pane, by default the upper-right, is most often used to see brief
summaries of objects in the R Environment in the current session. These
objects could include imported, modified, or created datasets,
parameters you have defined (e.g.~a specific epi week for the analysis),
or vectors or lists you have defined during analysis (e.g.~names of
regions). Click on the arrow next to a dataframe name to see its
variables.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
This pane is similar to the Stata Variables Manager window.
\end{tcolorbox}

\hypertarget{lower-right-pane}{%
\subsubsection{Lower-right pane}\label{lower-right-pane}}

The lower-right pane includes several tabs:

\begin{itemize}
\tightlist
\item
  Files (library of files)
\item
  Plots (display of graphics including maps)
\item
  Packages (available R packages including installation/update options)
\item
  Help
\item
  Viewer
\item
  Presentation.
\end{itemize}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
This pane contains the Stata equivalents of the Plots Manager and
Project Manager windows.
\end{tcolorbox}

\hypertarget{open-a-new-r-project}{%
\section{Open a new R project}\label{open-a-new-r-project}}

In RStudio, you can create a new project by selecting \textbf{File}
\textgreater{} \textbf{New Project\ldots{}}

\includegraphics[width=3.64583in,height=\textheight]{./images/paste-CCA1D5A5.png}

Select New Directory

\includegraphics{./images/paste-DCC39BB5.png}

Select New Project

\includegraphics{./images/paste-30A4402B.png}

Select a location to save the new R project (this creates a new folder).

\includegraphics[width=5.20833in,height=\textheight]{./images/paste-C05F97BD.png}

Save all relevant data files into this new R project folder.

We will use this project for the duration of the workshop.

\hypertarget{dynamic-documents}{%
\chapter{\texorpdfstring{{📚} Dynamic
documents}{📚 Dynamic documents}}\label{dynamic-documents}}

\hypertarget{overview-3}{%
\subsection{Overview}\label{overview-3}}

The final product of a quantitative research is a report (e.g.,
scientific publications), i.e.~a textual description of your research
findings along with figures and tables resulting from your analysis.
summary tables and figures. Based on this data, you discuss findings and
give recommendations while using the data as evidence that backs up your
discussion.

Imagine the following situations

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  you are informed that you were given the wrong data set just when you
  have finalised your article for submission to a journal. You are sent
  a new one and you are asked to run the same analysis with this new
  data set.
\item
  you realize that a mistake was made and need to re-examine the code,
  fix the error, and re-run the analysis 3. someone you are training
  wants to see the code and be able to reproduce the results to learn
  about your approach?
\end{enumerate}

Situations like the ones just described are actually quite common for a
data scientist.

It is actually possible to keep your data science projects organized
with RStudio so that re-running an analysis and recreating reports is
straightforward and can be done with minimal effort.Dynamic documents
can be produced to update on a routine basis (e.g.~daily surveillance
reports) and/or run on subsets of data (e.g.~reports for each
jurisdiction).

\hypertarget{learning-objectives-3}{%
\subsection{Learning objectives}\label{learning-objectives-3}}

The goal of this section is to briefly discuss why we want to learn
quarto, the benefits, and the barriers to using it.

\begin{itemize}
\tightlist
\item
  What is a dynamic report?
\item
  What is Quarto?
\item
  Think about why you want to use Quarto
\end{itemize}

\hypertarget{background-to-r-markdown}{%
\section{Background to R Markdown}\label{background-to-r-markdown}}

This is possible due to the fact that Quarto documents enable code and
textual descriptions to be combined into the same document, and the
figures and tables produced by the code are automatically added to the
document.

Quarto is a tool that allows you integrate your code, text and figures
in a single file in order to make high quality, reproducible reports. A
paper published with an included quarto file and data sets can be
reproduced by anyone with a computer. R Markdown integrates code and
natural language in a way that is called ``literate programming'' (4).

To explain some of the concepts and packages involved:

\hypertarget{markdown}{%
\subsubsection{Markdown}\label{markdown}}

Markdown is a ``language'' that allows you to write a document using
plain text, that can be converted to html and other formats. It is not
specific to R.

Markdown files have a \texttt{md} extension.

\hypertarget{r-markdown}{%
\subsubsection{R Markdown}\label{r-markdown}}

It is a variation on markdown that is specific to R - it allows you to
write a document using markdown to produce text and to embed R code and
display their outputs. which was a variant of Markdown specifically
designed to allow R code chunks to be included.

R Markdown is a widely-used tool for creating automated, reproducible,
and share-worthy outputs, such as reports. It can generate static or
interactive outputs, in Word, pdf, html, powerpoint, and other formats.

R Markdown files have \texttt{.Rmd} extension.

\hypertarget{rmarkdown}{%
\subsubsection{rmarkdown}\label{rmarkdown}}

It is the R package: This is used by R to render the .Rmd file into the
desired output.

\hypertarget{quarto}{%
\subsubsection{Quarto}\label{quarto}}

Quarto is the successor to R Markdown. As a R Markdown document, a
Quarto document intersperces code and text such that the script actually
becomes your output document. You can create an entire formatted
document, including narrative text (can be dynamic to change based on
your data), tables, figures, bullets/numbers, bibliographies, etc.

Quatro uses a mark-up language similar to HyperText Markup Language
(HTML) or LaTeX, in comparison to a ``What You See Is What You Get''
(WYSIWYG) language, such as Microsoft Word. This means that all the
aspects are consistent, for instance, all top-level heading will look
the same. But it means that we use symbols to designate how we would
like certain aspects to appear. And it is only when we build the mark-up
that we get to see what it looks like. A visual editor option can also
be used which hides the need for the user to do this mark-up themselves.

Quarto is not tied to the R language.

Quarto files have a \texttt{.Qmd} extension.

\hypertarget{knitr}{%
\subsubsection{knitr}\label{knitr}}

This R package will read the code chunks, execute it, and `knit' it back
into the document. This is how tables and graphs are included alongside
the text.

\hypertarget{pandoc}{%
\subsubsection{Pandoc}\label{pandoc}}

Pandoc actually convert the output into word/pdf/powerpoint etc. It is a
software separate from R but is installed automatically with RStudio.

\includegraphics{./images/paste-ABFB521E.png}

The process that happens in the background involves feeding the .Rmd
file to knitr, which executes the R code chunks and creates a new .md
(markdown) file which includes the R code and its rendered output. The
.md file is then processed by Pandoc to create the final product: a
Microsoft Word document, HTML file, PowerPoint document, PDF, etc.

\hypertarget{discussion-1}{%
\subsubsection{\texorpdfstring{{💬}
Discussion}{💬 Discussion}}\label{discussion-1}}

Form small groups of 2-4 with your neighbours and discuss how you expect
learning Quarto might benefit you.

{🕒} 5 minutes

\hypertarget{references}{%
\section{References}\label{references}}

\begin{itemize}
\tightlist
\item
  The Epidemiologist R Handbook (https://epirhandbook.com)
\end{itemize}

\hypertarget{getting-started-with-quarto}{%
\chapter{\texorpdfstring{{📘} Getting started with
Quarto}{📘 Getting started with Quarto}}\label{getting-started-with-quarto}}

\hypertarget{overview-4}{%
\subsection{Overview}\label{overview-4}}

Please review the following sections for instructions on installation
steps:

\begin{itemize}
\tightlist
\item
  Downloading Quarto (Section~\ref{sec-Quarto-installation})
\item
  Installing the rmarkdown package
\end{itemize}

\hypertarget{learning-objectives-4}{%
\subsection{Learning objectives}\label{learning-objectives-4}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Learn how to use Quarto
\end{enumerate}

\hypertarget{create-a-new-quarto-document}{%
\section{Create a new Quarto
document}\label{create-a-new-quarto-document}}

While it makes sense to use Quarto going forward, there are still a lot
of resources written for and in R Markdown. For this reason we provide
the R Markdown equivalents for this section in Appendix.

In RStudio, you can create a new Quarto document by selecting
\textbf{File} \textgreater{} \textbf{New File} \textgreater{}
\textbf{Quarto Document\ldots{}}

\includegraphics{./images/paste-A7DE8B60.png}

When you create a new Quarto document, RStudio tries to be helpful by
allowing you to select a template which explains the different section
of an R Markdown script. R Studio will enable you select options to pick
from to generate a template Quarto document to start from.

The title and the author names are not important. If the output document
type you want is not one of these, do not worry - you can just pick any
one and change it later.

Let us select \emph{HTML} to create an html document.

Click on create to open up a new Quarto (.Qmd) document.

\includegraphics{./images/paste-67B97E04.png}

\hypertarget{visual-editor}{%
\section{Visual Editor}\label{visual-editor}}

The RStudio Visual Editor is quite new and has features that improve
your writing experience. Working in the Visual Editor feels a bit like
working in a Google Doc.

Here's an example showing the same file in the original Source Editor
with content in markdown format and in the Visual Editor with content
that looks more like it will appear in a live site. You can switch
freely between these modes.

\hypertarget{quarto-document-structure}{%
\section{Quarto document structure}\label{quarto-document-structure}}

An R Markdown document can be edited in RStudio.

There are three basic components to a Quarto document, similar to the
components of a R Markdown document:

\begin{itemize}
\tightlist
\item
  metadata (YAML header)
\item
  text (markdown formatting)
\item
  code (R code formatting)
\end{itemize}

\includegraphics{./images/paste-30C30ECC.png}

\hypertarget{yaml-header}{%
\subsubsection{YAML header}\label{yaml-header}}

The very top of the document consists of a (YAML) header surrounded by
--- lines. Here you may want to edit the title of your document. The
other settings in the header define the default document type produced
(Microsoft Word) when the RMarkdown is ``knit''. the information
intended to produce an html output.

\hypertarget{text}{%
\subsubsection{Text}\label{text}}

In WHITE background areas, any text will appear as regular text in the
final report. Can have formatting such as headings, italics, bold,
numbers, and bullets. See the second page of this RMarkdown cheatsheet
for more detail. Can display parameters derived from your data via
in-line code (such as epi week of the outbreak peak, as in the example
above).

\hypertarget{code-chunks}{%
\subsubsection{Code chunks}\label{code-chunks}}

In gray background ``code chunks'', RMarkdown is running R commands.
These commands perform data processing and cleaning steps, or could
produce visual outputs in the document.

\hypertarget{quarto-render}{%
\section{Quarto render}\label{quarto-render}}

When you click the \textbf{Render} button a document will be generated
that includes both content and the output of embedded code.

\includegraphics{./images/paste-A8386DC4.png} \#\# Code options

You can embed code like this:

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{1} \SpecialCharTok{+} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 2
\end{verbatim}

You can add options to executable code like this

\begin{verbatim}
[1] 4
\end{verbatim}

The \texttt{echo:\ false} option disables the printing of code (only
output is displayed).

\hypertarget{references-1}{%
\section{References}\label{references-1}}

\begin{itemize}
\tightlist
\item
  The Epidemiologist R Handbook (https://epirhandbook.com)
\end{itemize}

\hypertarget{commit-your-changes-with-git}{%
\chapter{\texorpdfstring{{📘} Commit your changes with
Git}{📘 Commit your changes with Git}}\label{commit-your-changes-with-git}}

Version control uses a \emph{working copy} where you do your work.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
You can \texttt{update} your working copy to incorporate any new edits
or versions that have been added to the repository since the last time
you updated.
\end{tcolorbox}

You make arbitrary edits to this copy, without affecting your teammates.
When you are happy with your edits, you \texttt{commit} your changes to
a \emph{repository}.

Snapshot of your entire repository at a specific time.

Over time, commits should tell a story of the history of your repository
and how it came to be the way that it currently is.

Commits include lots of metadata in addition to the contents and
message, like the author, timestamp, and more.

It also requires that you write something human-readable that will be a
breadcrumb for you in the future. be easy to compare versions, and you
can easily revert to previous versions.

\hypertarget{push-and-pull}{%
\section{Push and Pull}\label{push-and-pull}}

\includegraphics{./images/paste-A340C143.png}

\hypertarget{code-chunks-1}{%
\chapter{\texorpdfstring{{📘} Code
chunks}{📘 Code chunks}}\label{code-chunks-1}}

As the number of programming languages used for scientific discourse is
very broad, Quarto was developed to be multilingual, beginning with R,
Python, Javascript, and Julia. building on the RStudio (R) and Jupyter
(Python, Julia) ecosystems which are very popular.

In this section, we will see how to use and mix R, Stata and Python
within Quarto so that you can make the most out of it.

\hypertarget{create-code-chunks}{%
\section{Create code chunks}\label{create-code-chunks}}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Use backticks
\item
  Click on icon
\item
  Keyboard shortcut \texttt{Ctrl} + \texttt{Alt} + \texttt{I}
\end{itemize}

\end{tcolorbox}

\hypertarget{r-code-chunks}{%
\section{R code chunks}\label{r-code-chunks}}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
A \textbf{data frame} is a two-dimensional array-like structure that
contains rows and columns.
\end{tcolorbox}

To store the content of the \emph{iris} data set in data frame
\texttt{df}, you can use \texttt{=} (\emph{equal}) but good practice
recommend using \texttt{\textless{}-} (\emph{back arrow}) to indicate
the direction of your allocation.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ iris}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

How to display data

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\#| df{-}print: kable}
\FunctionTok{library}\NormalTok{(dplyr)}
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(}\FunctionTok{head}\NormalTok{(df, }\DecValTok{10}\NormalTok{))}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}rrrrl@{}}
\toprule()
Sepal.Length & Sepal.Width & Petal.Length & Petal.Width & Species \\
\midrule()
\endhead
5.1 & 3.5 & 1.4 & 0.2 & setosa \\
4.9 & 3.0 & 1.4 & 0.2 & setosa \\
4.7 & 3.2 & 1.3 & 0.2 & setosa \\
4.6 & 3.1 & 1.5 & 0.2 & setosa \\
5.0 & 3.6 & 1.4 & 0.2 & setosa \\
5.4 & 3.9 & 1.7 & 0.4 & setosa \\
4.6 & 3.4 & 1.4 & 0.3 & setosa \\
5.0 & 3.4 & 1.5 & 0.2 & setosa \\
4.4 & 2.9 & 1.4 & 0.2 & setosa \\
4.9 & 3.1 & 1.5 & 0.1 & setosa \\
\bottomrule()
\end{longtable}

The pipe operator

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\#| df{-}print: kable}
\FunctionTok{library}\NormalTok{(dplyr)}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{head}\NormalTok{(}\DecValTok{10}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}rrrrl@{}}
\toprule()
Sepal.Length & Sepal.Width & Petal.Length & Petal.Width & Species \\
\midrule()
\endhead
5.1 & 3.5 & 1.4 & 0.2 & setosa \\
4.9 & 3.0 & 1.4 & 0.2 & setosa \\
4.7 & 3.2 & 1.3 & 0.2 & setosa \\
4.6 & 3.1 & 1.5 & 0.2 & setosa \\
5.0 & 3.6 & 1.4 & 0.2 & setosa \\
5.4 & 3.9 & 1.7 & 0.4 & setosa \\
4.6 & 3.4 & 1.4 & 0.3 & setosa \\
5.0 & 3.4 & 1.5 & 0.2 & setosa \\
4.4 & 2.9 & 1.4 & 0.2 & setosa \\
4.9 & 3.1 & 1.5 & 0.1 & setosa \\
\bottomrule()
\end{longtable}

You can cross-reference your table Table~\ref{tbl-iris}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\#| label: tbl{-}iris}
\CommentTok{\#| tbl{-}cap: Iris data set}
\CommentTok{\#| df{-}print: kable}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{  knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{tbl-iris}{}
\begin{longtable}[]{@{}rrrrl@{}}
\caption{\label{tbl-iris}Iris data set}\tabularnewline
\toprule()
Sepal.Length & Sepal.Width & Petal.Length & Petal.Width & Species \\
\midrule()
\endfirsthead
\toprule()
Sepal.Length & Sepal.Width & Petal.Length & Petal.Width & Species \\
\midrule()
\endhead
5.1 & 3.5 & 1.4 & 0.2 & setosa \\
4.9 & 3.0 & 1.4 & 0.2 & setosa \\
4.7 & 3.2 & 1.3 & 0.2 & setosa \\
4.6 & 3.1 & 1.5 & 0.2 & setosa \\
5.0 & 3.6 & 1.4 & 0.2 & setosa \\
5.4 & 3.9 & 1.7 & 0.4 & setosa \\
4.6 & 3.4 & 1.4 & 0.3 & setosa \\
5.0 & 3.4 & 1.5 & 0.2 & setosa \\
4.4 & 2.9 & 1.4 & 0.2 & setosa \\
4.9 & 3.1 & 1.5 & 0.1 & setosa \\
5.4 & 3.7 & 1.5 & 0.2 & setosa \\
4.8 & 3.4 & 1.6 & 0.2 & setosa \\
4.8 & 3.0 & 1.4 & 0.1 & setosa \\
4.3 & 3.0 & 1.1 & 0.1 & setosa \\
5.8 & 4.0 & 1.2 & 0.2 & setosa \\
5.7 & 4.4 & 1.5 & 0.4 & setosa \\
5.4 & 3.9 & 1.3 & 0.4 & setosa \\
5.1 & 3.5 & 1.4 & 0.3 & setosa \\
5.7 & 3.8 & 1.7 & 0.3 & setosa \\
5.1 & 3.8 & 1.5 & 0.3 & setosa \\
5.4 & 3.4 & 1.7 & 0.2 & setosa \\
5.1 & 3.7 & 1.5 & 0.4 & setosa \\
4.6 & 3.6 & 1.0 & 0.2 & setosa \\
5.1 & 3.3 & 1.7 & 0.5 & setosa \\
4.8 & 3.4 & 1.9 & 0.2 & setosa \\
5.0 & 3.0 & 1.6 & 0.2 & setosa \\
5.0 & 3.4 & 1.6 & 0.4 & setosa \\
5.2 & 3.5 & 1.5 & 0.2 & setosa \\
5.2 & 3.4 & 1.4 & 0.2 & setosa \\
4.7 & 3.2 & 1.6 & 0.2 & setosa \\
4.8 & 3.1 & 1.6 & 0.2 & setosa \\
5.4 & 3.4 & 1.5 & 0.4 & setosa \\
5.2 & 4.1 & 1.5 & 0.1 & setosa \\
5.5 & 4.2 & 1.4 & 0.2 & setosa \\
4.9 & 3.1 & 1.5 & 0.2 & setosa \\
5.0 & 3.2 & 1.2 & 0.2 & setosa \\
5.5 & 3.5 & 1.3 & 0.2 & setosa \\
4.9 & 3.6 & 1.4 & 0.1 & setosa \\
4.4 & 3.0 & 1.3 & 0.2 & setosa \\
5.1 & 3.4 & 1.5 & 0.2 & setosa \\
5.0 & 3.5 & 1.3 & 0.3 & setosa \\
4.5 & 2.3 & 1.3 & 0.3 & setosa \\
4.4 & 3.2 & 1.3 & 0.2 & setosa \\
5.0 & 3.5 & 1.6 & 0.6 & setosa \\
5.1 & 3.8 & 1.9 & 0.4 & setosa \\
4.8 & 3.0 & 1.4 & 0.3 & setosa \\
5.1 & 3.8 & 1.6 & 0.2 & setosa \\
4.6 & 3.2 & 1.4 & 0.2 & setosa \\
5.3 & 3.7 & 1.5 & 0.2 & setosa \\
5.0 & 3.3 & 1.4 & 0.2 & setosa \\
7.0 & 3.2 & 4.7 & 1.4 & versicolor \\
6.4 & 3.2 & 4.5 & 1.5 & versicolor \\
6.9 & 3.1 & 4.9 & 1.5 & versicolor \\
5.5 & 2.3 & 4.0 & 1.3 & versicolor \\
6.5 & 2.8 & 4.6 & 1.5 & versicolor \\
5.7 & 2.8 & 4.5 & 1.3 & versicolor \\
6.3 & 3.3 & 4.7 & 1.6 & versicolor \\
4.9 & 2.4 & 3.3 & 1.0 & versicolor \\
6.6 & 2.9 & 4.6 & 1.3 & versicolor \\
5.2 & 2.7 & 3.9 & 1.4 & versicolor \\
5.0 & 2.0 & 3.5 & 1.0 & versicolor \\
5.9 & 3.0 & 4.2 & 1.5 & versicolor \\
6.0 & 2.2 & 4.0 & 1.0 & versicolor \\
6.1 & 2.9 & 4.7 & 1.4 & versicolor \\
5.6 & 2.9 & 3.6 & 1.3 & versicolor \\
6.7 & 3.1 & 4.4 & 1.4 & versicolor \\
5.6 & 3.0 & 4.5 & 1.5 & versicolor \\
5.8 & 2.7 & 4.1 & 1.0 & versicolor \\
6.2 & 2.2 & 4.5 & 1.5 & versicolor \\
5.6 & 2.5 & 3.9 & 1.1 & versicolor \\
5.9 & 3.2 & 4.8 & 1.8 & versicolor \\
6.1 & 2.8 & 4.0 & 1.3 & versicolor \\
6.3 & 2.5 & 4.9 & 1.5 & versicolor \\
6.1 & 2.8 & 4.7 & 1.2 & versicolor \\
6.4 & 2.9 & 4.3 & 1.3 & versicolor \\
6.6 & 3.0 & 4.4 & 1.4 & versicolor \\
6.8 & 2.8 & 4.8 & 1.4 & versicolor \\
6.7 & 3.0 & 5.0 & 1.7 & versicolor \\
6.0 & 2.9 & 4.5 & 1.5 & versicolor \\
5.7 & 2.6 & 3.5 & 1.0 & versicolor \\
5.5 & 2.4 & 3.8 & 1.1 & versicolor \\
5.5 & 2.4 & 3.7 & 1.0 & versicolor \\
5.8 & 2.7 & 3.9 & 1.2 & versicolor \\
6.0 & 2.7 & 5.1 & 1.6 & versicolor \\
5.4 & 3.0 & 4.5 & 1.5 & versicolor \\
6.0 & 3.4 & 4.5 & 1.6 & versicolor \\
6.7 & 3.1 & 4.7 & 1.5 & versicolor \\
6.3 & 2.3 & 4.4 & 1.3 & versicolor \\
5.6 & 3.0 & 4.1 & 1.3 & versicolor \\
5.5 & 2.5 & 4.0 & 1.3 & versicolor \\
5.5 & 2.6 & 4.4 & 1.2 & versicolor \\
6.1 & 3.0 & 4.6 & 1.4 & versicolor \\
5.8 & 2.6 & 4.0 & 1.2 & versicolor \\
5.0 & 2.3 & 3.3 & 1.0 & versicolor \\
5.6 & 2.7 & 4.2 & 1.3 & versicolor \\
5.7 & 3.0 & 4.2 & 1.2 & versicolor \\
5.7 & 2.9 & 4.2 & 1.3 & versicolor \\
6.2 & 2.9 & 4.3 & 1.3 & versicolor \\
5.1 & 2.5 & 3.0 & 1.1 & versicolor \\
5.7 & 2.8 & 4.1 & 1.3 & versicolor \\
6.3 & 3.3 & 6.0 & 2.5 & virginica \\
5.8 & 2.7 & 5.1 & 1.9 & virginica \\
7.1 & 3.0 & 5.9 & 2.1 & virginica \\
6.3 & 2.9 & 5.6 & 1.8 & virginica \\
6.5 & 3.0 & 5.8 & 2.2 & virginica \\
7.6 & 3.0 & 6.6 & 2.1 & virginica \\
4.9 & 2.5 & 4.5 & 1.7 & virginica \\
7.3 & 2.9 & 6.3 & 1.8 & virginica \\
6.7 & 2.5 & 5.8 & 1.8 & virginica \\
7.2 & 3.6 & 6.1 & 2.5 & virginica \\
6.5 & 3.2 & 5.1 & 2.0 & virginica \\
6.4 & 2.7 & 5.3 & 1.9 & virginica \\
6.8 & 3.0 & 5.5 & 2.1 & virginica \\
5.7 & 2.5 & 5.0 & 2.0 & virginica \\
5.8 & 2.8 & 5.1 & 2.4 & virginica \\
6.4 & 3.2 & 5.3 & 2.3 & virginica \\
6.5 & 3.0 & 5.5 & 1.8 & virginica \\
7.7 & 3.8 & 6.7 & 2.2 & virginica \\
7.7 & 2.6 & 6.9 & 2.3 & virginica \\
6.0 & 2.2 & 5.0 & 1.5 & virginica \\
6.9 & 3.2 & 5.7 & 2.3 & virginica \\
5.6 & 2.8 & 4.9 & 2.0 & virginica \\
7.7 & 2.8 & 6.7 & 2.0 & virginica \\
6.3 & 2.7 & 4.9 & 1.8 & virginica \\
6.7 & 3.3 & 5.7 & 2.1 & virginica \\
7.2 & 3.2 & 6.0 & 1.8 & virginica \\
6.2 & 2.8 & 4.8 & 1.8 & virginica \\
6.1 & 3.0 & 4.9 & 1.8 & virginica \\
6.4 & 2.8 & 5.6 & 2.1 & virginica \\
7.2 & 3.0 & 5.8 & 1.6 & virginica \\
7.4 & 2.8 & 6.1 & 1.9 & virginica \\
7.9 & 3.8 & 6.4 & 2.0 & virginica \\
6.4 & 2.8 & 5.6 & 2.2 & virginica \\
6.3 & 2.8 & 5.1 & 1.5 & virginica \\
6.1 & 2.6 & 5.6 & 1.4 & virginica \\
7.7 & 3.0 & 6.1 & 2.3 & virginica \\
6.3 & 3.4 & 5.6 & 2.4 & virginica \\
6.4 & 3.1 & 5.5 & 1.8 & virginica \\
6.0 & 3.0 & 4.8 & 1.8 & virginica \\
6.9 & 3.1 & 5.4 & 2.1 & virginica \\
6.7 & 3.1 & 5.6 & 2.4 & virginica \\
6.9 & 3.1 & 5.1 & 2.3 & virginica \\
5.8 & 2.7 & 5.1 & 1.9 & virginica \\
6.8 & 3.2 & 5.9 & 2.3 & virginica \\
6.7 & 3.3 & 5.7 & 2.5 & virginica \\
6.7 & 3.0 & 5.2 & 2.3 & virginica \\
6.3 & 2.5 & 5.0 & 1.9 & virginica \\
6.5 & 3.0 & 5.2 & 2.0 & virginica \\
6.2 & 3.4 & 5.4 & 2.3 & virginica \\
5.9 & 3.0 & 5.1 & 1.8 & virginica \\
\bottomrule()
\end{longtable}

\hypertarget{execute-stata-commands-within-r-code-chunks}{%
\section{Execute Stata commands within R code
chunks}\label{execute-stata-commands-within-r-code-chunks}}

Stata is not a language supported by Quarto. To use Stata within Quarto,
you have to use the
\href{https://cran.r-project.org/web/packages/RStata/README.html}{RStata}
R package, which is a simple R / Stata interface that enables you to:

\begin{itemize}
\tightlist
\item
  execute Stata commands (inline or from a \texttt{.do} file) from R;
\item
  pass a data frame to Stata;
\item
  return Stata outputs (including modified data frames) to R.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\ControlFlowTok{if}\NormalTok{ ( }\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(RStata) ) \{}
  \FunctionTok{install.packages}\NormalTok{(}\StringTok{\textquotesingle{}RStata\textquotesingle{}}\NormalTok{)}
\NormalTok{\}}
\FunctionTok{library}\NormalTok{(RStata)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{configure-rstudio-to-execute-stata}{%
\subsection{Configure RStudio to execute
Stata}\label{configure-rstudio-to-execute-stata}}

\hypertarget{find-your-stata-binary-path}{%
\subsubsection{Find your Stata binary
path}\label{find-your-stata-binary-path}}

The function \texttt{chooseStataBin} from the \texttt{RStata} library
allows you to browse and set the path to your Stata binary executable.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{stata\_bin\_path }\OtherTok{\textless{}{-}}\NormalTok{ RStata}\SpecialCharTok{::}\FunctionTok{chooseStataBin}\NormalTok{()}
\FunctionTok{print}\NormalTok{(stata\_bin\_path)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

When you run this code, you should normally get a path which is of the
format: \textbf{``"C:\textbackslash Program
Files\textbackslash Stata16\textbackslash StataIC-64"''}. Note that the
\texttt{.exe} extension has been removed from this path. It is important
that you keep the format as is, as otherwise your Stata engine will not
be recognised.

\hypertarget{add-your-stata-binary-path-to-your-.rprofile}{%
\subsubsection{Add your Stata binary path to your
.Rprofile}\label{add-your-stata-binary-path-to-your-.rprofile}}

The Stata binary path setting we just created is just for your current
RStudio session and it will be lost once your RStudio is closed. To keep
this setting each time you are using RStudio and avoid havin to
reconfigure RStata each time you are restarting RStudio, let us add the
Stata binary path as an option to \texttt{.Rprofile}, which is your
user-specific R configuration file.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(usethis)}
\end{Highlighting}
\end{Shaded}

\texttt{Usethis} is a workflow package: it automates repetitive tasks
that arise during project setup and development, both for R packages and
non-package projects.

The function \texttt{edit\_r\_profile} from the \texttt{usethis} library
allows to open your configuration file \texttt{.Rprofile}.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{usethis}\SpecialCharTok{::}\FunctionTok{edit\_r\_profile}\NormalTok{(}\StringTok{"user"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

Add the following two lines in the Rprofile file that you have just
opened:

\begin{itemize}
\tightlist
\item
  options(``RStata.StataPath'' = \ldots)
\item
  options(``RStata.StataVersion'' = \ldots)
\end{itemize}

You need to indicate the path to your Stata binary executable in the
\texttt{RStata.StataPath} option (e.g., ``"C:\textbackslash Program
Files\textbackslash Stata16\textbackslash StataIC-64"'') and the version
of your Stata (e.g., 16) in the \texttt{RStata.StataVersion} option.

after indicating the path and version your code should look as specified
below

\begin{itemize}
\tightlist
\item
  options(``RStata.StataPath'' = ``"C:\textbackslash Program Files
  (x86)\textbackslash Stata15\textbackslash Stata-64"'')
\item
  options(``RStata.StataVersion'' = 15)
\end{itemize}

Once you are done, save and close your \texttt{.Rprofile}.

\hypertarget{python-code-chunks}{%
\section{Python code chunks}\label{python-code-chunks}}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-warning-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-warning-color}{\faExclamationTriangle}\hspace{0.5em}{Warning}, rightrule=.15mm, colframe=quarto-callout-warning-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
This section is for (advanced) Python/R Markdown users only
\end{tcolorbox}

You still need to import the R package \texttt{reticulate} if you want
to use the Knitr engine and manipulate Python objects within R code
chunks.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(reticulate)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{call-r-objects-in-python-code-chunks}{%
\subsection{Call R objects in Python code
chunks}\label{call-r-objects-in-python-code-chunks}}

R objects can be manipulated in Python code chunks by referring to them
as \texttt{r.}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{val }\OtherTok{\textless{}{-}} \DecValTok{10}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\NormalTok{val }\OperatorTok{=} \DecValTok{5}
\BuiltInTok{print}\NormalTok{(r.val)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
10.0
\end{verbatim}

\hypertarget{call-python-objects-in-r-code-chunks}{%
\subsection{Call Python objects in R code
chunks}\label{call-python-objects-in-r-code-chunks}}

Python objects can be manipulated in R code chunks by referring to them
as \texttt{py\$}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{print}\NormalTok{(val)}
\FunctionTok{print}\NormalTok{(py}\SpecialCharTok{$}\NormalTok{val)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 10
[1] 5
\end{verbatim}

\hypertarget{project-history-with-git}{%
\chapter{\texorpdfstring{{📘} Project history with
Git}{📘 Project history with Git}}\label{project-history-with-git}}

The version control capabilities of Git permit us to keep track of
changes we make to our code. We can also revert back to previous
versions of files. Git also permits us to create branches in which we
can test out ideas, then decide if we merge the new branch with the
original.

In the simplest case, the database contains a linear history: each
change is made after the previous one., but you can have a more complex
history. We will see this later.

\includegraphics{./images/paste-48384992.png}

\hypertarget{import-external-data}{%
\chapter{\texorpdfstring{{📘} Import external
data}{📘 Import external data}}\label{import-external-data}}

Most of the time you will want to generate \emph{Quarto} documents using
your own data. To this aim, you will have to import data from external
sources such as files, URLs, or server data (e.g., ODK Central data).
There is a dedicated importing function in R and Python for almost every
data format. In this section we show you how to import Stata
(\texttt{.dta}), Excel (\texttt{.xlsx}) and comma-separated values (CSV,
\texttt{.csv}) data formats from files and from URLs, as well as how to
import ODK data directly from an ODK Central server.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
As you import data to further process / analyse them, you have to store
the imported data in a data frame.
\end{tcolorbox}

\hypertarget{sec-import-data-from-files}{%
\section{Import data from files}\label{sec-import-data-from-files}}

All Python and R functions only require as input the path where the file
you want to import is stored. This path has to be passed as a sequence
of characters (\emph{character}) within double (``\,``) or single ('\,')
quotes.

The path can be either:

\begin{itemize}
\tightlist
\item
  relative to your Quarto document
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{relative\_path }\OtherTok{\textless{}{-}} \StringTok{"./data/mydata.csv"}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  absolute
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{absolute\_path }\OtherTok{\textless{}{-}} \StringTok{"C:/Users/myuser/Documents/mydata.csv"}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

Functions in general have additional optional arguments.

\hypertarget{import-excel-data}{%
\subsection{Import Excel data}\label{import-excel-data}}

\hypertarget{exercise-1}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
1}{✏️ Exercise 1}}\label{exercise-1}}

Import the Excel data set \textbf{dataset1.xlsx} and store it into a
data frame called \textbf{df1}.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the
  \href{https://www.stata.com/manuals/dimportexcel.pdf}{import excel}
  Stata command with the
  \href{https://rdrr.io/github/lbraglia/RStata/man/stata.html}{stata}
  function from the \texttt{RStata} package.
\item
  R: use the
  \href{https://www.rdocumentation.org/packages/openxlsx/versions/4.2.5/topics/read.xlsx}{read.xlsx}
  function from the \texttt{openxlsx} package.
\item
  Python: use the
  \href{https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html}{read\_excel}
  function from the \texttt{pandas} package.
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata}{%
\subsubsection{Stata}\label{stata}}

Use the \href{https://www.stata.com/manuals/dimportexcel.pdf}{import
excel} Stata command with the
\href{https://rdrr.io/github/lbraglia/RStata/man/stata.html}{stata}
function from the \texttt{RStata} package.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\#| df{-}print: kable}
\FunctionTok{library}\NormalTok{(RStata)}

\NormalTok{df1\_stata }\OtherTok{\textless{}{-}}\NormalTok{ RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(}\StringTok{"import excel ./data/dataset1a.xlsx"}\NormalTok{,}
                     \AttributeTok{data.out =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{df1\_stata\_sub }\OtherTok{\textless{}{-}} \FunctionTok{head}\NormalTok{(df1\_stata, }\DecValTok{5}\NormalTok{)}
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(df1\_stata\_sub)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. import excel ./data/dataset1a.xlsx
(7 vars, 10,309 obs)
\end{verbatim}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1011}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.0899}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.2022}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1236}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1910}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1236}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1685}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
A
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
B
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
C
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
D
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
E
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
F
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
G
\end{minipage} \\
\midrule()
\endhead
child\_ID & SDC\_sex & SDC\_age\_in\_months & CLIN\_fever &
CLIN\_fever\_onset & CLIN\_cough & CLIN\_diarrhoea \\
1 & 2 & 10 & 0 & & 1 & 1 \\
2 & 2 & 6 & 0 & & 0 & 1 \\
3 & 1 & 6 & 0 & & 0 & 0 \\
4 & 1 & 11 & 1 & 3 & 1 & 1 \\
\bottomrule()
\end{longtable}

\hypertarget{r}{%
\subsubsection{R}\label{r}}

Use the
\href{https://www.rdocumentation.org/packages/openxlsx/versions/4.2.5/topics/read.xlsx}{read.xlsx}
function from the \texttt{openxlsx} package.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(openxlsx)}

\NormalTok{df1\_r }\OtherTok{\textless{}{-}}\NormalTok{ openxlsx}\SpecialCharTok{::}\FunctionTok{read.xlsx}\NormalTok{(}\StringTok{"./data/dataset1a.xlsx"}\NormalTok{)}
\NormalTok{df1\_r\_sub }\OtherTok{\textless{}{-}} \FunctionTok{head}\NormalTok{(df1\_r, }\DecValTok{5}\NormalTok{)}
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(df1\_r\_sub)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1011}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.0899}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.2022}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1236}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1910}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1236}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1685}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedleft
child\_ID
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
SDC\_sex
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
SDC\_age\_in\_months
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_fever
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_fever\_onset
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_cough
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_diarrhoea
\end{minipage} \\
\midrule()
\endhead
1 & 2 & 10 & 0 & NA & 1 & 1 \\
2 & 2 & 6 & 0 & NA & 0 & 1 \\
3 & 1 & 6 & 0 & NA & 0 & 0 \\
4 & 1 & 11 & 1 & 3 & 1 & 1 \\
5 & 2 & 21 & 1 & 2 & 0 & 0 \\
\bottomrule()
\end{longtable}

\hypertarget{python}{%
\subsubsection{Python}\label{python}}

Use the
\href{https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html}{read\_excel}
function from the \texttt{pandas} package.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\ImportTok{import}\NormalTok{ pandas}

\NormalTok{df1\_python }\OperatorTok{=}\NormalTok{ pandas.read\_excel(}\StringTok{\textquotesingle{}./data/dataset1a.xlsx\textquotesingle{}}\NormalTok{)}
\NormalTok{df1\_python\_sub }\OperatorTok{=}\NormalTok{ df1\_python.head(}\DecValTok{5}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(reticulate)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Warning: Paket 'reticulate' wurde unter R Version 4.1.3 erstellt
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(py}\SpecialCharTok{$}\NormalTok{df1\_python\_sub)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1011}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.0899}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.2022}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1236}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1910}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1236}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1685}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedleft
child\_ID
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
SDC\_sex
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
SDC\_age\_in\_months
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_fever
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_fever\_onset
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_cough
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_diarrhoea
\end{minipage} \\
\midrule()
\endhead
1 & 2 & 10 & 0 & NaN & 1 & 1 \\
2 & 2 & 6 & 0 & NaN & 0 & 1 \\
3 & 1 & 6 & 0 & NaN & 0 & 0 \\
4 & 1 & 11 & 1 & 3 & 1 & 1 \\
5 & 2 & 21 & 1 & 2 & 0 & 0 \\
\bottomrule()
\end{longtable}

\hypertarget{import-csv-data}{%
\subsection{Import CSV data}\label{import-csv-data}}

\hypertarget{exercise-2}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
2}{✏️ Exercise 2}}\label{exercise-2}}

Read the CSV data set \textbf{dataset1.csv} and store it into a data
frame called \textbf{df2}.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the import delimited Stata command with the
  \href{https://rdrr.io/github/lbraglia/RStata/man/stata.html}{stata}
  function from the \texttt{RStata} package.
\item
  R: use the
  \href{https://www.rdocumentation.org/packages/utils/versions/3.6.2/topics/read.table}{read.csv}
  function from the \texttt{haven} package.
\item
  Python: use the
  \href{https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html}{read\_csv}
  function from the \texttt{pandas} package.
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-1}{%
\subsubsection{Stata}\label{stata-1}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(RStata)}

\NormalTok{df2 }\OtherTok{\textless{}{-}}\NormalTok{ RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(}\StringTok{"import delimited ./data/dataset1b.csv"}\NormalTok{,}
                     \AttributeTok{data.out =} \ConstantTok{TRUE}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. import delimited ./data/dataset1b.csv
(7 vars, 10,308 obs)
\end{verbatim}

\hypertarget{r-1}{%
\subsubsection{R}\label{r-1}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df2\_r }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"./data/dataset1b.csv"}\NormalTok{)}
\NormalTok{df2\_r\_sub }\OtherTok{\textless{}{-}} \FunctionTok{head}\NormalTok{(df2\_r, }\DecValTok{5}\NormalTok{)}
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(df2\_r\_sub)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1011}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.0899}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.2022}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1236}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1910}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1236}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.1685}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedleft
child\_ID
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
SDC\_sex
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
SDC\_age\_in\_months
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_fever
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_fever\_onset
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_cough
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
CLIN\_diarrhoea
\end{minipage} \\
\midrule()
\endhead
1 & 2 & 10 & 0 & NA & 1 & 1 \\
2 & 2 & 6 & 0 & NA & 0 & 1 \\
3 & 1 & 6 & 0 & NA & 0 & 0 \\
4 & 1 & 11 & 1 & 3 & 1 & 1 \\
5 & 2 & 21 & 1 & 2 & 0 & 0 \\
\bottomrule()
\end{longtable}

\hypertarget{python-1}{%
\subsubsection{Python}\label{python-1}}

Use the
\href{https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html}{read\_csv}
function from the \texttt{pandas} package.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\ImportTok{import}\NormalTok{ pandas}

\NormalTok{df2 }\OperatorTok{=}\NormalTok{ pandas.read\_csv(}\StringTok{\textquotesingle{}./data/dataset1b.csv\textquotesingle{}}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{import-stata-data}{%
\subsection{Import Stata data}\label{import-stata-data}}

\hypertarget{exercise-3}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
3}{✏️ Exercise 3}}\label{exercise-3}}

Read the Stata data set \textbf{dataset1.dta} and store it into a data
frame called \textbf{df3}.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the \texttt{use} Stata command with the
  \href{https://rdrr.io/github/lbraglia/RStata/man/stata.html}{stata}
  function from the \texttt{RStata} package.
\item
  R: use the
  \href{https://haven.tidyverse.org/reference/read_dta.html}{read\_dta}
  function from the \texttt{haven} package. This package supports SAS,
  STATA and SPSS software.
\item
  Python: use the
  \href{https://pandas.pydata.org/docs/reference/api/pandas.read_stata.html}{read\_stata}
  function from the \texttt{pandas} package.
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-2}{%
\subsubsection{Stata}\label{stata-2}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(RStata)}

\NormalTok{df3 }\OtherTok{\textless{}{-}}\NormalTok{ RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(}\StringTok{"use ./data/dataset1c.dta"}\NormalTok{,}
                     \AttributeTok{data.out =} \ConstantTok{TRUE}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. use ./data/dataset1c.dta
\end{verbatim}

\hypertarget{r-2}{%
\subsubsection{R}\label{r-2}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(haven)}

\NormalTok{df3 }\OtherTok{\textless{}{-}}\NormalTok{ haven}\SpecialCharTok{::}\FunctionTok{read\_dta}\NormalTok{(}\StringTok{"./data/dataset1c.dta"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{python-2}{%
\subsubsection{Python}\label{python-2}}

Use the
\href{https://pandas.pydata.org/docs/reference/api/pandas.read_stata.html}{read\_stata}
function from the \texttt{pandas} package.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\ImportTok{import}\NormalTok{ pandas}

\NormalTok{df3 }\OperatorTok{=}\NormalTok{ pandas.read\_stata(}\StringTok{\textquotesingle{}./data/dataset1c.dta\textquotesingle{}}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{import-data-from-urls}{%
\section{Import data from URLs}\label{import-data-from-urls}}

All functions can accept URLs as well instead of the path to a specific
file.

\hypertarget{exercise-4}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
4}{✏️ Exercise 4}}\label{exercise-4}}

Import the CSV data set that contains a comprehensive spatial inventory
of 98,745 public health facilities in Sub Saharan Africa directly from
the following
\href{https://open.africa/dataset/d7335980-29d5-476c-bf7a-feb4e22cf631/resource/e2432e8a-cf15-4a8b-b8c3-567f443c1459/download/cfa-data-hospitals-in-africa-00-ssa-mfl-130219.xlsx-ssa-mfl.csv}{url}
and store it into a data frame called \textbf{df4}.

To learn more about how this data set was assembled, please refer to (5)

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the import excel Stata command with the \texttt{stata}
  function from the \texttt{RStata} package.
\item
  R: use the
  \href{https://www.rdocumentation.org/packages/openxlsx/versions/4.2.5/topics/read.xlsx}{read.xlsx}
  function from the \texttt{openxlsx} package.
\item
  Python: use the
  \href{https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html}{read\_excel}
  function from the \texttt{pandas} package. In the latest version of
  pandas (0.19.2) you can directly pass the url
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-3}{%
\subsubsection{Stata}\label{stata-3}}

Here, because quotes are already used for the Stata command, you need to
use the other type of quotes for indicating the URL.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(RStata)}

\NormalTok{df2 }\OtherTok{\textless{}{-}}\NormalTok{ RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(}\StringTok{\textquotesingle{}import delimited "https://open.africa/dataset/d7335980{-}29d5{-}476c{-}bf7a{-}feb4e22cf631/resource/e2432e8a{-}cf15{-}4a8b{-}b8c3{-}567f443c1459/download/cfa{-}data{-}hospitals{-}in{-}africa{-}00{-}ssa{-}mfl{-}130219.xlsx{-}ssa{-}mfl.csv"\textquotesingle{}}\NormalTok{,}
                     \AttributeTok{data.out =} \ConstantTok{TRUE}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. import delimited "https://open.africa/dataset/d7335980-29d5-476c-bf7a-feb4e22
> cf631/resource/e2432e8a-cf15-4a8b-b8c3-567f443c1459/download/cfa-data-hospita
> ls-in-africa-00-ssa-mfl-130219.xlsx-ssa-mfl.csv"
(7 vars, 98,745 obs)
\end{verbatim}

\hypertarget{r-3}{%
\subsubsection{R}\label{r-3}}

Use the
\href{https://www.rdocumentation.org/packages/openxlsx/versions/4.2.5/topics/read.xlsx}{read.xlsx}
function from the \texttt{openxlsx} package.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{csv\_url }\OtherTok{\textless{}{-}} \StringTok{"https://open.africa/dataset/d7335980{-}29d5{-}476c{-}bf7a{-}feb4e22cf631/resource/e2432e8a{-}cf15{-}4a8b{-}b8c3{-}567f443c1459/download/cfa{-}data{-}hospitals{-}in{-}africa{-}00{-}ssa{-}mfl{-}130219.xlsx{-}ssa{-}mfl.csv"}
\NormalTok{df4 }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(csv\_url)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{python-3}{%
\subsubsection{Python}\label{python-3}}

Use the
\href{https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html}{read\_excel}
function from the \texttt{pandas} package.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\ImportTok{import}\NormalTok{ pandas}

\NormalTok{csv\_url }\OperatorTok{=} \StringTok{"https://open.africa/dataset/d7335980{-}29d5{-}476c{-}bf7a{-}feb4e22cf631/resource/e2432e8a{-}cf15{-}4a8b{-}b8c3{-}567f443c1459/download/cfa{-}data{-}hospitals{-}in{-}africa{-}00{-}ssa{-}mfl{-}130219.xlsx{-}ssa{-}mfl.csv"}
\NormalTok{df1 }\OperatorTok{=}\NormalTok{ pandas.read\_csv(csv\_url)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{manipulate-data}{%
\chapter{\texorpdfstring{{📘} Manipulate
data}{📘 Manipulate data}}\label{manipulate-data}}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Remember that with Quarto you can store multiple data sets in memory
(stored in different data frames \texttt{df1}, \texttt{df2},
\texttt{df3}, etc) and work in parallel on all these data sets.
\end{tcolorbox}

\hypertarget{import-data}{%
\section{Import data}\label{import-data}}

\hypertarget{exercise-1-1}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
1}{✏️ Exercise 1}}\label{exercise-1-1}}

Import \textbf{dataset1.xlsx} using Stata and store it in \texttt{df1}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{solution}{%
\subsubsection{\texorpdfstring{{👀}
Solution}{👀 Solution}}\label{solution}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df1 }\OtherTok{\textless{}{-}}\NormalTok{ openxlsx}\SpecialCharTok{::}\FunctionTok{read.xlsx}\NormalTok{(}\StringTok{"./data/dataset1a.xlsx"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{piping}{%
\section{Piping}\label{piping}}

Package \texttt{dplyr}

Pipes are a powerful tool for clearly expressing a sequence of multiple
operations. So far, you've been using them without knowing how they
work, or what the alternatives are. Now, in this chapter, it's time to
explore the pipe in more detail. You'll learn the alternatives to the
pipe, when you shouldn't use the pipe, and some useful related tools.

\hypertarget{structure-of-the-data}{%
\section{Structure of the data}\label{structure-of-the-data}}

\hypertarget{inspect-the-structure-of-the-data}{%
\subsection{Inspect the structure of the
data}\label{inspect-the-structure-of-the-data}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(skimr)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df1 }\OtherTok{\textless{}{-}}\NormalTok{ df1 }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  tibble}\SpecialCharTok{::}\FunctionTok{remove\_rownames}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  tibble}\SpecialCharTok{::}\FunctionTok{column\_to\_rownames}\NormalTok{(}\AttributeTok{var=}\StringTok{"child\_ID"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df1 }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  skimr}\SpecialCharTok{::}\FunctionTok{skim}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & Piped data \\
Number of rows & 10308 \\
Number of columns & 6 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
numeric & 6 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1565}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0870}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1217}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0522}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0522}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0261}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0348}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0348}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0348}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0435}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.3565}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
SDC\_sex & 4 & 1.0 & 1.49 & 0.50 & 1 & 1 & 1 & 2 & 2 & ▇▁▁▁▇ \\
SDC\_age\_in\_months & 0 & 1.0 & 18.75 & 14.90 & 0 & 7 & 15 & 27 & 59 &
▇▆▃▂▁ \\
CLIN\_fever & 0 & 1.0 & 0.84 & 3.74 & 0 & 0 & 1 & 1 & 98 & ▇▁▁▁▁ \\
CLIN\_fever\_onset & 3083 & 0.7 & 2.50 & 1.93 & 0 & 1 & 2 & 3 & 14 &
▇▅▁▁▁ \\
CLIN\_cough & 0 & 1.0 & 0.69 & 3.75 & 0 & 0 & 1 & 1 & 98 & ▇▁▁▁▁ \\
CLIN\_diarrhoea & 0 & 1.0 & 0.41 & 4.32 & 0 & 0 & 0 & 0 & 98 & ▇▁▁▁▁ \\
\bottomrule()
\end{longtable}

A categorical variable is:

\begin{enumerate}
\def\labelenumi{\alph{enumi})}
\tightlist
\item
  a variable with only two different possible values
\item
  a variable with continuous numerical values
\item
  a variable with a finite set of possible values
\end{enumerate}

Select a single answer

\hypertarget{convert}{%
\subsection{Convert}\label{convert}}

Function mutate across

\hypertarget{add-new-columns}{%
\subsection{Add new columns}\label{add-new-columns}}

Function mutate

\hypertarget{descriptive-statistics}{%
\section{Descriptive statistics}\label{descriptive-statistics}}

Package \texttt{gtsummary}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"gtsummary"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(gtsummary)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df1 }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{  gtsummary}\SpecialCharTok{::}\FunctionTok{tbl\_summary}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lc@{}}
\toprule()
\textbf{Characteristic} & \textbf{N = 10,308} \\
\midrule()
\endhead
SDC\_sex & \\
1 & 5,229 (51\%) \\
2 & 5,075 (49\%) \\
Unknown & 4 \\
SDC\_age\_in\_months & 15 (7, 27) \\
CLIN\_fever & \\
0 & 3,068 (30\%) \\
1 & 7,225 (70\%) \\
98 & 15 (0.1\%) \\
CLIN\_fever\_onset & 2.00 (1.00, 3.00) \\
Unknown & 3,083 \\
CLIN\_cough & \\
0 & 4,658 (45\%) \\
1 & 5,635 (55\%) \\
98 & 15 (0.1\%) \\
CLIN\_diarrhoea & \\
0 & 7,982 (77\%) \\
1 & 2,306 (22\%) \\
98 & 20 (0.2\%) \\
\bottomrule()
\end{longtable}

\hypertarget{filter-data}{%
\section{Filter data}\label{filter-data}}

\hypertarget{concatenate-data}{%
\section{Concatenate data}\label{concatenate-data}}

cbind rbind

\hypertarget{visualise-data}{%
\section{Visualise data}\label{visualise-data}}

\hypertarget{plot}{%
\section{Plot}\label{plot}}

Package \texttt{ggplot2}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"ggplot2"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{explore-data}{%
\section{Explore data}\label{explore-data}}

Package \texttt{DataExplorer}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"DataExplorer"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(DataExplorer)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{DataExplorer}\SpecialCharTok{::}\FunctionTok{plot\_missing}\NormalTok{(df1)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./manipulate_data_files/figure-pdf/unnamed-chunk-9-1.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{DataExplorer}\SpecialCharTok{::}\FunctionTok{plot\_missing}\NormalTok{(df1)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./manipulate_data_files/figure-pdf/unnamed-chunk-10-1.pdf}

}

\end{figure}

\hypertarget{manipulate-python-and-r-data}{%
\section{Manipulate Python and R
data}\label{manipulate-python-and-r-data}}

\hypertarget{exercise-1-2}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
1}{✏️ Exercise 1}}\label{exercise-1-2}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Import \textbf{dataset1.xlsx} using Stata and store it in \texttt{df1}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Import \textbf{dataset1.csv} using Python and store it in \texttt{df2}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Compare \texttt{df1}and \texttt{df2}. Can you indicate what variable
  has been modified in \textbf{dataset1} between df1 and df2?
\end{enumerate}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Use the R function \textbf{comparedf}
\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{solution-1}{%
\subsubsection{\texorpdfstring{{👀}
Solution}{👀 Solution}}\label{solution-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Import \textbf{dataset1.xlsx} using Stata and store it in \texttt{df1}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(RStata)}
\NormalTok{df1 }\OtherTok{\textless{}{-}}\NormalTok{ RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(}\StringTok{"import excel ./data/dataset1a.xlsx"}\NormalTok{,}
                     \AttributeTok{data.out =} \ConstantTok{TRUE}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. import excel ./data/dataset1a.xlsx
(7 vars, 10,309 obs)
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Import \textbf{dataset1.csv} using Python and store it in \texttt{df2}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\NormalTok{df2 }\OperatorTok{=}\NormalTok{ pd.read\_csv(}\StringTok{\textquotesingle{}./data/dataset1b.csv\textquotesingle{}}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Compare \texttt{df1}and \texttt{df2}.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(reticulate)}
\NormalTok{arsenal}\SpecialCharTok{::}\FunctionTok{comparedf}\NormalTok{(df1, py}\SpecialCharTok{$}\NormalTok{df2)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Compare Object

Function Call: 
arsenal::comparedf(x = df1, y = py$df2)

Shared: 0 non-by variables and 10308 observations.
Not shared: 14 variables and 1 observations.

Differences found in 0/0 variables compared.
0 variables compared have non-identical attributes.
\end{verbatim}

\hypertarget{share-code-and-collaborate-with-git}{%
\chapter{\texorpdfstring{{📘} Share code and collaborate with
Git}{📘 Share code and collaborate with Git}}\label{share-code-and-collaborate-with-git}}

\hypertarget{overview-5}{%
\subsection{Overview}\label{overview-5}}

\hypertarget{learning-objectives-5}{%
\subsection{Learning objectives}\label{learning-objectives-5}}

\hypertarget{sharing-your-code-with-git}{%
\section{Sharing your code with Git}\label{sharing-your-code-with-git}}

Even if we do not take advantage of the advanced and powerful version
control functionality, we can still use Git and GitHub to share our
code.

\hypertarget{access-a-remote-github-repository}{%
\section{Access a remote GitHub
repository}\label{access-a-remote-github-repository}}

\hypertarget{collaborating-with-git}{%
\section{Collaborating with Git}\label{collaborating-with-git}}

Once you set up a central repository, you can have multiple people make
changes to code and keep versions synced. GitHub provides a free service
for centralized repositories. GitHub also has a special utility, called
a pull request, that can be used by anybody to suggest changes to your
code. You can easily either accept or deny the request.

\includegraphics{./images/paste-ADC9719C.png}

\part{------------ DAY 2 ------------}

\hypertarget{data-science-for-public-health}{%
\chapter{\texorpdfstring{{📚} Data Science for Public
Health}{📚 Data Science for Public Health}}\label{data-science-for-public-health}}

\hypertarget{data-science}{%
\section{Data Science}\label{data-science}}

\hypertarget{activity-1}{%
\subsubsection{\texorpdfstring{Activity 1
{❓}}{Activity 1 ❓}}\label{activity-1}}

{🕒} 3 minutes: You have probably already heard about data science as
this is a main Data Science is today one of the main buzzwords, but what
does \textbf{Data Science} mean for you?

\includegraphics{./images/paste-4EA2A26C.png}

\hypertarget{quote-1}{%
\subsubsection{\texorpdfstring{Quote 1
{💬}}{Quote 1 💬}}\label{quote-1}}

The statistics profession faces a choice in its future research between
continuing concentration on traditional topics -- based largely on data
analysis supported by mathematical statistics -- and a broader viewpoint
-- based on an inclusive concept of \textbf{learning from data}. The
latter course present severe challenges as well as exciting
opportunities. The former risks seeing statistics become increasingly
marginal\ldots{} (6)

\textbf{John Chambers} (PhD in Statistics) is the creator of the S
programming language, and a core member of the R programming language
project.

\hypertarget{quote-2}{%
\subsubsection{\texorpdfstring{Quote 2
{💬}}{Quote 2 💬}}\label{quote-2}}

Data science is the science of \textbf{learning from data}; it studies
the methods involved in the analysis and processing of data and proposes
technology to \textbf{improve methods in an evidence-based manner}. The
scope and impact of this science will expand enormously in coming
decades as scientific data and data about science itself become
ubiquitously available. (7).

\textbf{David Donoho} is a Professor of Statistics at Stanford
University.

\hypertarget{quote-1-1}{%
\subsubsection{Quote 1}\label{quote-1-1}}

\begin{itemize}
\tightlist
\item
  Growing field with computational power and data generation
\item
  Set of collective evidence-based processes, theories, concepts, tools
  and technologies
\item
  Extraction of valuable knowledge and information from data (learning
  from data)
\end{itemize}

Qualitative thinking currently does not receive nearly as much attention
as quantitative thinking in data science.

\hypertarget{discussion-2}{%
\subsubsection{\texorpdfstring{Discussion
{💬}}{Discussion 💬}}\label{discussion-2}}

What does Data Science mean for you?

\includegraphics{./images/paste-AC41DECB.png}

\hypertarget{from-literature}{%
\subsubsection{From literature}\label{from-literature}}

Had you thought of any of those words? Word cloud generated by
\href{https://monkeylearn.com/word-cloud/}{MonkeyLearn} from (8)

\includegraphics{./images/paste-FFA998D0.png}

\hypertarget{where-do-you-see-yourself-on-this-venn-diagram}{%
\subsection{Where do you see yourself on this Venn
diagram}\label{where-do-you-see-yourself-on-this-venn-diagram}}

\includegraphics{./images/paste-494B1CA8.png}

\hypertarget{what-do-experts-say-about-data-science}{%
\section{What do experts say about Data
Science?}\label{what-do-experts-say-about-data-science}}

Public health data science is the study of formulating and rigorously
answering questions in order to advance health and well-being using a
data-centric process that emphasizes clarity, reproducibility, effective
communication, and ethical practices. {[}\ldots{]} Data science implies
a perspective that is shaped by {[}\ldots{]} interdisciplinary work.
(8).

\hypertarget{a-tentative-definition}{%
\section{A tentative definition}\label{a-tentative-definition}}

NIH defines data science as ``the interdisciplinary field of inquiry in
which quantitative and analytical approaches, processes, and systems are
developed and used to extract knowledge and insights from increasingly
large and/or complex sets of data''

In this book, we define data science as

Data science is an interdisciplinary collaborative field that tries to
answer rigorously formulated public health questions by relying on a set
of collective evidence-based processes, theories, concepts, tools and
technologies that enable the extraction of valuable knowledge and
information from data to generate actionable insights that effectively
communicated to decision-makers can advance health and well-being.

\begin{itemize}
\tightlist
\item
  Interdisciplinary collaborative field
\item
  Rigorous public health question formulation
\item
  Set of collective evidence-based processes, theories, concepts, tools
  and technologies
\item
  Extraction of valuable knowledge and information from data
\item
  Generation of actionable insights
\item
  Effective communication to decision-makers
\end{itemize}

\hypertarget{uncertainty}{%
\section{Uncertainty}\label{uncertainty}}

There are many reasons why a data analysis might still leave us in a
position of uncertainty.

\textbf{Our data consists of a sample}, and we want to generalize from
facts about that sample to facts about the wider population from which
it was drawn. This process of generalizing from a sample to a population
is inherently uncertain, because we haven't sampled everyone.

\includegraphics{./images/paste-6D803DF2.png}

\textbf{Our data come from a randomized experiment.} Historically, the
tools of statistical inference have been designed to address concerns
just like this.

\textbf{We want to use our data to make a prediction about the future,
and we expect the future to be similar to the past.}

\textbf{Our observations are subject to measurement or reporting error.}
Most measurements are subject to at least some kind of error, and
sometimes those errors are large enough to matter.

\textbf{Our data arise from an intrinsically random or variable
process.}

\hypertarget{malaria-case-study}{%
\chapter{\texorpdfstring{{📚} Malaria case
study}{📚 Malaria case study}}\label{malaria-case-study}}

\hypertarget{overview-6}{%
\subsection{Overview}\label{overview-6}}

These pages will demonstrate how to use Quarto to data from Tanzania.

\hypertarget{learning-objectives-6}{%
\subsection{Learning objectives}\label{learning-objectives-6}}

\begin{itemize}
\tightlist
\item
  Apply what you have learnt on Day 1 on real data
\end{itemize}

\hypertarget{getting-started}{%
\section{Getting started}\label{getting-started}}

\hypertarget{access-the-quarto-template}{%
\subsection{Access the Quarto
template}\label{access-the-quarto-template}}

Download the Quarto template used for this case study (add link) using
GitHub.

Please review previous sections on Quarto, data import and manipulation.

\hypertarget{install-packages}{%
\subsection{Install packages}\label{install-packages}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"ggplot2"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"ggthemes"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"networkD3"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"apyramid"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(openxlsx)}
\FunctionTok{library}\NormalTok{(dplyr)}
\FunctionTok{library}\NormalTok{(skimr)}
\FunctionTok{library}\NormalTok{(gtsummary)}
\FunctionTok{library}\NormalTok{(finalfit)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(ggthemes)}
\FunctionTok{library}\NormalTok{(networkD3) }\CommentTok{\# For alluvial/Sankey diagrams}
\FunctionTok{library}\NormalTok{(tidyverse)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{dataset-description}{%
\subsection{Dataset description}\label{dataset-description}}

We will be using data and examples from a real consultation data which
occurred in Tanzania between \textbf{2021-07-29} and \textbf{2021-12-17}
within the Integrated Management of Childhood Illness (TIMCI) project.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Data are made available by the Ifakara Health Institute (IHI) for
training purposes only. Please note, that some data has been adapted in
order to best achieve training objectives. No personally indentifiable
information have been kept in this dataset.
\end{tcolorbox}

Information about the consultations of \textbf{10,308 children {[}1 day
- 59 months{]}} from \textbf{18 facilities} (dispensaries and health
centres) in \textbf{Kaliua} District, \textbf{Sengerema} District and
\textbf{Tanga} District, Tanzania.

\begin{figure}

\begin{minipage}[t]{0.50\linewidth}

{\centering 

\raisebox{-\height}{

\includegraphics{./images/tanzania_map-01.png}

}

}

\subcaption{\label{fig-tanzania-study-regions}}
\end{minipage}%
%
\begin{minipage}[t]{0.50\linewidth}

{\centering 

\raisebox{-\height}{

\includegraphics{./images/mwanza_map.png}

}

}

\subcaption{\label{fig-mwanza-study-district}}
\end{minipage}%
\newline
\begin{minipage}[t]{0.50\linewidth}

{\centering 

\raisebox{-\height}{

\includegraphics{./images/kaliua_map.png}

}

}

\subcaption{\label{fig-kaliua-study-district}}
\end{minipage}%
%
\begin{minipage}[t]{0.50\linewidth}

{\centering 

\raisebox{-\height}{

\includegraphics{./images/tanga_map.png}

}

}

\subcaption{\label{fig-tanga-study-district}}
\end{minipage}%

\caption{\label{fig-study-area}Study area}

\end{figure}

\hypertarget{data-collection}{%
\subsection{Data collection}\label{data-collection}}

Data were collected using \emph{ODK} (ODK Collect, ODK Central) between
\textbf{2021-07-29} and \textbf{2021-12-17}. Research assistants
recorded the following information from different sources.

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.4130}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.1522}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.4239}}@{}}
\caption{Types and sources of information}\tabularnewline
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Information
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
Prefix
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
Source
\end{minipage} \\
\midrule()
\endfirsthead
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Information
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
Prefix
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
Source
\end{minipage} \\
\midrule()
\endhead
Context & CTX & Metadata \\
Sociodemographics & SDC & Caregiver \\
Clinical presentation & CLIN & Caregiver \\
Laboratory investigations & TEST & Child booklet or facility MTUHA
book \\
Diagnoses & DX & Child booklet or facility MTUHA book \\
Treatments & RX & \\
\begin{minipage}[t]{\linewidth}\raggedright
\begin{itemize}
\tightlist
\item
  before consultation
\end{itemize}
\end{minipage} & & Caregiver \\
\begin{minipage}[t]{\linewidth}\raggedright
\begin{itemize}
\tightlist
\item
  as a result of the consultation
\end{itemize}
\end{minipage} & & Child booklet or facility MTUHA book \\
Referral advice & MGMT & \\
& & Caregiver \\
& & Child booklet or facility MTUHA book \\
\bottomrule()
\end{longtable}

\hypertarget{data-preparation}{%
\subsection{Data preparation}\label{data-preparation}}

Data cleaning and data de-identification

Personally identifiable information (PII) were removed.

\hypertarget{population-characteristics}{%
\section{Population characteristics}\label{population-characteristics}}

\hypertarget{codebook}{%
\subsection{Codebook}\label{codebook}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.4167}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2222}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Coding
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_in\_month & \\
SDC\_sex & \begin{minipage}[t]{\linewidth}\raggedright
1: male\\
2: female\\
98: unknown\strut
\end{minipage} \\
CLIN\_fever & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\\
98: not sure\strut
\end{minipage} \\
CLIN\_fever\_onset & \\
CLIN\_cough & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\\
98: not sure\strut
\end{minipage} \\
CLIN\_diarrhoea & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\\
98: not sure\strut
\end{minipage} \\
RX\_preconsult\_antibiotics & \\
RX\_preconsult\_antimalarials & \\
CONSULT\_district & \begin{minipage}[t]{\linewidth}\raggedright
Kaliua\\
Sengerema\\
Tanga\strut
\end{minipage} \\
CONSULT\_area & \begin{minipage}[t]{\linewidth}\raggedright
urban\\
rural\strut
\end{minipage} \\
CONSULT\_facility\_type & \begin{minipage}[t]{\linewidth}\raggedright
dispensary\\
health centre\strut
\end{minipage} \\
\bottomrule()
\end{longtable}

\hypertarget{exercise-1-3}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
1}{✏️ Exercise 1}}\label{exercise-1-3}}

How many variables are numerical? How many features are categorical?

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
A \textbf{numerical variable} is a quantity represented by a real or
integer number.

A \textbf{categorical variable} has discrete values, typically
represented by string labels (but not only) taken from a finite list of
possible choices.
\end{tcolorbox}

For instance, the variable native-country in our dataset is a
categorical variable because it encodes the data using a finite list of
possible countries (along with the ? symbol when this information is
missing)

\hypertarget{malaria-case-study---part-1}{%
\chapter{\texorpdfstring{{📙} Malaria case study - Part
1}{📙 Malaria case study - Part 1}}\label{malaria-case-study---part-1}}

\hypertarget{overview-7}{%
\subsection{Overview}\label{overview-7}}

These pages will demonstrate how to use Quarto to data from Tanzania.

\hypertarget{learning-objectives-7}{%
\subsection{Learning objectives}\label{learning-objectives-7}}

\begin{itemize}
\tightlist
\item
  Apply what you have learnt on Day 1 on real data
\end{itemize}

\hypertarget{getting-started-1}{%
\section{Getting started}\label{getting-started-1}}

\hypertarget{access-the-quarto-template-1}{%
\subsection{Access the Quarto
template}\label{access-the-quarto-template-1}}

Download the Quarto template used for this case study (add link) using
GitHub.

Please review previous sections on Quarto, data import and manipulation.

\hypertarget{install-packages-1}{%
\subsection{Install packages}\label{install-packages-1}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"ggplot2"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"ggthemes"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"networkD3"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"apyramid"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(openxlsx)}
\FunctionTok{library}\NormalTok{(tidyverse)}
\FunctionTok{library}\NormalTok{(skimr)}
\FunctionTok{library}\NormalTok{(DataExplorer)}
\FunctionTok{library}\NormalTok{(gtsummary)}
\FunctionTok{library}\NormalTok{(finalfit)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(ggthemes)}
\FunctionTok{library}\NormalTok{(networkD3) }\CommentTok{\# For alluvial/Sankey diagrams}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{import-the-data}{%
\subsection{Import the data}\label{import-the-data}}

\hypertarget{exercise-1-4}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
1}{✏️ Exercise 1}}\label{exercise-1-4}}

Import the dataset and store it into a dataframe called \textbf{df}.
Display the first 5 rows and columns \texttt{child\_ID},
\texttt{CTX\_month}, \texttt{CTX\_district},
\texttt{SDC\_age\_in\_months}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Refer to Section~\ref{sec-import-data-from-files}
\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-4}{%
\subsubsection{Stata}\label{stata-4}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{stata\_df }\OtherTok{\textless{}{-}}\NormalTok{ haven}\SpecialCharTok{::}\FunctionTok{read\_dta}\NormalTok{(}\StringTok{"./data/dataset2.dta"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\#| df{-}print: kable}
\NormalTok{stata\_df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{head}\NormalTok{(}\DecValTok{5}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(child\_ID,}
\NormalTok{                CTX\_month,}
\NormalTok{                CTX\_district,}
\NormalTok{                SDC\_age\_in\_months) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}rrrr@{}}
\toprule()
child\_ID & CTX\_month & CTX\_district & SDC\_age\_in\_months \\
\midrule()
\endhead
1 & 0 & 1 & 10 \\
2 & 0 & 1 & 6 \\
3 & 0 & 1 & 6 \\
4 & 0 & 1 & 11 \\
5 & 1 & 1 & 21 \\
\bottomrule()
\end{longtable}

\hypertarget{r-4}{%
\subsubsection{R}\label{r-4}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ openxlsx}\SpecialCharTok{::}\FunctionTok{read.xlsx}\NormalTok{(}\StringTok{"./data/dataset2.xlsx"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\#| df{-}print: kable}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{head}\NormalTok{(}\DecValTok{5}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(child\_ID,}
\NormalTok{                CTX\_month,}
\NormalTok{                CTX\_district,}
\NormalTok{                SDC\_age\_in\_months) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}rrlr@{}}
\toprule()
child\_ID & CTX\_month & CTX\_district & SDC\_age\_in\_months \\
\midrule()
\endhead
1 & 7 & Kaliua & 10 \\
2 & 7 & Kaliua & 6 \\
3 & 7 & Kaliua & 6 \\
4 & 7 & Kaliua & 11 \\
5 & 8 & Kaliua & 21 \\
\bottomrule()
\end{longtable}

\hypertarget{population-characteristics-1}{%
\section{Population
characteristics}\label{population-characteristics-1}}

\hypertarget{codebook-1}{%
\subsection{Codebook}\label{codebook-1}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.4167}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2222}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Coding
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_in\_months & \\
SDC\_sex & \begin{minipage}[t]{\linewidth}\raggedright
1: male\\
2: female\\
98: unknown\strut
\end{minipage} \\
CLIN\_fever & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\\
98: not sure\strut
\end{minipage} \\
CLIN\_fever\_onset & \\
CLIN\_cough & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\\
98: not sure\strut
\end{minipage} \\
CLIN\_diarrhoea & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\\
98: not sure\strut
\end{minipage} \\
RX\_preconsult\_antibiotics & \\
RX\_preconsult\_antimalarials & \\
CTX\_district & \begin{minipage}[t]{\linewidth}\raggedright
Kaliua\\
Sengerema\\
Tanga\strut
\end{minipage} \\
CTX\_area & \begin{minipage}[t]{\linewidth}\raggedright
Urban\\
rural\strut
\end{minipage} \\
CTX\_facility\_type & \begin{minipage}[t]{\linewidth}\raggedright
Dispensary\\
Health centre\strut
\end{minipage} \\
\bottomrule()
\end{longtable}

\hypertarget{structure-of-the-data-1}{%
\subsection{Structure of the data}\label{structure-of-the-data-1}}

\hypertarget{exercise-2-1}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
2}{✏️ Exercise 2}}\label{exercise-2-1}}

Examine the structure of the data, including variable names, labels.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the
  \href{https://www.stata.com/manuals/dcodebook.pdf}{codebook} command
\item
  R: use the
  \href{https://docs.ropensci.org/skimr/reference/skim.html}{skim}
  function from the \texttt{skimr} package
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-5}{%
\subsubsection{Stata}\label{stata-5}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(}\StringTok{"codebook SDC\_age\_in\_months SDC\_sex CLIN\_fever CLIN\_fever\_onset CLIN\_diarrhoea CLIN\_cough RX\_preconsult\_antibiotics RX\_preconsult\_antimalarials CTX\_district CTX\_area CTX\_facility\_type"}\NormalTok{,}
              \AttributeTok{data.in =}\NormalTok{ stata\_df)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. codebook SDC_age_in_months SDC_sex CLIN_fever CLIN_fever_onset CLIN_diarrhoea
>  CLIN_cough RX_preconsult_antibiotics RX_preconsult_antimalarials CTX_distric
> t CTX_area CTX_facility_type

-------------------------------------------------------------------------------
SDC_age_in_months                                             SDC_age_in_months
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,59]                       units:  1
         unique values:  60                       missing .:  0/10,308

                  mean:   18.7498
              std. dev:   14.8998

           percentiles:        10%       25%       50%       75%       90%
                                 3         7        15        27        43

-------------------------------------------------------------------------------
SDC_sex                                                                 SDC_sex
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  4/10,308

            tabulation:  Freq.  Value
                         5,229  0
                         5,075  1
                             4  .

-------------------------------------------------------------------------------
CLIN_fever                                                           CLIN_fever
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,2]                        units:  1
         unique values:  3                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         3,068  0
                         7,225  1
                            15  2

-------------------------------------------------------------------------------
CLIN_fever_onset                                               CLIN_fever_onset
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,14]                       units:  1
         unique values:  15                       missing .:  3,083/10,308

                  mean:   2.50145
              std. dev:   1.93099

           percentiles:        10%       25%       50%       75%       90%
                                 1         1         2         3         4

-------------------------------------------------------------------------------
CLIN_diarrhoea                                                   CLIN_diarrhoea
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,2]                        units:  1
         unique values:  3                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         7,982  0
                         2,306  1
                            20  2

-------------------------------------------------------------------------------
CLIN_cough                                                           CLIN_cough
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,2]                        units:  1
         unique values:  3                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         4,658  0
                         5,635  1
                            15  2

-------------------------------------------------------------------------------
RX_preconsult_antibiotics                             RX_preconsult_antibiotics
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         8,573  0
                         1,735  1

-------------------------------------------------------------------------------
RX_preconsult_antimalarials                         RX_preconsult_antimalarials
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         9,866  0
                           442  1

-------------------------------------------------------------------------------
CTX_district                                                       CTX_district
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1,3]                        units:  1
         unique values:  3                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         2,429  1
                         2,703  2
                         5,176  3

-------------------------------------------------------------------------------
CTX_area                                                               CTX_area
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1,2]                        units:  1
         unique values:  2                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         4,088  1
                         6,220  2

-------------------------------------------------------------------------------
CTX_facility_type                                             CTX_facility_type
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1,2]                        units:  1
         unique values:  2                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         5,599  1
                         4,709  2
\end{verbatim}

\hypertarget{r-5}{%
\subsubsection{R}\label{r-5}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{skim}\NormalTok{(SDC\_age\_in\_months,}
\NormalTok{       SDC\_sex,}
\NormalTok{       CLIN\_fever,}
\NormalTok{       CLIN\_fever\_onset,}
\NormalTok{       CLIN\_diarrhoea,}
\NormalTok{       CLIN\_cough,}
\NormalTok{       RX\_preconsult\_antibiotics,}
\NormalTok{       RX\_preconsult\_antimalarials,}
\NormalTok{       CTX\_district,}
\NormalTok{       CTX\_area,}
\NormalTok{       CTX\_facility\_type)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & Piped data \\
Number of rows & 10308 \\
Number of columns & 39 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
character & 3 \\
numeric & 8 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: character}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.2368}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1316}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1842}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0789}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1184}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1447}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
min
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
max
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
empty
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_unique
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
whitespace
\end{minipage} \\
\midrule()
\endhead
CTX\_district & 0 & 1 & 5 & 9 & 0 & 3 & 0 \\
CTX\_area & 0 & 1 & 5 & 5 & 0 & 2 & 0 \\
CTX\_facility\_type & 0 & 1 & 10 & 13 & 0 & 2 & 0 \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.2240}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0800}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1120}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0480}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0480}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0240}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0320}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0320}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0320}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0400}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.3280}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_in\_months & 0 & 1.0 & 18.75 & 14.90 & 0 & 7 & 15 & 27 & 59 &
▇▆▃▂▁ \\
SDC\_sex & 4 & 1.0 & 1.49 & 0.50 & 1 & 1 & 1 & 2 & 2 & ▇▁▁▁▇ \\
CLIN\_fever & 0 & 1.0 & 0.84 & 3.74 & 0 & 0 & 1 & 1 & 98 & ▇▁▁▁▁ \\
CLIN\_fever\_onset & 3083 & 0.7 & 2.50 & 1.93 & 0 & 1 & 2 & 3 & 14 &
▇▅▁▁▁ \\
CLIN\_diarrhoea & 0 & 1.0 & 0.41 & 4.32 & 0 & 0 & 0 & 0 & 98 & ▇▁▁▁▁ \\
CLIN\_cough & 0 & 1.0 & 0.69 & 3.75 & 0 & 0 & 1 & 1 & 98 & ▇▁▁▁▁ \\
RX\_preconsult\_antibiotics & 0 & 1.0 & 0.17 & 0.37 & 0 & 0 & 0 & 0 & 1
& ▇▁▁▁▂ \\
RX\_preconsult\_antimalarials & 0 & 1.0 & 0.04 & 0.20 & 0 & 0 & 0 & 0 &
1 & ▇▁▁▁▁ \\
\bottomrule()
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  tibble}\SpecialCharTok{::}\FunctionTok{remove\_rownames}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  tibble}\SpecialCharTok{::}\FunctionTok{column\_to\_rownames}\NormalTok{(}\AttributeTok{var=}\StringTok{"child\_ID"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\FunctionTok{across}\NormalTok{(}\FunctionTok{c}\NormalTok{(SDC\_sex, }
\NormalTok{                         CLIN\_fever,}
\NormalTok{                         CLIN\_cough,}
\NormalTok{                         CLIN\_diarrhoea,}
\NormalTok{                         RX\_preconsult\_antibiotics,}
\NormalTok{                         RX\_preconsult\_antimalarials,}
\NormalTok{                         CTX\_district,}
\NormalTok{                         CTX\_area,}
\NormalTok{                         CTX\_facility\_type),}
\NormalTok{                       factor))}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{identify-missing-values}{%
\subsubsection{Identify missing values}\label{identify-missing-values}}

Identify missing values in each variable

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{DataExplorer}\SpecialCharTok{::}\FunctionTok{plot\_missing}\NormalTok{(df,}
                           \AttributeTok{geom\_label\_args =} \FunctionTok{list}\NormalTok{(}\AttributeTok{size =} \DecValTok{2}\NormalTok{, }\AttributeTok{label.padding =} \FunctionTok{unit}\NormalTok{(}\FloatTok{0.2}\NormalTok{, }\StringTok{"lines"}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./malaria_case_study_01_files/figure-pdf/unnamed-chunk-11-1.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{DataExplorer}\SpecialCharTok{::}\FunctionTok{plot\_bar}\NormalTok{(df }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{                         dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{CTX\_facility\_ID),}
                       \AttributeTok{by =} \StringTok{"CTX\_district"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./malaria_case_study_01_files/figure-pdf/unnamed-chunk-12-1.pdf}

}

\end{figure}

\begin{figure}[H]

{\centering \includegraphics{./malaria_case_study_01_files/figure-pdf/unnamed-chunk-12-2.pdf}

}

\end{figure}

\begin{figure}[H]

{\centering \includegraphics{./malaria_case_study_01_files/figure-pdf/unnamed-chunk-12-3.pdf}

}

\end{figure}

\hypertarget{exercise-3-1}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
3}{✏️ Exercise 3}}\label{exercise-3-1}}

Add the following two new variables to data frame \texttt{df}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.3889}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2222}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Coding
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_category & \begin{minipage}[t]{\linewidth}\raggedright
\textless2 months\\
2-11 months\\
12-23 months\\
24-35 months\\
36-47 months\\
48-59 months\strut
\end{minipage} \\
CLIN\_fever\_onset\_category &
\begin{minipage}[t]{\linewidth}\raggedright
\textless2 days\\
2-3 days\\
4-6 days\\
≥7 days\strut
\end{minipage} \\
\bottomrule()
\end{longtable}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the gen command
\item
  R: use the
  \href{https://dplyr.tidyverse.org/reference/mutate.html}{mutate} and
  \href{https://dplyr.tidyverse.org/reference/case_when.html}{case\_when}
  functions from the \texttt{dplyr} package
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-6}{%
\subsubsection{Stata}\label{stata-6}}

\hypertarget{r-6}{%
\subsubsection{R}\label{r-6}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{SDC\_age\_category =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{case\_when}\NormalTok{(}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{2} \SpecialCharTok{\textasciitilde{}} \StringTok{"\textless{}2 months"}\NormalTok{,}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textgreater{}=} \DecValTok{2} \SpecialCharTok{\&}\NormalTok{ SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{12} \SpecialCharTok{\textasciitilde{}} \StringTok{"02{-}11 months"}\NormalTok{,}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textgreater{}=} \DecValTok{12} \SpecialCharTok{\&}\NormalTok{ SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{24} \SpecialCharTok{\textasciitilde{}} \StringTok{"12{-}23 months"}\NormalTok{,}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textgreater{}=} \DecValTok{24} \SpecialCharTok{\&}\NormalTok{ SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{36} \SpecialCharTok{\textasciitilde{}} \StringTok{"24{-}35 months"}\NormalTok{,}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textgreater{}=} \DecValTok{36} \SpecialCharTok{\&}\NormalTok{ SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{48} \SpecialCharTok{\textasciitilde{}} \StringTok{"36{-}47 months"}\NormalTok{,}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textgreater{}=} \DecValTok{48} \SpecialCharTok{\&}\NormalTok{ SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{60} \SpecialCharTok{\textasciitilde{}} \StringTok{"48{-}59 months"}\NormalTok{,}
      \ConstantTok{TRUE} \SpecialCharTok{\textasciitilde{}} \StringTok{""}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{CLIN\_fever\_onset\_category =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{case\_when}\NormalTok{(}
\NormalTok{      CLIN\_fever\_onset }\SpecialCharTok{\textless{}} \DecValTok{2} \SpecialCharTok{\textasciitilde{}} \StringTok{"\textless{}2 days"}\NormalTok{,}
\NormalTok{      CLIN\_fever\_onset }\SpecialCharTok{\textgreater{}=} \DecValTok{2} \SpecialCharTok{\&}\NormalTok{ CLIN\_fever\_onset }\SpecialCharTok{\textless{}} \DecValTok{4} \SpecialCharTok{\textasciitilde{}} \StringTok{"2{-}3 days"}\NormalTok{,}
\NormalTok{      CLIN\_fever\_onset }\SpecialCharTok{\textgreater{}=} \DecValTok{4} \SpecialCharTok{\&}\NormalTok{ CLIN\_fever\_onset }\SpecialCharTok{\textless{}} \DecValTok{7} \SpecialCharTok{\textasciitilde{}} \StringTok{"4{-}6 days"}\NormalTok{,}
\NormalTok{      CLIN\_fever\_onset }\SpecialCharTok{\textgreater{}=} \DecValTok{7} \SpecialCharTok{\textasciitilde{}} \StringTok{"\textgreater{}= 7 days"}\NormalTok{,}
      \ConstantTok{TRUE} \SpecialCharTok{\textasciitilde{}} \StringTok{""}
\NormalTok{    )}
\NormalTok{  )}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{python-4}{%
\subsubsection{Python}\label{python-4}}

\hypertarget{exercise-4-1}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
4}{✏️ Exercise 4}}\label{exercise-4-1}}

Display descriptive statistics for the following population
characteristics:

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata
\item
  R: use the
  \href{https://www.danieldsjoberg.com/gtsummary/reference/tbl_summary.html}{tbl\_summary}
  function from the \texttt{gtsummary} package
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-7}{%
\subsubsection{Stata}\label{stata-7}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(}\StringTok{\textquotesingle{}tabulate SDC\_age\_category}
\StringTok{              tabulate SDC\_sex}
\StringTok{              tabulate CLIN\_fever}
\StringTok{              tabulate CLIN\_fever\_onset\_category}
\StringTok{              tabulate CLIN\_diarrhoea}
\StringTok{              tabulate CLIN\_cough}
\StringTok{              tabulate RX\_preconsult\_antibiotics}
\StringTok{              tabulate RX\_preconsult\_antimalarials}
\StringTok{              tabulate CTX\_district}
\StringTok{              tabulate CTX\_area}
\StringTok{              tabulate CTX\_facility\_type\textquotesingle{}}\NormalTok{,}
              \AttributeTok{data.in =}\NormalTok{ stata\_df)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. tabulate SDC_age_category
variable SDC_age_category not found
r(111);
.               tabulate SDC_sex
.               tabulate CLIN_fever
.               tabulate CLIN_fever_onset_category
.               tabulate CLIN_diarrhoea
.               tabulate CLIN_cough
.               tabulate RX_preconsult_antibiotics
.               tabulate RX_preconsult_antimalarials
.               tabulate CTX_district
.               tabulate CTX_area
.               tabulate CTX_facility_type
\end{verbatim}

\hypertarget{r-7}{%
\subsubsection{R}\label{r-7}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(SDC\_age\_category,}
\NormalTok{                SDC\_sex,}
\NormalTok{                CLIN\_fever,}
\NormalTok{                CLIN\_fever\_onset\_category,}
\NormalTok{                CLIN\_diarrhoea,}
\NormalTok{                CLIN\_cough,}
\NormalTok{                RX\_preconsult\_antibiotics,}
\NormalTok{                RX\_preconsult\_antimalarials,}
\NormalTok{                CTX\_district,}
\NormalTok{                CTX\_area,}
\NormalTok{                CTX\_facility\_type) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  gtsummary}\SpecialCharTok{::}\FunctionTok{tbl\_summary}\NormalTok{(}\AttributeTok{missing\_text =} \StringTok{"(Missing)"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lc@{}}
\toprule()
\textbf{Characteristic} & \textbf{N = 10,308} \\
\midrule()
\endhead
SDC\_age\_category & \\
\textless2 months & 597 (5.8\%) \\
02-11 months & 3,576 (35\%) \\
12-23 months & 2,947 (29\%) \\
24-35 months & 1,529 (15\%) \\
36-47 months & 980 (9.5\%) \\
48-59 months & 679 (6.6\%) \\
SDC\_sex & \\
1 & 5,229 (51\%) \\
2 & 5,075 (49\%) \\
(Missing) & 4 \\
CLIN\_fever & \\
0 & 3,068 (30\%) \\
1 & 7,225 (70\%) \\
98 & 15 (0.1\%) \\
CLIN\_fever\_onset\_category & \\
& 3,083 (30\%) \\
\textless2 days & 1,998 (19\%) \\
\textgreater= 7 days & 343 (3.3\%) \\
2-3 days & 4,386 (43\%) \\
4-6 days & 498 (4.8\%) \\
CLIN\_diarrhoea & \\
0 & 7,982 (77\%) \\
1 & 2,306 (22\%) \\
98 & 20 (0.2\%) \\
CLIN\_cough & \\
0 & 4,658 (45\%) \\
1 & 5,635 (55\%) \\
98 & 15 (0.1\%) \\
RX\_preconsult\_antibiotics & \\
0 & 8,573 (83\%) \\
1 & 1,735 (17\%) \\
RX\_preconsult\_antimalarials & \\
0 & 9,866 (96\%) \\
1 & 442 (4.3\%) \\
CTX\_district & \\
Kaliua & 2,429 (24\%) \\
Sengerema & 2,703 (26\%) \\
Tanga & 5,176 (50\%) \\
CTX\_area & \\
rural & 4,088 (40\%) \\
urban & 6,220 (60\%) \\
CTX\_facility\_type & \\
dispensary & 5,599 (54\%) \\
health center & 4,709 (46\%) \\
\bottomrule()
\end{longtable}

\hypertarget{healthcare-provider-actions}{%
\section{Healthcare provider
actions}\label{healthcare-provider-actions}}

\hypertarget{codebook-2}{%
\subsection{Codebook}\label{codebook-2}}

\begin{itemize}
\tightlist
\item
  Temperature measured

  \begin{itemize}
  \tightlist
  \item
    Fever measured
  \end{itemize}
\item
  Fever (temp or history)
\item
  Malaria test
\item
  Any severe diagnosis
\item
  Malaria diagnosis
\item
  Malaria treatment
\item
  Referral
\end{itemize}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.4167}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.3472}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Coding
\end{minipage} \\
\midrule()
\endhead
MEAS\_temperature & \\
& \\
TEST\_malaria\_result & \begin{minipage}[t]{\linewidth}\raggedright
0: negative\\
1: positive\\
2: indeterminate\\
95: unreadable result\\
98: not sure\strut
\end{minipage} \\
DX\_malaria & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\strut
\end{minipage} \\
RX\_antimalarials & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\strut
\end{minipage} \\
MGMT\_referral\_src\_caregiver & \\
MGMT\_referral\_src\_registry & \\
\bottomrule()
\end{longtable}

\hypertarget{structure-of-the-data-2}{%
\subsection{Structure of the data}\label{structure-of-the-data-2}}

\hypertarget{exercise-5}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
5}{✏️ Exercise 5}}\label{exercise-5}}

Examine the structure of the data, including variable names, labels.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the
  \href{https://www.stata.com/manuals/dcodebook.pdf}{codebook} command
\item
  R: use the
  \href{https://docs.ropensci.org/skimr/reference/skim.html}{skim}
  function from the \texttt{skimr} package
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-8}{%
\subsubsection{Stata}\label{stata-8}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(}\StringTok{"codebook MEAS\_temperature TEST\_malaria\_result TEST\_malaria\_result DX\_malaria RX\_antimalarials MGMT\_referral\_src\_caregiver MGMT\_referral\_src\_registry"}\NormalTok{,}
              \AttributeTok{data.in =}\NormalTok{ stata\_df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. codebook MEAS_temperature TEST_malaria_result TEST_malaria_result DX_malaria 
> RX_antimalarials MGMT_referral_src_caregiver MGMT_referral_src_registry

-------------------------------------------------------------------------------
MEAS_temperature                                               MEAS_temperature
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [34.5,42.5]                  units:  .1
         unique values:  16                       missing .:  9,271/10,308

                  mean:   37.0781
              std. dev:   .977139

           percentiles:        10%       25%       50%       75%       90%
                                36      36.5        37      37.5      38.5

-------------------------------------------------------------------------------
TEST_malaria_result                                         TEST_malaria_result
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,98]                       units:  1
         unique values:  5                        missing .:  4,550/10,308

            tabulation:  Freq.  Value
                         4,665  0
                         1,032  1
                             1  2
                             3  95
                            57  98
                         4,550  .

-------------------------------------------------------------------------------
TEST_malaria_result                                         TEST_malaria_result
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,98]                       units:  1
         unique values:  5                        missing .:  4,550/10,308

            tabulation:  Freq.  Value
                         4,665  0
                         1,032  1
                             1  2
                             3  95
                            57  98
                         4,550  .

-------------------------------------------------------------------------------
DX_malaria                                                           DX_malaria
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         8,508  0
                         1,800  1

-------------------------------------------------------------------------------
RX_antimalarials                                               RX_antimalarials
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/10,308

            tabulation:  Freq.  Value
                         9,018  0
                         1,290  1

-------------------------------------------------------------------------------
MGMT_referral_src_caregiver                         MGMT_referral_src_caregiver
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,98]                       units:  1
         unique values:  4                        missing .:  0/10,308

            tabulation:  Freq.  Value
                        10,122  0
                           164  1
                             9  97
                            13  98

-------------------------------------------------------------------------------
MGMT_referral_src_registry                           MGMT_referral_src_registry
-------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  0/10,308

            tabulation:  Freq.  Value
                        10,194  0
                           114  1
\end{verbatim}

\hypertarget{r-8}{%
\subsubsection{R}\label{r-8}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  skimr}\SpecialCharTok{::}\FunctionTok{skim}\NormalTok{(MEAS\_temperature,}
\NormalTok{              TEST\_malaria\_result,}
\NormalTok{              TEST\_malaria\_result,}
\NormalTok{              DX\_malaria,}
\NormalTok{              RX\_antimalarials,}
\NormalTok{              MGMT\_referral\_src\_caregiver,}
\NormalTok{              MGMT\_referral\_src\_registry)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & Piped data \\
Number of rows & 10308 \\
Number of columns & 40 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
numeric & 6 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.2188}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0781}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1094}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0469}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0391}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0391}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0391}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0312}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0391}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0391}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.3203}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
MEAS\_temperature & 9271 & 0.10 & 37.08 & 0.98 & 34.5 & 36.5 & 37 & 37.5
& 42.5 & ▃▇▃▁▁ \\
TEST\_malaria\_result & 4550 & 0.56 & 1.20 & 9.93 & 0.0 & 0.0 & 0 & 0.0
& 98.0 & ▇▁▁▁▁ \\
DX\_malaria & 0 & 1.00 & 0.17 & 0.38 & 0.0 & 0.0 & 0 & 0.0 & 1.0 &
▇▁▁▁▂ \\
RX\_antimalarials & 0 & 1.00 & 0.13 & 0.33 & 0.0 & 0.0 & 0 & 0.0 & 1.0 &
▇▁▁▁▁ \\
MGMT\_referral\_src\_caregiver & 0 & 1.00 & 0.22 & 4.50 & 0.0 & 0.0 & 0
& 0.0 & 98.0 & ▇▁▁▁▁ \\
MGMT\_referral\_src\_registry & 0 & 1.00 & 0.01 & 0.10 & 0.0 & 0.0 & 0 &
0.0 & 1.0 & ▇▁▁▁▁ \\
\bottomrule()
\end{longtable}

\hypertarget{exercise-3-2}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
3}{✏️ Exercise 3}}\label{exercise-3-2}}

Add the following two new variables to data frame \texttt{df}

\begin{itemize}
\tightlist
\item
  MEAS\_fever
\item
  Fever (temp or history)
\end{itemize}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the gen command
\item
  R: use the mutate function from the \texttt{dplyr} package
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-9}{%
\subsubsection{Stata}\label{stata-9}}

\hypertarget{r-9}{%
\subsubsection{R}\label{r-9}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{CALC\_temperature\_measured =} \SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(MEAS\_temperature)) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{CALC\_fever =}\NormalTok{ MEAS\_temperature }\SpecialCharTok{\textgreater{}=} \FloatTok{37.5}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{CALC\_fever\_or\_temp =}\NormalTok{ (CLIN\_fever }\SpecialCharTok{==} \DecValTok{1}\NormalTok{) }\SpecialCharTok{|}\NormalTok{ (CALC\_fever }\SpecialCharTok{==} \DecValTok{1}\NormalTok{))}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{python-5}{%
\subsubsection{Python}\label{python-5}}

\hypertarget{exercise-6}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
6}{✏️ Exercise 6}}\label{exercise-6}}

Display descriptive statistics for the following healthcare provider
actions:

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  R: use the
  \href{https://www.danieldsjoberg.com/gtsummary/reference/tbl_summary.html}{tbl\_summary}
  function from the \texttt{gtsummary} package
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{stata-10}{%
\subsubsection{Stata}\label{stata-10}}

\hypertarget{r-10}{%
\subsubsection{R}\label{r-10}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(CALC\_temperature\_measured,}
\NormalTok{                CALC\_fever,}
\NormalTok{                CALC\_fever\_or\_temp,}
\NormalTok{                TEST\_malaria\_result,}
\NormalTok{                TEST\_malaria\_result,}
\NormalTok{                DX\_malaria,}
\NormalTok{                RX\_antimalarials,}
\NormalTok{                MGMT\_referral\_src\_caregiver,}
\NormalTok{                MGMT\_referral\_src\_registry) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  gtsummary}\SpecialCharTok{::}\FunctionTok{tbl\_summary}\NormalTok{(}\AttributeTok{missing\_text =} \StringTok{"(Missing)"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lc@{}}
\toprule()
\textbf{Characteristic} & \textbf{N = 10,308} \\
\midrule()
\endhead
CALC\_temperature\_measured & 1,037 (10\%) \\
CALC\_fever & 326 (31\%) \\
(Missing) & 9,271 \\
CALC\_fever\_or\_temp & 7,252 (97\%) \\
(Missing) & 2,842 \\
TEST\_malaria\_result & \\
0 & 4,665 (81\%) \\
1 & 1,032 (18\%) \\
2 & 1 (\textless0.1\%) \\
95 & 3 (\textless0.1\%) \\
98 & 57 (1.0\%) \\
(Missing) & 4,550 \\
DX\_malaria & 1,800 (17\%) \\
RX\_antimalarials & 1,290 (13\%) \\
MGMT\_referral\_src\_caregiver & \\
0 & 10,122 (98\%) \\
1 & 164 (1.6\%) \\
97 & 9 (\textless0.1\%) \\
98 & 13 (0.1\%) \\
MGMT\_referral\_src\_registry & 114 (1.1\%) \\
\bottomrule()
\end{longtable}

\hypertarget{number-of-consultations-by-facility}{%
\section{Number of consultations by
facility}\label{number-of-consultations-by-facility}}

\hypertarget{exercise-6-1}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
6}{✏️ Exercise 6}}\label{exercise-6-1}}

Plot the number of consultations by facility in bars, grouped by
district.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata:
\item
  R:
\end{itemize}

\end{tcolorbox}

\hypertarget{stata-11}{%
\subsubsection{Stata}\label{stata-11}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{stata\_cmd }\OtherTok{\textless{}{-}} \StringTok{\textquotesingle{}}
\StringTok{graph bar (count) child\_ID, over(CTX\_facility\_ID, axis(off)) over(CTX\_district, relabel(1 "Kaliua" 2 "Sengerema" 3 "Tanga")) nofill ytitle(No. consultations) title(No. consultations by facility)}
\StringTok{graph export ./images/day02\_stata\_plot.png, replace}
\StringTok{\textquotesingle{}}
\NormalTok{RStata}\SpecialCharTok{::}\FunctionTok{stata}\NormalTok{(stata\_cmd,}
              \AttributeTok{data.in =}\NormalTok{ stata\_df)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
. 
. graph bar (count) child_ID, over(CTX_facility_ID, axis(off)) over(CTX_distric
> t, relabel(1 "Kaliua" 2 "Sengerema" 3 "Tanga")) nofill ytitle(No. consultatio
> ns) title(No. consultations by facility)
. graph export ./images/day02_stata_plot.png, replace
(file ./images/day02_stata_plot.png written in PNG format)
\end{verbatim}

\includegraphics{./images/day02_stata_plot.png}

\hypertarget{r-11}{%
\subsubsection{R}\label{r-11}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{group\_by}\NormalTok{(CTX\_district,}
\NormalTok{                  CTX\_facility\_ID) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{count}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{  ggplot2}\SpecialCharTok{::}\FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ haven}\SpecialCharTok{::}\FunctionTok{as\_factor}\NormalTok{(CTX\_district),}
                      \AttributeTok{y =}\NormalTok{ n)) }\SpecialCharTok{+} 
\NormalTok{  ggplot2}\SpecialCharTok{::}\FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position =} \FunctionTok{position\_dodge2}\NormalTok{(}\AttributeTok{preserve =} \StringTok{"single"}\NormalTok{),}
                    \AttributeTok{stat=}\StringTok{"identity"}\NormalTok{) }\SpecialCharTok{+}
\NormalTok{  ggplot2}\SpecialCharTok{::}\FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{""}\NormalTok{, }\AttributeTok{y =} \StringTok{"No. consultations"}\NormalTok{) }\SpecialCharTok{+}
\NormalTok{  ggthemes}\SpecialCharTok{::}\FunctionTok{theme\_hc}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./malaria_case_study_01_files/figure-pdf/unnamed-chunk-26-1.pdf}

}

\end{figure}

\hypertarget{fever-assessment}{%
\section{Fever assessment}\label{fever-assessment}}

\begin{itemize}
\tightlist
\item
  temp measurement by reported fever; by facility
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{chisq.test}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{CLIN\_fever, df}\SpecialCharTok{$}\NormalTok{TEST\_malaria\_result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    Pearson's Chi-squared test

data:  df$CLIN_fever and df$TEST_malaria_result
X-squared = 61.449, df = 8, p-value = 2.42e-10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df}\SpecialCharTok{$}\NormalTok{CTX\_facility\_ID }\OtherTok{\textless{}{-}}\NormalTok{ haven}\SpecialCharTok{::}\FunctionTok{as\_factor}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{CTX\_facility\_ID) }
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(CLIN\_fever }\SpecialCharTok{==} \DecValTok{1}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(MEAS\_temperature,}
\NormalTok{                CTX\_facility\_ID) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  gtsummary}\SpecialCharTok{::}\FunctionTok{tbl\_summary}\NormalTok{(}\AttributeTok{by =}\NormalTok{ CTX\_facility\_ID) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{add\_p}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0446}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0469}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0516}}
  >{\centering\arraybackslash}p{(\columnwidth - 38\tabcolsep) * \real{0.0305}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\textbf{Characteristic}
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8529}, N = 186
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8195}, N = 581
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8793}, N = 780
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F7729}, N = 197
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F4848}, N = 406
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8444}, N = 209
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F9109}, N = 358
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8379}, N = 465
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F5145}, N = 490
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F6552}, N = 291
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F4024}, N = 550
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F3366}, N = 603
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F7327}, N = 270
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F4056}, N = 62
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F5560}, N = 356
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F6813}, N = 323
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F0542}, N = 682
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F5656}, N = 416
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{p-value}
\end{minipage} \\
\midrule()
\endhead
MEAS\_temperature & 37.50 (37.00, 38.00) & NA (NA, NA) & 39.50 (39.25,
39.75) & 37.00 (36.25, 37.50) & 36.50 (36.00, 36.88) & 37.00 (37.00,
37.00) & 38.50 (37.00, 38.50) & 37.50 (36.50, 38.25) & 37.50 (37.00,
38.75) & 37.00 (37.00, 38.00) & 37.00 (37.00, 37.50) & 38.00 (38.00,
38.50) & 38.25 (38.12, 38.38) & 39.00 (38.25, 39.50) & 37.00 (36.50,
38.00) & 37.00 (36.50, 37.50) & 37.50 (36.88, 37.75) & 36.25 (36.00,
37.00) & \textless0.001 \\
Unknown & 136 & 581 & 778 & 70 & 380 & 203 & 333 & 422 & 479 & 117 & 531
& 598 & 268 & 59 & 222 & 184 & 670 & 398 & \\
\bottomrule()
\end{longtable}

\begin{itemize}
\tightlist
\item
  also showing `prevalence' of fever when of whole clinic vs of those
  who measure to indicate bias
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{malaria-tests}{%
\section{Malaria tests}\label{malaria-tests}}

\begin{itemize}
\tightlist
\item
  malaria tests of those with history or measured fever
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{table}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{CALC\_fever\_or\_temp, df}\SpecialCharTok{$}\NormalTok{TEST\_malaria\_result)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
       
           0    1    2   95   98
  FALSE   70    2    0    1    1
  TRUE  3952  966    1    2   47
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{chisq.test}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{CALC\_fever\_or\_temp, df}\SpecialCharTok{$}\NormalTok{TEST\_malaria\_result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    Pearson's Chi-squared test

data:  df$CALC_fever_or_temp and df$TEST_malaria_result
X-squared = 33.92, df = 4, p-value = 7.74e-07
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df}\SpecialCharTok{$}\NormalTok{CTX\_facility\_ID }\OtherTok{\textless{}{-}}\NormalTok{ haven}\SpecialCharTok{::}\FunctionTok{as\_factor}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{CTX\_facility\_ID) }
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(CALC\_fever\_or\_temp }\SpecialCharTok{==} \DecValTok{1}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(TEST\_malaria\_result,}
\NormalTok{                CTX\_facility\_ID) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  gtsummary}\SpecialCharTok{::}\FunctionTok{tbl\_summary}\NormalTok{(}\AttributeTok{by =}\NormalTok{ CTX\_facility\_ID)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0501}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}
  >{\centering\arraybackslash}p{(\columnwidth - 36\tabcolsep) * \real{0.0528}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\textbf{Characteristic}
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8529}, N = 190
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8195}, N = 581
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8793}, N = 780
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F7729}, N = 197
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F4848}, N = 406
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8444}, N = 209
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F9109}, N = 358
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F8379}, N = 467
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F5145}, N = 491
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F6552}, N = 301
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F4024}, N = 550
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F3366}, N = 603
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F7327}, N = 270
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F4056}, N = 62
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F5560}, N = 358
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F6813}, N = 330
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F0542}, N = 683
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{F5656}, N = 416
\end{minipage} \\
\midrule()
\endhead
TEST\_malaria\_result & & & & & & & & & & & & & & & & & & \\
0 & 83 (67\%) & 151 (33\%) & 319 (54\%) & 125 (82\%) & 285 (75\%) & 135
(98\%) & 159 (95\%) & 371 (93\%) & 226 (95\%) & 213 (96\%) & 221 (97\%)
& 346 (97\%) & 21 (25\%) & 32 (57\%) & 242 (92\%) & 225 (91\%) & 511
(90\%) & 287 (97\%) \\
1 & 38 (31\%) & 300 (66\%) & 270 (46\%) & 28 (18\%) & 95 (25\%) & 0
(0\%) & 2 (1.2\%) & 25 (6.3\%) & 7 (2.9\%) & 4 (1.8\%) & 6 (2.6\%) & 6
(1.7\%) & 59 (69\%) & 20 (36\%) & 20 (7.6\%) & 21 (8.5\%) & 55 (9.7\%) &
10 (3.4\%) \\
2 & 0 (0\%) & 0 (0\%) & 1 (0.2\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0
(0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0
(0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) \\
95 & 1 (0.8\%) & 0 (0\%) & 1 (0.2\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0
(0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0
(0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) & 0 (0\%) \\
98 & 2 (1.6\%) & 5 (1.1\%) & 1 (0.2\%) & 0 (0\%) & 0 (0\%) & 3 (2.2\%) &
6 (3.6\%) & 2 (0.5\%) & 6 (2.5\%) & 6 (2.7\%) & 0 (0\%) & 3 (0.8\%) & 5
(5.9\%) & 4 (7.1\%) & 0 (0\%) & 1 (0.4\%) & 3 (0.5\%) & 0 (0\%) \\
Unknown & 66 & 125 & 188 & 44 & 26 & 71 & 191 & 69 & 252 & 78 & 323 &
248 & 185 & 6 & 96 & 83 & 114 & 119 \\
\bottomrule()
\end{longtable}

\hypertarget{malaria-treatments}{%
\section{Malaria treatments}\label{malaria-treatments}}

\begin{itemize}
\tightlist
\item
  malaria diagnoses vs.~positive tests vs.~treatment.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{TEST\_malaria\_positive =} \DecValTok{1}\SpecialCharTok{*}\NormalTok{ (TEST\_malaria\_result }\SpecialCharTok{==} \DecValTok{1}\NormalTok{))}
\FunctionTok{table}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{TEST\_malaria\_result, df}\SpecialCharTok{$}\NormalTok{DX\_malaria, df}\SpecialCharTok{$}\NormalTok{RX\_antimalarials) }\SpecialCharTok{\%\textgreater{}\%}\NormalTok{ knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllr@{}}
\toprule()
Var1 & Var2 & Var3 & Freq \\
\midrule()
\endhead
0 & 0 & 0 & 3890 \\
1 & 0 & 0 & 15 \\
2 & 0 & 0 & 1 \\
95 & 0 & 0 & 2 \\
98 & 0 & 0 & 31 \\
0 & 1 & 0 & 645 \\
1 & 1 & 0 & 49 \\
2 & 1 & 0 & 0 \\
95 & 1 & 0 & 1 \\
98 & 1 & 0 & 17 \\
0 & 0 & 1 & 99 \\
1 & 0 & 1 & 50 \\
2 & 0 & 1 & 0 \\
95 & 0 & 1 & 0 \\
98 & 0 & 1 & 2 \\
0 & 1 & 1 & 31 \\
1 & 1 & 1 & 918 \\
2 & 1 & 1 & 0 \\
95 & 1 & 1 & 0 \\
98 & 1 & 1 & 7 \\
\bottomrule()
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{chisq.test}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{TEST\_malaria\_result, df}\SpecialCharTok{$}\NormalTok{DX\_malaria)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    Pearson's Chi-squared test

data:  df$TEST_malaria_result and df$DX_malaria
X-squared = 2582, df = 4, p-value < 2.2e-16
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{chisq.test}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{TEST\_malaria\_result, df}\SpecialCharTok{$}\NormalTok{RX\_antimalarials)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    Pearson's Chi-squared test

data:  df$TEST_malaria_result and df$RX_antimalarials
X-squared = 4508.8, df = 4, p-value < 2.2e-16
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# df$CTX\_facility\_ID \textless{}{-} haven::as\_factor(df$CTX\_facility\_ID) }
\CommentTok{\# df \%\textgreater{}\%}
\CommentTok{\#   dplyr::filter(TEST\_malaria\_positive == 1) \%\textgreater{}\%}
\CommentTok{\#   dplyr::select(DX\_malaria,}
\CommentTok{\#                 RX\_antimalarials,}
\CommentTok{\#                 CTX\_facility\_ID) \%\textgreater{}\%}
\CommentTok{\#   gtsummary::tbl\_summary(by = CTX\_facility\_ID)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{malaria-case-study---report-1}{%
\chapter{\texorpdfstring{{📙} Malaria case study - Report
\#1}{📙 Malaria case study - Report \#1}}\label{malaria-case-study---report-1}}

\hypertarget{instructions}{%
\subsection{Instructions}\label{instructions}}

The data set used for this report is stored in \textbf{dataset2.dta} or
\textbf{dataset2.xlsx} or \textbf{dataset2.csv}.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Derive new variables to data frame \texttt{df}
\item
  Describe and critically discuss the distribution of consultations by
  facilities depending on their characteristics (urban vs.~rural, health
  centre vs.~dispensary, district)
\item
  Describe and critically discuss the demographics, clinical
  presentation and clinical history of patients.
\item
  Describe and critically discuss the clinical assessments (fever
  assessment, malaria test) conducted during the consultation.
\end{enumerate}

\begin{longtable}[]{@{}lccc@{}}
\caption{Extract of the database}\tabularnewline
\toprule()
child\_ID & CTX\_month & CTX\_district & SDC\_age\_in\_months \\
\midrule()
\endfirsthead
\toprule()
child\_ID & CTX\_month & CTX\_district & SDC\_age\_in\_months \\
\midrule()
\endhead
1 & 7 & Kaliua & 10 \\
2 & 7 & Kaliua & 6 \\
3 & 7 & Kaliua & 6 \\
4 & 7 & Kaliua & 11 \\
5 & 8 & Kaliua & 21 \\
\bottomrule()
\end{longtable}

\hypertarget{codebook-3}{%
\subsection{Codebook}\label{codebook-3}}

\hypertarget{numerical-variables}{%
\subsubsection{Numerical variables}\label{numerical-variables}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 0\tabcolsep) * \real{0.4167}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Variable
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_in\_months \\
CLIN\_fever\_onset \\
MEAS\_temperature \\
\bottomrule()
\end{longtable}

\hypertarget{categorical-variables}{%
\subsubsection{Categorical variables}\label{categorical-variables}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.4167}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.3472}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Coding
\end{minipage} \\
\midrule()
\endhead
SDC\_sex & 1: male

2: female

98: unknown \\
CLIN\_fever & 0: no

1: yes

98: not sure \\
CLIN\_cough & 0: no

1: yes

98: not sure \\
CLIN\_diarrhoea & 0: no

1: yes

98: not sure \\
RX\_preconsult\_antibiotics & 0: no

1: yes \\
RX\_preconsult\_antimalarials & 0: no

1: yes \\
CTX\_district & Kaliua

Sengerema

Tanga \\
CTX\_area & urban

rural \\
CTX\_facility\_type & dispensary

health centre \\
TEST\_malaria\_result & \begin{minipage}[t]{\linewidth}\raggedright
0: negative\\
1: positive\\
2: indeterminate\\
95: unreadable result\\
98: not sure\strut
\end{minipage} \\
DX\_malaria & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\strut
\end{minipage} \\
DX\_malaria\_severe & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\strut
\end{minipage} \\
RX\_antimalarials & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\strut
\end{minipage} \\
RX\_artemether & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\strut
\end{minipage} \\
RX\_antibiotics & \begin{minipage}[t]{\linewidth}\raggedright
0: no\\
1: yes\strut
\end{minipage} \\
MGMT\_referral\_src\_caregiver & \\
MGMT\_referral\_src\_registry & \\
\bottomrule()
\end{longtable}

\hypertarget{derive-new-variables}{%
\subsection{Derive new variables}\label{derive-new-variables}}

Add the following two new variables to data frame \texttt{df}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.3889}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2222}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Coding
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_category & \textless2 months

2-11 months

12-23 months

24-35 months

36-47 months

48-59 months \\
CLIN\_fever\_onset\_category & \textless2 days

2-3 days

4-6 days

≥ 7 days \\
\bottomrule()
\end{longtable}

\hypertarget{structure-of-the-data-3}{%
\subsection{Structure of the data}\label{structure-of-the-data-3}}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & Piped data \\
Number of rows & 10308 \\
Number of columns & 40 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
factor & 9 \\
numeric & 2 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: factor}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.2772}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.0990}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1386}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.0792}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.0891}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.3168}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
ordered
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_unique
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
top\_counts
\end{minipage} \\
\midrule()
\endhead
SDC\_sex & 4 & 1 & FALSE & 2 & 1: 5229, 2: 5075 \\
CLIN\_fever & 0 & 1 & FALSE & 3 & 1: 7225, 0: 3068, 98: 15 \\
CLIN\_diarrhoea & 0 & 1 & FALSE & 3 & 0: 7982, 1: 2306, 98: 20 \\
CLIN\_cough & 0 & 1 & FALSE & 3 & 1: 5635, 0: 4658, 98: 15 \\
RX\_preconsult\_antibiotics & 0 & 1 & FALSE & 2 & 0: 8573, 1: 1735 \\
RX\_preconsult\_antimalarials & 0 & 1 & FALSE & 2 & 0: 9866, 1: 442 \\
CTX\_district & 0 & 1 & FALSE & 3 & Tan: 5176, Sen: 2703, Kal: 2429 \\
CTX\_area & 0 & 1 & FALSE & 2 & urb: 6220, rur: 4088 \\
CTX\_facility\_type & 0 & 1 & FALSE & 2 & dis: 5599, hea: 4709 \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1565}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0870}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1217}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0522}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0522}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0261}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0348}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0348}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0348}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0435}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.3565}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_in\_months & 0 & 1.0 & 18.75 & 14.90 & 0 & 7 & 15 & 27 & 59 &
▇▆▃▂▁ \\
CLIN\_fever\_onset & 3083 & 0.7 & 2.50 & 1.93 & 0 & 1 & 2 & 3 & 14 &
▇▅▁▁▁ \\
\bottomrule()
\end{longtable}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & Piped data \\
Number of rows & 10308 \\
Number of columns & 43 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
factor & 12 \\
numeric & 1 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: factor}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.2772}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.0990}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1386}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.0792}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.0891}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.3168}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
ordered
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_unique
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
top\_counts
\end{minipage} \\
\midrule()
\endhead
TEST\_malaria\_done & 0 & 1.00 & FALSE & 2 & 1: 5763, 0: 4545 \\
TEST\_malaria\_type & 4550 & 0.56 & FALSE & 4 & 1: 5371, 2: 340, 98: 45,
95: 2 \\
TEST\_malaria\_result & 4550 & 0.56 & FALSE & 5 & 0: 4665, 1: 1032, 98:
57, 95: 3 \\
DX\_severe & 0 & 1.00 & FALSE & 2 & 0: 10054, 1: 254 \\
DX\_malaria & 0 & 1.00 & FALSE & 2 & 0: 8508, 1: 1800 \\
DX\_malaria\_severe & 0 & 1.00 & FALSE & 2 & 0: 10160, 1: 148 \\
RX\_antimalarials & 0 & 1.00 & FALSE & 2 & 0: 9018, 1: 1290 \\
RX\_antimalarial\_parenteral & 0 & 1.00 & FALSE & 2 & 0: 10059, 1:
249 \\
RX\_artemether & 0 & 1.00 & FALSE & 2 & 0: 10248, 1: 60 \\
RX\_antibiotics & 0 & 1.00 & FALSE & 2 & 1: 5430, 0: 4878 \\
MGMT\_referral\_src\_caregiver & 0 & 1.00 & FALSE & 4 & 0: 10122, 1:
164, 98: 13, 97: 9 \\
MGMT\_referral\_src\_registry & 0 & 1.00 & FALSE & 2 & 0: 10194, 1:
114 \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1453}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0855}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1197}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0513}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0427}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0427}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0427}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0342}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0427}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0427}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.3504}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
MEAS\_temperature & 9271 & 0.1 & 37.08 & 0.98 & 34.5 & 36.5 & 37 & 37.5
& 42.5 & ▃▇▃▁▁ \\
\bottomrule()
\end{longtable}

\hypertarget{facility-characteristics}{%
\section{Facility characteristics}\label{facility-characteristics}}

Describe and critically discuss the distribution of consultations by
facilities depending on their characteristics (urban vs.~rural, health
centre vs.~dispensary, district)

\begin{longtable}[]{@{}lc@{}}
\toprule()
\textbf{Characteristic} & \textbf{N = 10,308} \\
\midrule()
\endhead
CTX\_facility\_type & \\
dispensary & 5,599 (54\%) \\
health center & 4,709 (46\%) \\
CTX\_area & \\
rural & 4,088 (40\%) \\
urban & 6,220 (60\%) \\
CTX\_district & \\
Kaliua & 2,429 (24\%) \\
Sengerema & 2,703 (26\%) \\
Tanga & 5,176 (50\%) \\
\bottomrule()
\end{longtable}

\hypertarget{urban-rural-consultations}{%
\subsection{Urban / rural
consultations}\label{urban-rural-consultations}}

Describe the distribution of consultations in urban vs.~rural facilities

\begin{longtable}[]{@{}lr@{}}
\toprule()
Area & Freq \\
\midrule()
\endhead
rural & 0.3965852 \\
urban & 0.6034148 \\
\bottomrule()
\end{longtable}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-11-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-12-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-13-1.pdf}

\hypertarget{consultations-by-type-of-facility}{%
\subsection{Consultations by type of
facility}\label{consultations-by-type-of-facility}}

Describe the distribution of consultations in dispensaries vs.~health
centres.

\begin{longtable}[]{@{}lr@{}}
\toprule()
Type & Freq \\
\midrule()
\endhead
dispensary & 0.5431704 \\
health center & 0.4568296 \\
\bottomrule()
\end{longtable}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-15-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-16-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-17-1.pdf}

\hypertarget{consultations-by-district}{%
\subsection{Consultations by district}\label{consultations-by-district}}

Describe the distribution of consultations by district (Kaliua
vs.~Sengerema vs.~tanga)

\begin{longtable}[]{@{}lr@{}}
\toprule()
District & Freq \\
\midrule()
\endhead
Kaliua & 0.2356422 \\
Sengerema & 0.2622235 \\
Tanga & 0.5021343 \\
\bottomrule()
\end{longtable}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-19-1.pdf}

\hypertarget{number-of-consultations-by-facility-within-each-district}{%
\subsubsection{Number of consultations by facility within each
district}\label{number-of-consultations-by-facility-within-each-district}}

\begin{figure}

{\centering \includegraphics{./malaria_case_study_01_report_files/figure-pdf/fig-nb-consultations-by-district-1.pdf}

}

\caption{\label{fig-nb-consultations-by-district}\textbf{?(caption)}}

\end{figure}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-21-1.pdf}

\hypertarget{consultations-by-area-type-of-facility-and-district}{%
\subsection{Consultations by area, type of facility and
district}\label{consultations-by-area-type-of-facility-and-district}}

\begin{longtable}[]{@{}lllr@{}}
\toprule()
Area & Type & District & Freq \\
\midrule()
\endhead
rural & dispensary & Kaliua & 1475 \\
urban & dispensary & Kaliua & 0 \\
rural & health center & Kaliua & 954 \\
urban & health center & Kaliua & 0 \\
rural & dispensary & Sengerema & 321 \\
urban & dispensary & Sengerema & 486 \\
rural & health center & Sengerema & 994 \\
urban & health center & Sengerema & 902 \\
rural & dispensary & Tanga & 344 \\
urban & dispensary & Tanga & 2973 \\
rural & health center & Tanga & 0 \\
urban & health center & Tanga & 1859 \\
\bottomrule()
\end{longtable}

\hypertarget{patient-characteristics}{%
\section{Patient characteristics}\label{patient-characteristics}}

Describe and critically discuss the demographics, clinical presentation
and clinical history of patients.

\begin{longtable}[]{@{}lc@{}}
\toprule()
\textbf{Characteristic} & \textbf{N = 10,308} \\
\midrule()
\endhead
SDC\_age\_category & \\
\textless2 months & 597 (5.8\%) \\
02-11 months & 3,576 (35\%) \\
12-23 months & 2,947 (29\%) \\
24-35 months & 1,529 (15\%) \\
36-47 months & 980 (9.5\%) \\
48-59 months & 679 (6.6\%) \\
SDC\_sex & \\
1 & 5,229 (51\%) \\
2 & 5,075 (49\%) \\
(Missing) & 4 \\
CLIN\_fever & \\
0 & 3,068 (30\%) \\
1 & 7,225 (70\%) \\
98 & 15 (0.1\%) \\
CLIN\_fever\_onset\_category & \\
& 3,083 (30\%) \\
\textless{} 2 days & 1,998 (19\%) \\
\textgreater= 7 days & 343 (3.3\%) \\
2-3 days & 4,386 (43\%) \\
4-6 days & 498 (4.8\%) \\
CLIN\_diarrhoea & \\
0 & 7,982 (77\%) \\
1 & 2,306 (22\%) \\
98 & 20 (0.2\%) \\
CLIN\_cough & \\
0 & 4,658 (45\%) \\
1 & 5,635 (55\%) \\
98 & 15 (0.1\%) \\
RX\_preconsult\_antibiotics & \\
0 & 8,573 (83\%) \\
1 & 1,735 (17\%) \\
RX\_preconsult\_antimalarials & \\
0 & 9,866 (96\%) \\
1 & 442 (4.3\%) \\
\bottomrule()
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3294}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3176}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3529}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\textbf{Characteristic}
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{dispensary}, N = 5,599
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{health center}, N = 4,709
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_category & & \\
\textless2 months & 290 (5.2\%) & 307 (6.5\%) \\
02-11 months & 1,888 (34\%) & 1,688 (36\%) \\
12-23 months & 1,606 (29\%) & 1,341 (28\%) \\
24-35 months & 859 (15\%) & 670 (14\%) \\
36-47 months & 570 (10\%) & 410 (8.7\%) \\
48-59 months & 386 (6.9\%) & 293 (6.2\%) \\
SDC\_sex & & \\
1 & 2,810 (50\%) & 2,419 (51\%) \\
2 & 2,786 (50\%) & 2,289 (49\%) \\
(Missing) & 3 & 1 \\
CLIN\_fever & & \\
0 & 1,710 (31\%) & 1,358 (29\%) \\
1 & 3,881 (69\%) & 3,344 (71\%) \\
98 & 8 (0.1\%) & 7 (0.1\%) \\
CLIN\_fever\_onset\_category & & \\
& 1,718 (31\%) & 1,365 (29\%) \\
\textless{} 2 days & 1,167 (21\%) & 831 (18\%) \\
\textgreater= 7 days & 149 (2.7\%) & 194 (4.1\%) \\
2-3 days & 2,333 (42\%) & 2,053 (44\%) \\
4-6 days & 232 (4.1\%) & 266 (5.6\%) \\
CLIN\_diarrhoea & & \\
0 & 4,457 (80\%) & 3,525 (75\%) \\
1 & 1,135 (20\%) & 1,171 (25\%) \\
98 & 7 (0.1\%) & 13 (0.3\%) \\
CLIN\_cough & & \\
0 & 2,365 (42\%) & 2,293 (49\%) \\
1 & 3,226 (58\%) & 2,409 (51\%) \\
98 & 8 (0.1\%) & 7 (0.1\%) \\
RX\_preconsult\_antibiotics & & \\
0 & 4,828 (86\%) & 3,745 (80\%) \\
1 & 771 (14\%) & 964 (20\%) \\
RX\_preconsult\_antimalarials & & \\
0 & 5,468 (98\%) & 4,398 (93\%) \\
1 & 131 (2.3\%) & 311 (6.6\%) \\
\bottomrule()
\end{longtable}

\hypertarget{demographics}{%
\subsection{Demographics}\label{demographics}}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-25-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-26-1.pdf}

\hypertarget{clinical-presentation}{%
\subsection{Clinical presentation}\label{clinical-presentation}}

\hypertarget{fever}{%
\subsubsection{Fever}\label{fever}}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-27-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-28-1.pdf}

\hypertarget{cough}{%
\subsubsection{Cough}\label{cough}}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-29-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-30-1.pdf}

\hypertarget{diarrhoea}{%
\subsubsection{Diarrhoea}\label{diarrhoea}}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-31-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-32-1.pdf}

\hypertarget{combination-of-symptoms}{%
\subsubsection{Combination of symptoms}\label{combination-of-symptoms}}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-33-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-34-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-35-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-36-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-37-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-38-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-39-1.pdf}

\hypertarget{clinical-assessments-conducted-during-the-consultation}{%
\section{Clinical assessments conducted during the
consultation}\label{clinical-assessments-conducted-during-the-consultation}}

Describe and critically discuss the clinical assessments (fever
assessment, malaria test) conducted during the consultation.

\begin{longtable}[]{@{}lc@{}}
\toprule()
\textbf{Characteristic} & \textbf{N = 10,308} \\
\midrule()
\endhead
CALC\_temperature\_measured & \\
0 & 9,271 (90\%) \\
1 & 1,037 (10\%) \\
CALC\_fever\_measured & \\
0 & 711 (69\%) \\
1 & 326 (31\%) \\
(Missing) & 9,271 \\
CALC\_fever\_all & \\
0 & 3,056 (30\%) \\
1 & 7,252 (70\%) \\
TEST\_malaria\_done & \\
0 & 4,545 (44\%) \\
1 & 5,763 (56\%) \\
TEST\_malaria\_type & \\
1 & 5,371 (93\%) \\
2 & 340 (5.9\%) \\
95 & 2 (\textless0.1\%) \\
98 & 45 (0.8\%) \\
(Missing) & 4,550 \\
TEST\_malaria\_result & \\
0 & 4,665 (81\%) \\
1 & 1,032 (18\%) \\
2 & 1 (\textless0.1\%) \\
95 & 3 (\textless0.1\%) \\
98 & 57 (1.0\%) \\
(Missing) & 4,550 \\
DX\_severe & \\
0 & 10,054 (98\%) \\
1 & 254 (2.5\%) \\
DX\_malaria & \\
0 & 8,508 (83\%) \\
1 & 1,800 (17\%) \\
DX\_malaria\_severe & \\
0 & 10,160 (99\%) \\
1 & 148 (1.4\%) \\
RX\_antimalarials & \\
0 & 9,018 (87\%) \\
1 & 1,290 (13\%) \\
RX\_antimalarial\_parenteral & \\
0 & 10,059 (98\%) \\
1 & 249 (2.4\%) \\
RX\_antibiotics & \\
0 & 4,878 (47\%) \\
1 & 5,430 (53\%) \\
MGMT\_referral\_src\_caregiver & \\
0 & 10,122 (98\%) \\
1 & 164 (1.6\%) \\
97 & 9 (\textless0.1\%) \\
98 & 13 (0.1\%) \\
MGMT\_referral\_src\_registry & \\
0 & 10,194 (99\%) \\
1 & 114 (1.1\%) \\
\bottomrule()
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3294}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3176}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3529}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\textbf{Characteristic}
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{dispensary}, N = 5,599
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{health center}, N = 4,709
\end{minipage} \\
\midrule()
\endhead
CALC\_temperature\_measured & & \\
0 & 4,843 (86\%) & 4,428 (94\%) \\
1 & 756 (14\%) & 281 (6.0\%) \\
CALC\_fever\_measured & & \\
0 & 507 (67\%) & 204 (73\%) \\
1 & 249 (33\%) & 77 (27\%) \\
(Missing) & 4,843 & 4,428 \\
CALC\_fever\_all & & \\
0 & 1,699 (30\%) & 1,357 (29\%) \\
1 & 3,900 (70\%) & 3,352 (71\%) \\
TEST\_malaria\_done & & \\
0 & 2,589 (46\%) & 1,956 (42\%) \\
1 & 3,010 (54\%) & 2,753 (58\%) \\
TEST\_malaria\_type & & \\
1 & 2,836 (94\%) & 2,535 (92\%) \\
2 & 134 (4.5\%) & 206 (7.5\%) \\
95 & 1 (\textless0.1\%) & 1 (\textless0.1\%) \\
98 & 34 (1.1\%) & 11 (0.4\%) \\
(Missing) & 2,594 & 1,956 \\
TEST\_malaria\_result & & \\
0 & 2,414 (80\%) & 2,251 (82\%) \\
1 & 544 (18\%) & 488 (18\%) \\
2 & 0 (0\%) & 1 (\textless0.1\%) \\
95 & 2 (\textless0.1\%) & 1 (\textless0.1\%) \\
98 & 45 (1.5\%) & 12 (0.4\%) \\
(Missing) & 2,594 & 1,956 \\
DX\_severe & & \\
0 & 5,540 (99\%) & 4,514 (96\%) \\
1 & 59 (1.1\%) & 195 (4.1\%) \\
DX\_malaria & & \\
0 & 4,405 (79\%) & 4,103 (87\%) \\
1 & 1,194 (21\%) & 606 (13\%) \\
DX\_malaria\_severe & & \\
0 & 5,579 (100\%) & 4,581 (97\%) \\
1 & 20 (0.4\%) & 128 (2.7\%) \\
RX\_antimalarials & & \\
0 & 4,923 (88\%) & 4,095 (87\%) \\
1 & 676 (12\%) & 614 (13\%) \\
RX\_antimalarial\_parenteral & & \\
0 & 5,562 (99\%) & 4,497 (95\%) \\
1 & 37 (0.7\%) & 212 (4.5\%) \\
RX\_antibiotics & & \\
0 & 2,407 (43\%) & 2,471 (52\%) \\
1 & 3,192 (57\%) & 2,238 (48\%) \\
MGMT\_referral\_src\_caregiver & & \\
0 & 5,528 (99\%) & 4,594 (98\%) \\
1 & 60 (1.1\%) & 104 (2.2\%) \\
97 & 6 (0.1\%) & 3 (\textless0.1\%) \\
98 & 5 (\textless0.1\%) & 8 (0.2\%) \\
MGMT\_referral\_src\_registry & & \\
0 & 5,578 (100\%) & 4,616 (98\%) \\
1 & 21 (0.4\%) & 93 (2.0\%) \\
\bottomrule()
\end{longtable}

\hypertarget{temperature-measurement}{%
\subsection{Temperature measurement}\label{temperature-measurement}}

Distribution of temperature measurements and associated factors

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-42-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-43-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-44-1.pdf}

\begin{figure}

{\centering \includegraphics{./malaria_case_study_01_report_files/figure-pdf/fig-temperature-range-global-1.pdf}

}

\caption{\label{fig-temperature-range-global}Distribution of temperature
measurements}

\end{figure}

\begin{figure}

{\centering \includegraphics{./malaria_case_study_01_report_files/figure-pdf/fig-temperature-range-by-facility-type-1.pdf}

}

\caption{\label{fig-temperature-range-by-facility-type}Distribution of
temperature measurements by type of facility}

\end{figure}

\hypertarget{fever-assessment-1}{%
\subsection{Fever assessment}\label{fever-assessment-1}}

Distribution of measured fever

\begin{figure}

{\centering \includegraphics{./malaria_case_study_01_report_files/figure-pdf/fig-measured-fever-1.pdf}

}

\caption{\label{fig-measured-fever}Proportion of consultations with a
temperature superior or equal to 37.5°C among children with a
temperature measurement}

\end{figure}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-48-1.pdf}

\begin{figure}

{\centering \includegraphics{./malaria_case_study_01_report_files/figure-pdf/fig-temperature-range-1.pdf}

}

\caption{\label{fig-temperature-range}Range of temperature measurements
for children with fever (1), without fever (2) and with unkwnown fever
presentation (98) by facility}

\end{figure}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.4706}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.1647}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.1412}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.1412}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.0824}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Missing data analysis: MEAS\_temperature
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
Not missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
Missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_category & \textless2 months & 56 (9.4) & 541 (90.6) &
0.108 \\
& 02-11 months & 338 (9.5) & 3238 (90.5) & \\
& 12-23 months & 293 (9.9) & 2654 (90.1) & \\
& 24-35 months & 181 (11.8) & 1348 (88.2) & \\
& 36-47 months & 108 (11.0) & 872 (89.0) & \\
& 48-59 months & 61 (9.0) & 618 (91.0) & \\
CTX\_district & Kaliua & 61 (2.5) & 2368 (97.5) & \textless0.001 \\
& Sengerema & 573 (21.2) & 2130 (78.8) & \\
& Tanga & 403 (7.8) & 4773 (92.2) & \\
CTX\_area & rural & 454 (11.1) & 3634 (88.9) & 0.005 \\
& urban & 583 (9.4) & 5637 (90.6) & \\
CTX\_facility\_type & dispensary & 756 (13.5) & 4843 (86.5) &
\textless0.001 \\
& health center & 281 (6.0) & 4428 (94.0) & \\
CLIN\_fever & 0 & 238 (7.8) & 2830 (92.2) & \textless0.001 \\
& 1 & 796 (11.0) & 6429 (89.0) & \\
& 98 & 3 (20.0) & 12 (80.0) & \\
\bottomrule()
\end{longtable}

\hypertarget{malaria-tests-1}{%
\subsection{Malaria tests}\label{malaria-tests-1}}

\begin{longtable}[]{@{}lrr@{}}
\toprule()
& 0 & 1 \\
\midrule()
\endhead
0 & 264 & 447 \\
1 & 44 & 282 \\
\bottomrule()
\end{longtable}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-52-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-53-1.pdf}

\hypertarget{malaria-diagnoses}{%
\subsection{Malaria diagnoses}\label{malaria-diagnoses}}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-54-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-55-1.pdf}

\hypertarget{malaria-treatments-1}{%
\subsection{Malaria treatments}\label{malaria-treatments-1}}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-56-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-57-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-58-1.pdf}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-59-1.pdf}

\begin{longtable}[]{@{}lllr@{}}
\toprule()
Result & Diagnosis & Antimalarials & Freq \\
\midrule()
\endhead
0 & 0 & 0 & 3890 \\
1 & 0 & 0 & 15 \\
2 & 0 & 0 & 1 \\
95 & 0 & 0 & 2 \\
98 & 0 & 0 & 31 \\
0 & 1 & 0 & 645 \\
1 & 1 & 0 & 49 \\
2 & 1 & 0 & 0 \\
95 & 1 & 0 & 1 \\
98 & 1 & 0 & 17 \\
0 & 0 & 1 & 99 \\
1 & 0 & 1 & 50 \\
2 & 0 & 1 & 0 \\
95 & 0 & 1 & 0 \\
98 & 0 & 1 & 2 \\
0 & 1 & 1 & 31 \\
1 & 1 & 1 & 918 \\
2 & 1 & 1 & 0 \\
95 & 1 & 1 & 0 \\
98 & 1 & 1 & 7 \\
\bottomrule()
\end{longtable}

\hypertarget{combination-of-treatments}{%
\subsubsection{Combination of
treatments}\label{combination-of-treatments}}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-61-1.pdf}

\hypertarget{data-flow-from-fever-assessment-to-malaria-treatment-sankey-diagrams}{%
\section{Data flow from fever assessment to malaria treatment (Sankey
diagrams)}\label{data-flow-from-fever-assessment-to-malaria-treatment-sankey-diagrams}}

\begin{figure*}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-63-1.pdf}

\end{figure*}

\hypertarget{facility-f8793}{%
\subsection{Facility F8793}\label{facility-f8793}}

\begin{figure*}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-64-1.pdf}

\end{figure*}

\hypertarget{facility-f7729}{%
\subsection{Facility F7729}\label{facility-f7729}}

\begin{figure*}

\includegraphics{./malaria_case_study_01_report_files/figure-pdf/unnamed-chunk-65-1.pdf}

\end{figure*}

\hypertarget{malaria-case-study---report-2}{%
\chapter{\texorpdfstring{{📙} Malaria case study - Report
\#2}{📙 Malaria case study - Report \#2}}\label{malaria-case-study---report-2}}

In this section we will explore the impact of the presence of research
staff observing consultations as part of a Service Provision Assessment
(SPA) on RCT data.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Add sensitivity analysis definition
\end{tcolorbox}

The data set used for this report is stored in \textbf{dataset2.dta}.

\hypertarget{descriptive-statistics-1}{%
\section{Descriptive statistics}\label{descriptive-statistics-1}}

\hypertarget{population-characteristics-2}{%
\subsection{Population
characteristics}\label{population-characteristics-2}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.3294}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.2471}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.2706}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1529}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\textbf{Characteristic}
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{All}, N = 10,308
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{Observed}, N = 656
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{p-value}
\end{minipage} \\
\midrule()
\endhead
SDC\_age\_category & & & 0.4 \\
\textless2 months & 597 (5.8\%) & 40 (6.1\%) & \\
02-11 months & 3,576 (35\%) & 206 (31\%) & \\
12-23 months & 2,947 (29\%) & 209 (32\%) & \\
24-35 months & 1,529 (15\%) & 96 (15\%) & \\
36-47 months & 980 (9.5\%) & 67 (10\%) & \\
48-59 months & 679 (6.6\%) & 38 (5.8\%) & \\
SDC\_sex & & & 0.3 \\
1 & 5,229 (51\%) & 318 (49\%) & \\
2 & 5,075 (49\%) & 337 (51\%) & \\
(Missing) & 4 & 1 & \\
CLIN\_fever & & & \textgreater0.9 \\
0 & 3,068 (30\%) & 193 (29\%) & \\
1 & 7,225 (70\%) & 462 (70\%) & \\
98 & 15 (0.1\%) & 1 (0.2\%) & \\
CLIN\_fever\_onset\_category & & & 0.034 \\
& 3,083 (30\%) & 194 (30\%) & \\
\textless2 days & 1,998 (19\%) & 157 (24\%) & \\
\textgreater= 7 days & 343 (3.3\%) & 21 (3.2\%) & \\
2-3 days & 4,386 (43\%) & 248 (38\%) & \\
4-6 days & 498 (4.8\%) & 36 (5.5\%) & \\
CLIN\_diarrhoea & & & 0.019 \\
0 & 7,982 (77\%) & 477 (73\%) & \\
1 & 2,306 (22\%) & 178 (27\%) & \\
98 & 20 (0.2\%) & 1 (0.2\%) & \\
CLIN\_cough & & & 0.055 \\
0 & 4,658 (45\%) & 270 (41\%) & \\
1 & 5,635 (55\%) & 384 (59\%) & \\
98 & 15 (0.1\%) & 2 (0.3\%) & \\
RX\_preconsult\_antibiotics & & & 0.049 \\
0 & 8,573 (83\%) & 565 (86\%) & \\
1 & 1,735 (17\%) & 91 (14\%) & \\
RX\_preconsult\_antimalarials & & & 0.6 \\
0 & 9,866 (96\%) & 631 (96\%) & \\
1 & 442 (4.3\%) & 25 (3.8\%) & \\
CTX\_district & & & 0.001 \\
Kaliua & 2,429 (24\%) & 149 (23\%) & \\
Sengerema & 2,703 (26\%) & 214 (33\%) & \\
Tanga & 5,176 (50\%) & 293 (45\%) & \\
CTX\_area & & & \textless0.001 \\
rural & 4,088 (40\%) & 309 (47\%) & \\
urban & 6,220 (60\%) & 347 (53\%) & \\
CTX\_facility\_type & & & \textless0.001 \\
dispensary & 5,599 (54\%) & 412 (63\%) & \\
health center & 4,709 (46\%) & 244 (37\%) & \\
\bottomrule()
\end{longtable}

\hypertarget{clinical-management}{%
\subsection{Clinical management}\label{clinical-management}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.3294}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.2471}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.2706}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1529}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\textbf{Characteristic}
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{All}, N = 10,308
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{Observed}, N = 656
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\textbf{p-value}
\end{minipage} \\
\midrule()
\endhead
CALC\_temperature\_measured & & & 0.5 \\
0 & 9,271 (90\%) & 595 (91\%) & \\
1 & 1,037 (10\%) & 61 (9.3\%) & \\
CALC\_fever\_measured & & & 0.6 \\
0 & 711 (69\%) & 40 (66\%) & \\
1 & 326 (31\%) & 21 (34\%) & \\
(Missing) & 9,271 & 595 & \\
CALC\_fever\_all & & & \textgreater0.9 \\
0 & 3,056 (30\%) & 193 (29\%) & \\
1 & 7,252 (70\%) & 463 (71\%) & \\
TEST\_malaria\_done & 5,763 (56\%) & 367 (56\%) & \textgreater0.9 \\
TEST\_malaria\_type & & & 0.4 \\
1 & 5,371 (93\%) & 339 (92\%) & \\
2 & 340 (5.9\%) & 23 (6.3\%) & \\
95 & 2 (\textless0.1\%) & 0 (0\%) & \\
98 & 45 (0.8\%) & 5 (1.4\%) & \\
(Missing) & 4,550 & 289 & \\
TEST\_malaria\_result & & & 0.5 \\
0 & 4,665 (81\%) & 289 (79\%) & \\
1 & 1,032 (18\%) & 76 (21\%) & \\
2 & 1 (\textless0.1\%) & 0 (0\%) & \\
95 & 3 (\textless0.1\%) & 0 (0\%) & \\
98 & 57 (1.0\%) & 2 (0.5\%) & \\
(Missing) & 4,550 & 289 & \\
DX\_severe & 254 (2.5\%) & 10 (1.5\%) & 0.13 \\
DX\_malaria & 1,800 (17\%) & 116 (18\%) & 0.9 \\
DX\_malaria\_severe & 148 (1.4\%) & 6 (0.9\%) & 0.3 \\
RX\_antimalarials & 1,290 (13\%) & 114 (17\%) & \textless0.001 \\
RX\_antimalarial\_parenteral & 249 (2.4\%) & 29 (4.4\%) & 0.002 \\
RX\_antibiotics & 5,430 (53\%) & 351 (54\%) & 0.7 \\
MGMT\_referral\_src\_caregiver & & & 0.2 \\
0 & 10,122 (98\%) & 640 (98\%) & \\
1 & 164 (1.6\%) & 14 (2.1\%) & \\
97 & 9 (\textless0.1\%) & 2 (0.3\%) & \\
98 & 13 (0.1\%) & 0 (0\%) & \\
MGMT\_referral\_src\_registry & 114 (1.1\%) & 8 (1.2\%) & 0.8 \\
\bottomrule()
\end{longtable}

\hypertarget{from-fever-assessment-to-malaria-treatment}{%
\section{From fever assessment to malaria
treatment}\label{from-fever-assessment-to-malaria-treatment}}

\hypertarget{rct-population}{%
\subsection{RCT population}\label{rct-population}}

\begin{figure*}

\includegraphics{./malaria_case_study_02_report_files/figure-pdf/unnamed-chunk-12-1.pdf}

\end{figure*}

\hypertarget{spa-sub-population}{%
\subsection{SPA (sub)-population}\label{spa-sub-population}}

\begin{figure*}

\includegraphics{./malaria_case_study_02_report_files/figure-pdf/unnamed-chunk-13-1.pdf}

\end{figure*}

\hypertarget{malaria-case-study---report-3}{%
\chapter{\texorpdfstring{{📙} Malaria case study - Report
\#3}{📙 Malaria case study - Report \#3}}\label{malaria-case-study---report-3}}

Data are stored in \textbf{dataset3.dta}.

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1566}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1928}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.3012}}
  >{\centering\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.3494}}@{}}
\caption{Extract of the database}\tabularnewline
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
RCT\_child\_ID
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
RCT\_CLIN\_fever
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
SPA\_CLIN\_fever\_reported
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
SPA\_CLIN\_fever\_investigated
\end{minipage} \\
\midrule()
\endfirsthead
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
RCT\_child\_ID
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
RCT\_CLIN\_fever
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
SPA\_CLIN\_fever\_reported
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
SPA\_CLIN\_fever\_investigated
\end{minipage} \\
\midrule()
\endhead
1 & 1 & 1 & NA \\
2 & 1 & 0 & 0 \\
3 & 1 & 1 & NA \\
4 & 0 & 0 & 1 \\
5 & 1 & 1 & NA \\
6 & 0 & 1 & NA \\
7 & 1 & 1 & NA \\
8 & 0 & 0 & 1 \\
9 & 1 & 1 & NA \\
10 & 1 & 1 & NA \\
\bottomrule()
\end{longtable}

\hypertarget{clinical-presentation-1}{%
\subsection{Clinical presentation}\label{clinical-presentation-1}}

\begin{longtable}[]{@{}lrr@{}}
\toprule()
& Fever complaint (SPA) & No fever complaint (SPA) \\
\midrule()
\endhead
Fever (RCT) & 327 & 76 \\
No fever (RCT) & 39 & 144 \\
Unknown (RCT) & 0 & 1 \\
\bottomrule()
\end{longtable}

\begin{longtable}[]{@{}lrrr@{}}
\toprule()
& Fever (SPA) & No fever (SPA) & Unknown (SPA) \\
\midrule()
\endhead
Fever (RCT) & 332 & 31 & 40 \\
No fever (RCT) & 40 & 76 & 67 \\
Unknown (RCT) & 0 & 1 & 0 \\
\bottomrule()
\end{longtable}

\includegraphics{./malaria_case_study_03_report_files/figure-pdf/unnamed-chunk-7-1.pdf}

\begin{figure*}

\includegraphics{./malaria_case_study_03_report_files/figure-pdf/unnamed-chunk-8-1.pdf}

\end{figure*}

\hypertarget{temperature-measurement-1}{%
\subsection{Temperature measurement}\label{temperature-measurement-1}}

\hypertarget{malaria-tests-2}{%
\subsection{Malaria tests}\label{malaria-tests-2}}

\part{------------ DAY 3 ------------}

\hypertarget{big-data-and-machine-learning}{%
\chapter{\texorpdfstring{{📚} Big data and machine
learning}{📚 Big data and machine learning}}\label{big-data-and-machine-learning}}

\hypertarget{overview-8}{%
\subsection{Overview}\label{overview-8}}

\hypertarget{learning-objectives-8}{%
\subsection{Learning objectives}\label{learning-objectives-8}}

\begin{itemize}
\item
  key dates and vocabular from the Artificial Intelligence community
\item
  machine learning vs.~statistics
\item
  trade-off between accuracy and generalisability
\end{itemize}

\hypertarget{big-data}{%
\section{Big data}\label{big-data}}

Big data is a combination of structured, semistructured and unstructured
data collected by organizations that can be mined for information and
used in Big data refers to data sets that are too large or complex to be
dealt with by traditional data-processing application software.

\hypertarget{development-of-artificial-intelligence}{%
\section{Development of Artificial
Intelligence}\label{development-of-artificial-intelligence}}

\includegraphics{./images/paste-FA238456.png}

\hypertarget{machine-learning-vs.-statistics}{%
\section{Machine Learning
vs.~Statistics}\label{machine-learning-vs.-statistics}}

\hypertarget{inference}{%
\subsubsection{Inference}\label{inference}}

\includegraphics{./images/paste-C70B4C10.png}

\hypertarget{prediction}{%
\subsubsection{Prediction}\label{prediction}}

\includegraphics{./images/paste-2C4E6936.png}

\hypertarget{learning-from-data-accuracy-or-generalizability}{%
\section{Learning From Data: Accuracy or
Generalizability?}\label{learning-from-data-accuracy-or-generalizability}}

\includegraphics{./images/paste-FC3A1160.png}

\hypertarget{train-test-split}{%
\subsection{Train / test split}\label{train-test-split}}

We can split the original data into a training set and a testing set.

\includegraphics{./images/paste-7D73149D.png}

\hypertarget{practical}{%
\chapter{\texorpdfstring{{📙}
Practical}{📙 Practical}}\label{practical}}

\hypertarget{overview-9}{%
\subsection{Overview}\label{overview-9}}

This tutorial is adapted from the excellent
\href{https://www.fun-mooc.fr/en/courses/machine-learning-python-scikit-learn/}{Machine
learning in Python with scikit-learn}

\hypertarget{learning-objectives-9}{%
\subsection{Learning objectives}\label{learning-objectives-9}}

\begin{itemize}
\tightlist
\item
  explore data
\item
  prepare data
\item
  fit a \textbf{k-nearest neighbors} model on a training dataset
\item
  evaluate its generalization performance on the testing data
\end{itemize}

\hypertarget{question}{%
\section{Question}\label{question}}

We are interested in predicting the age of the child based on height and
weight measured during the consultation.

\begin{itemize}
\tightlist
\item
  \textbf{MEAS\_weight\_in\_kg} and
\item
  \textbf{MEAS\_height\_in\_cm}.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(tidyverse) }\CommentTok{\# includes dplyr and tibble}
\FunctionTok{library}\NormalTok{(skimr)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(DataExplorer)}
\FunctionTok{library}\NormalTok{(reticulate)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{load-the-data}{%
\section{Load the data}\label{load-the-data}}

The dataset is stored in \textbf{dataset4.xlsx}.

Read the dataset and store it into a dataframe called \textbf{df}.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ openxlsx}\SpecialCharTok{::}\FunctionTok{read.xlsx}\NormalTok{(}\StringTok{"./data/dataset4.xlsx"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{SDC\_age\_category =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{case\_when}\NormalTok{(}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{12} \SpecialCharTok{\textasciitilde{}} \StringTok{"\textless{}11 months"}\NormalTok{,}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textgreater{}=} \DecValTok{12} \SpecialCharTok{\&}\NormalTok{ SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{36} \SpecialCharTok{\textasciitilde{}} \StringTok{"12{-}35 months"}\NormalTok{,}
\NormalTok{      SDC\_age\_in\_months }\SpecialCharTok{\textgreater{}=} \DecValTok{36} \SpecialCharTok{\&}\NormalTok{ SDC\_age\_in\_months }\SpecialCharTok{\textless{}} \DecValTok{60} \SpecialCharTok{\textasciitilde{}} \StringTok{"36{-}59 months"}\NormalTok{,}
      \ConstantTok{TRUE} \SpecialCharTok{\textasciitilde{}} \StringTok{""}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  tibble}\SpecialCharTok{::}\FunctionTok{remove\_rownames}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  tibble}\SpecialCharTok{::}\FunctionTok{column\_to\_rownames}\NormalTok{(}\AttributeTok{var=}\StringTok{"child\_ID"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\FunctionTok{across}\NormalTok{(}\FunctionTok{c}\NormalTok{(SDC\_sex,}
\NormalTok{                         SDC\_age\_category), factor))}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{data-exploration}{%
\section{Data exploration}\label{data-exploration}}

We want to do some data exploration to get an initial understanding of
the data. Before building a predictive model, it is always a good idea
to look at the data:

\begin{itemize}
\tightlist
\item
  maybe the task you are trying to achieve can be solved without machine
  learning;
\item
  you need to check that the information you need for your task is
  actually present in the dataset;
\item
  inspecting the data is a good way to find peculiarities. These can
  arise during data collection (for example, malfunctioning sensor or
  missing values), or from the way the data is processed afterwards (for
  example capped values).
\end{itemize}

\hypertarget{data-structure}{%
\subsection{Data structure}\label{data-structure}}

\hypertarget{exercise-1-5}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
1}{✏️ Exercise 1}}\label{exercise-1-5}}

Examine the structure of the data, including variable names, labels.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  How many features are numerical?
\item
  How many features are categorical?
\end{enumerate}

Display the variables/features \textbf{child\_id},
\textbf{MEAS\_weight\_in\_kg} and \textbf{MEAS\_height\_in\_cm} for the
\textbf{10 first samples} in the data.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{r-12}{%
\subsubsection{R}\label{r-12}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  skimr}\SpecialCharTok{::}\FunctionTok{skim}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & Piped data \\
Number of rows & 2003 \\
Number of columns & 5 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
factor & 2 \\
numeric & 3 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: factor}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1954}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1149}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1609}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.0920}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1034}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.3333}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
ordered
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_unique
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
top\_counts
\end{minipage} \\
\midrule()
\endhead
SDC\_sex & 0 & 1 & FALSE & 2 & 1: 1037, 2: 966 \\
SDC\_age\_category & 0 & 1 & FALSE & 3 & 12-: 901, \textless11: 780,
36-: 322 \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1552}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0862}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1207}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0517}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0517}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0259}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0345}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0345}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0345}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0517}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.3534}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
MEAS\_weight\_in\_kg & 0 & 1.00 & 10.25 & 3.40 & 2 & 8 & 10 & 12 & 38.2
& ▆▇▁▁▁ \\
MEAS\_height\_in\_cm & 1680 & 0.16 & 75.61 & 17.42 & 10 & 65 & 77 & 89 &
109.0 & ▁▁▆▇▅ \\
SDC\_age\_in\_months & 0 & 1.00 & 19.41 & 14.76 & 0 & 8 & 16 & 29 & 59.0
& ▇▆▃▂▁ \\
\bottomrule()
\end{longtable}

Numerical variables can be naturally handled by machine learning
algorithms that are typically composed of a sequence of arithmetic
instructions such as additions and multiplications.

\hypertarget{data-preparation-1}{%
\subsection{Data preparation}\label{data-preparation-1}}

\hypertarget{missing-data}{%
\subsubsection{Missing data}\label{missing-data}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{DataExplorer}\SpecialCharTok{::}\FunctionTok{plot\_missing}\NormalTok{(df,}
                           \AttributeTok{geom\_label\_args =} \FunctionTok{list}\NormalTok{(}\AttributeTok{size =} \DecValTok{2}\NormalTok{, }\AttributeTok{label.padding =} \FunctionTok{unit}\NormalTok{(}\FloatTok{0.2}\NormalTok{, }\StringTok{"lines"}\NormalTok{)))}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./ds4ph_day3_session01_practical_session_files/figure-pdf/unnamed-chunk-6-1.pdf}

}

\end{figure}

\hypertarget{encoding-of-categorical-data}{%
\subsubsection{Encoding of categorical
data}\label{encoding-of-categorical-data}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sex\_df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(SDC\_sex)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\ImportTok{from}\NormalTok{ sklearn.preprocessing }\ImportTok{import}\NormalTok{ OneHotEncoder}

\NormalTok{encoder }\OperatorTok{=}\NormalTok{ OneHotEncoder(sparse }\OperatorTok{=} \VariableTok{False}\NormalTok{)}
\NormalTok{sex\_encoded }\OperatorTok{=}\NormalTok{ encoder.fit\_transform(r.sex\_df)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OtherTok{\textless{}{-}} \FunctionTok{cbind}\NormalTok{(df,}
            \FunctionTok{data.frame}\NormalTok{(py}\SpecialCharTok{$}\NormalTok{sex\_encoded)) }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{rename}\NormalTok{(}\AttributeTok{sex\_male =}\NormalTok{ X1,}
                \AttributeTok{sex\_female =}\NormalTok{ X2)}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{head}\NormalTok{(}\DecValTok{10}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0481}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1731}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1731}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0769}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1731}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1635}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0865}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1058}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
MEAS\_weight\_in\_kg
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
MEAS\_height\_in\_cm
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
SDC\_sex
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
SDC\_age\_in\_months
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
SDC\_age\_category
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sex\_male
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sex\_female
\end{minipage} \\
\midrule()
\endhead
150 & 3 & NA & 1 & 1 & \textless11 months & 1 & 0 \\
162 & 14 & NA & 1 & 36 & 36-59 months & 1 & 0 \\
1177 & 3 & NA & 2 & 0 & \textless11 months & 0 & 1 \\
1245 & 8 & NA & 2 & 19 & 12-35 months & 0 & 1 \\
1262 & 16 & NA & 2 & 55 & 36-59 months & 0 & 1 \\
1264 & 9 & NA & 1 & 7 & \textless11 months & 1 & 0 \\
1265 & 9 & NA & 1 & 21 & 12-35 months & 1 & 0 \\
1266 & 8 & NA & 1 & 6 & \textless11 months & 1 & 0 \\
1268 & 10 & NA & 1 & 13 & 12-35 months & 1 & 0 \\
1269 & 13 & NA & 1 & 49 & 36-59 months & 1 & 0 \\
\bottomrule()
\end{longtable}

\hypertarget{target-classes}{%
\subsection{Target classes}\label{target-classes}}

\hypertarget{exercise-2-2}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
2}{✏️ Exercise 2}}\label{exercise-2-2}}

What are the different age categories available in the dataset and how
many observations/samples of each types are there?

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  R: use \texttt{table}
\item
  Python: select the right column and use the \texttt{value\_counts}
  method.
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{r-13}{%
\subsubsection{R}\label{r-13}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{table}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{SDC\_age\_category)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

  <11 months 12-35 months 36-59 months 
         780          901          322 
\end{verbatim}

\hypertarget{feature-distribution}{%
\subsection{Feature distribution}\label{feature-distribution}}

\hypertarget{exercise-3-3}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
3}{✏️ Exercise 3}}\label{exercise-3-3}}

Let us now look at the distribution of individual features, to get more
insights about the data.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{r-14}{%
\subsubsection{R}\label{r-14}}

We can start by plotting histograms, note that this only works for
features containing numerical values

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}\NormalTok{  ggplot2}\SpecialCharTok{::}\FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ MEAS\_height\_in\_cm,}
                            \AttributeTok{fill =}\NormalTok{ SDC\_age\_category)) }\SpecialCharTok{+}
  \FunctionTok{geom\_histogram}\NormalTok{(}\AttributeTok{binwidth =} \DecValTok{2}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.5}\NormalTok{, }\AttributeTok{position =} \StringTok{"identity"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./ds4ph_day3_session01_practical_session_files/figure-pdf/unnamed-chunk-13-1.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}\NormalTok{  ggplot2}\SpecialCharTok{::}\FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ MEAS\_weight\_in\_kg,}
                            \AttributeTok{fill =}\NormalTok{ SDC\_age\_category)) }\SpecialCharTok{+}
  \FunctionTok{geom\_histogram}\NormalTok{(}\AttributeTok{binwidth =} \DecValTok{1}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.5}\NormalTok{, }\AttributeTok{position =} \StringTok{"identity"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./ds4ph_day3_session01_practical_session_files/figure-pdf/unnamed-chunk-14-1.pdf}

}

\end{figure}

\hypertarget{python-6}{%
\subsubsection{Python}\label{python-6}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\ImportTok{import}\NormalTok{ seaborn}
\ImportTok{import}\NormalTok{ matplotlib.pyplot}
\NormalTok{pairplot\_figure }\OperatorTok{=}\NormalTok{ seaborn.pairplot(r.df, hue }\OperatorTok{=} \StringTok{"SDC\_age\_category"}\NormalTok{)}
\NormalTok{matplotlib.pyplot.show()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{./ds4ph_day3_session01_practical_session_files/figure-pdf/unnamed-chunk-15-1.pdf}

}

\end{figure}

\hypertarget{exercise-3-4}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
3}{✏️ Exercise 3}}\label{exercise-3-4}}

Show variable/feature distribution for each age category.

Looking at these distributions, how hard do you think it will be to
classify the age category only using height and weight?

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

Looking at the previous scatter-plot showing height and weight, the age
categories are reasonably well separated.

There is some small overlap between the age categories, so we can expect
a statistical model to perform well on this dataset but not perfectly.

\hypertarget{r-15}{%
\subsubsection{R}\label{r-15}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{train-test-data-split}{%
\section{Train-test data split}\label{train-test-data-split}}

When building a machine learning model, it is important to evaluate the
trained model on data that was not used to fit it, as generalization is
more than memorization (meaning we want a rule that generalizes to new
data, without evaluating on data we memorized). The data used to fit a
model is called \textbf{training} data.

Correct evaluation is easily done by leaving out a subset of the data
when training the model and using it afterwards for model evaluation.
The data used to assess a model is called \textbf{testing} data.

\hypertarget{remove-missing-data}{%
\subsection{Remove missing data}\label{remove-missing-data}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ df[}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{MEAS\_height\_in\_cm), ]}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{head}\NormalTok{(}\DecValTok{5}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{  knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0481}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1731}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1731}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0769}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1731}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1635}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0865}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1058}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
MEAS\_weight\_in\_kg
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
MEAS\_height\_in\_cm
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
SDC\_sex
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
SDC\_age\_in\_months
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
SDC\_age\_category
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sex\_male
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sex\_female
\end{minipage} \\
\midrule()
\endhead
5014 & 11.9 & 96 & 1 & 46 & 36-59 months & 1 & 0 \\
5035 & 9.0 & 77 & 2 & 9 & \textless11 months & 0 & 1 \\
5037 & 6.0 & 65 & 2 & 6 & \textless11 months & 0 & 1 \\
5058 & 10.0 & 75 & 1 & 17 & 12-35 months & 1 & 0 \\
7499 & 6.0 & 32 & 2 & 18 & 12-35 months & 0 & 1 \\
\bottomrule()
\end{longtable}

\hypertarget{generate-the-training-test-sampling}{%
\subsection{Generate the training / test
sampling}\label{generate-the-training-test-sampling}}

Use a seed to make the sampling reproducible (i.e.~the same sampling
will be generated each time we run this code)

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{set.seed}\NormalTok{(}\DecValTok{1}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

Create ID column

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df}\SpecialCharTok{$}\NormalTok{id }\OtherTok{\textless{}{-}} \DecValTok{1}\SpecialCharTok{:}\FunctionTok{nrow}\NormalTok{(df)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

Use 70\% of dataset as training set and 30\% as test set

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{train\_df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{sample\_frac}\NormalTok{(}\FloatTok{0.70}\NormalTok{)}
\NormalTok{test\_df  }\OtherTok{\textless{}{-}}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{anti\_join}\NormalTok{(df,}
\NormalTok{                             train\_df,}
                             \AttributeTok{by =} \StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{separate-the-data-and-the-target}{%
\subsection{Separate the data and the
target}\label{separate-the-data-and-the-target}}

Create the target.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{train\_target }\OtherTok{\textless{}{-}}\NormalTok{ train\_df[}\StringTok{"SDC\_age\_category"}\NormalTok{] }
\NormalTok{test\_target }\OtherTok{\textless{}{-}}\NormalTok{ test\_df[}\StringTok{"SDC\_age\_category"}\NormalTok{] }
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

Remove the target from the training and test dataset to create the data
matrix.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{train\_data\_matrix }\OtherTok{\textless{}{-}}\NormalTok{ train\_df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{SDC\_age\_category,}
                \SpecialCharTok{{-}}\NormalTok{SDC\_age\_in\_months)}
\NormalTok{test\_data\_matrix }\OtherTok{\textless{}{-}}\NormalTok{ test\_df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{SDC\_age\_category,}
                \SpecialCharTok{{-}}\NormalTok{SDC\_age\_in\_months)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{train-the-classifier}{%
\section{Train the classifier}\label{train-the-classifier}}

Let us now use a nearest neighbour approach for learning the target from
the training data matrix of weights and heights. The principle behind
\href{https://scikit-learn.org/stable/modules/classes.html\#module-sklearn.neighbors}{\textbf{nearest
neighbor methods}} is to find a predefined number of training samples
closest in distance to the new point, and predict the label from these.

Despite its simplicity, nearest neighbors has been successful in a large
number of classification and regression problems. Supervised
neighbors-based learning comes in two flavors: *
\href{https://scikit-learn.org/stable/modules/neighbors.html\#classification}{classification}
for data with discrete labels *
\href{https://scikit-learn.org/stable/modules/neighbors.html\#regression}{regression}
for data with continuous labels.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\ImportTok{from}\NormalTok{ sklearn.neighbors }\ImportTok{import}\NormalTok{ KNeighborsClassifier}

\NormalTok{model }\OperatorTok{=}\NormalTok{ KNeighborsClassifier()}
\NormalTok{\_ }\OperatorTok{=}\NormalTok{ model.fit(r.train\_data\_matrix, r.train\_target.values.ravel())}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{evaluate-the-performance-of-the-classifier}{%
\section{Evaluate the performance of the
classifier}\label{evaluate-the-performance-of-the-classifier}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\NormalTok{target\_predicted }\OperatorTok{=}\NormalTok{ model.predict(r.test\_data\_matrix)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

Confusion matrix

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\#| df{-}print: kable}
\NormalTok{combined }\OtherTok{\textless{}{-}} \FunctionTok{cbind}\NormalTok{(test\_target, py}\SpecialCharTok{$}\NormalTok{target\_predicted)}
\FunctionTok{colnames}\NormalTok{(combined) }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"target"}\NormalTok{, }\StringTok{"prediction"}\NormalTok{) }
\NormalTok{combined }\OtherTok{\textless{}{-}}\NormalTok{ combined }\SpecialCharTok{\%\textgreater{}\%} 
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{correct =} \DecValTok{1} \SpecialCharTok{*}\NormalTok{ (target }\SpecialCharTok{==}\NormalTok{ prediction))}
\NormalTok{combined }\SpecialCharTok{\%\textgreater{}\%}  \FunctionTok{head}\NormalTok{(}\DecValTok{5}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
           target   prediction correct
5035   <11 months 12-35 months       0
5037   <11 months 12-35 months       0
7499 12-35 months   <11 months       0
7994 36-59 months 12-35 months       0
7995 36-59 months 12-35 months       0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{perf }\OtherTok{\textless{}{-}} \FunctionTok{mean}\NormalTok{(combined}\SpecialCharTok{$}\NormalTok{correct)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

Number of correct prediction: 0.7216495

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{python\}}
\NormalTok{accuracy }\OperatorTok{=}\NormalTok{ model.score(r.test\_data\_matrix, r.test\_target)}
\NormalTok{model\_name }\OperatorTok{=}\NormalTok{ model.\_\_class\_\_.}\VariableTok{\_\_name\_\_}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

The test accuracy using a KNeighborsClassifier is 0.7216495.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

The score of a model will in general depend on the way we make the
training / test split.

\begin{itemize}
\tightlist
\item
  One downside of doing a single split is that it does not give any
  information about this variability.
\item
  Another downside, in a setting where the amount of data is small, is
  that the data available for training and testing will be even smaller
  after splitting.
\end{itemize}

\end{tcolorbox}

\hypertarget{estimators}{%
\section{Estimators}\label{estimators}}

\begin{figure}

{\centering \includegraphics{https://scikit-learn.org/stable/_static/ml_map.png}

}

\caption{Scikit-learn navigation map: what machine learning estimators
for what data problem}

\end{figure}

\hypertarget{cross-validation}{%
\chapter{\texorpdfstring{{📙}
Cross-validation}{📙 Cross-validation}}\label{cross-validation}}

To overcome the challenges of train/test split, we can use
cross-validation. It consists of repeating the procedure such that the
training and testing sets are different each time.

Generalization performance metrics are collected for each repetition and
then aggregated. As a result we can assess the variability of our
measure of the model's generalization performance.

Note that there exists several cross-validation strategies, each of them
defines how to repeat the \texttt{fit}/\texttt{score} procedure. In this
section, we will use the K-fold strategy: the entire dataset is split
into \texttt{K} partitions. The \texttt{fit}/\texttt{score} procedure is
repeated \texttt{K} times where at each iteration \texttt{K\ -\ 1}
partitions are used to fit the model and \texttt{1} partition is used to
score.

\begin{figure}

{\centering \includegraphics{https://inria.github.io/scikit-learn-mooc/_images/cross_validation_diagram.png}

}

\caption{K-fold strategy}

\end{figure}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
This figure shows the particular case of K-fold cross-validation
strategy. For each cross-validation split, the procedure trains a clone
of model on all the red samples and evaluate the score of the model on
the blue samples. As mentioned earlier, there is a variety of different
cross-validation strategies. Some of these aspects will be covered in
more detail in future notebooks.
\end{tcolorbox}

Cross-validation is therefore computationally intensive because it
requires training several models instead of one.

Question

Cross-validation allows us to:

\begin{verbatim}
a) train the model faster

b) measure the generalization performance of the model

c) reach better generalization performance

d) estimate the variability of the generalization score
\end{verbatim}

Select all answers that apply

\hypertarget{encode-categorical-data}{%
\chapter{\texorpdfstring{{📙} Encode categorical
data}{📙 Encode categorical data}}\label{encode-categorical-data}}

\hypertarget{overview-10}{%
\section{Overview}\label{overview-10}}

In this notebook, we will present typical ways of dealing with
categorical variables by encoding them, namely ordinal encoding and
one-hot encoding.

\hypertarget{learning-objectives-10}{%
\section{Learning objectives}\label{learning-objectives-10}}

\begin{itemize}
\tightlist
\item
  seen two common strategies for encoding categorical features: ordinal
  encoding and one-hot encoding;
\item
  used a pipeline to use a one-hot encoder before fitting a logistic
  regression.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\FunctionTok{library}\NormalTok{(dplyr)}
\FunctionTok{library}\NormalTok{(skimr)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{identify-categorical-data}{%
\section{Identify categorical data}\label{identify-categorical-data}}

Let's first load the entire adult dataset containing both numerical and
categorical data.

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ openxlsx}\SpecialCharTok{::}\FunctionTok{read.xlsx}\NormalTok{(}\StringTok{"./data/dataset2.xlsx"}\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{exercise-1-6}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
1}{✏️ Exercise 1}}\label{exercise-1-6}}

Examine the structure of the data, including variable names, labels.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  Stata: use the
  \href{https://www.stata.com/manuals/dcodebook.pdf}{codebook} command
\item
  R: use the
  \href{https://docs.ropensci.org/skimr/reference/skim.html}{skim}
  function from the \texttt{skimr} package
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{r-16}{%
\subsubsection{R}\label{r-16}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  skimr}\SpecialCharTok{::}\FunctionTok{skim}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & Piped data \\
Number of rows & 10308 \\
Number of columns & 39 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
character & 5 \\
numeric & 34 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: character}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.2368}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1316}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1842}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0789}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1184}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1447}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
min
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
max
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
empty
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_unique
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
whitespace
\end{minipage} \\
\midrule()
\endhead
CTX\_district & 0 & 1.0 & 5 & 9 & 0 & 3 & 0 \\
CTX\_facility\_ID & 0 & 1.0 & 5 & 5 & 0 & 18 & 0 \\
CTX\_area & 0 & 1.0 & 5 & 5 & 0 & 2 & 0 \\
CTX\_facility\_type & 0 & 1.0 & 10 & 13 & 0 & 2 & 0 \\
RX\_free\_text & 9279 & 0.1 & 3 & 220 & 0 & 729 & 0 \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1931}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0690}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0966}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0552}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0552}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0345}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0552}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0483}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0552}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0552}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.2828}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
child\_ID & 0 & 1.00 & 5154.50 & 2975.81 & 1.0 & 2577.75 & 5154.5 &
7731.25 & 10308.0 & ▇▇▇▇▇ \\
CTX\_month & 0 & 1.00 & 9.81 & 1.28 & 7.0 & 9.00 & 10.0 & 11.00 & 12.0 &
▆▇▇▇▃ \\
CTX\_day\_of\_week & 0 & 1.00 & 1.88 & 1.47 & 0.0 & 0.00 & 2.0 & 3.00 &
6.0 & ▇▃▃▃▁ \\
SDC\_sex & 4 & 1.00 & 1.49 & 0.50 & 1.0 & 1.00 & 1.0 & 2.00 & 2.0 &
▇▁▁▁▇ \\
SDC\_age\_in\_months & 0 & 1.00 & 18.75 & 14.90 & 0.0 & 7.00 & 15.0 &
27.00 & 59.0 & ▇▆▃▂▁ \\
CLIN\_fever & 0 & 1.00 & 0.84 & 3.74 & 0.0 & 0.00 & 1.0 & 1.00 & 98.0 &
▇▁▁▁▁ \\
CLIN\_fever\_onset & 3083 & 0.70 & 2.50 & 1.93 & 0.0 & 1.00 & 2.0 & 3.00
& 14.0 & ▇▅▁▁▁ \\
CLIN\_cough & 0 & 1.00 & 0.69 & 3.75 & 0.0 & 0.00 & 1.0 & 1.00 & 98.0 &
▇▁▁▁▁ \\
CLIN\_diarrhoea & 0 & 1.00 & 0.41 & 4.32 & 0.0 & 0.00 & 0.0 & 0.00 &
98.0 & ▇▁▁▁▁ \\
MEAS\_temperature & 9271 & 0.10 & 37.08 & 0.98 & 34.5 & 36.50 & 37.0 &
37.50 & 42.5 & ▃▇▃▁▁ \\
TEST\_malaria\_done & 0 & 1.00 & 0.56 & 0.50 & 0.0 & 0.00 & 1.0 & 1.00 &
1.0 & ▆▁▁▁▇ \\
TEST\_malaria\_type & 4550 & 0.56 & 1.85 & 8.72 & 1.0 & 1.00 & 1.0 &
1.00 & 98.0 & ▇▁▁▁▁ \\
TEST\_malaria\_result & 4550 & 0.56 & 1.20 & 9.93 & 0.0 & 0.00 & 0.0 &
0.00 & 98.0 & ▇▁▁▁▁ \\
DX\_malaria & 0 & 1.00 & 0.17 & 0.38 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0 &
▇▁▁▁▂ \\
DX\_malaria\_severe & 0 & 1.00 & 0.01 & 0.12 & 0.0 & 0.00 & 0.0 & 0.00 &
1.0 & ▇▁▁▁▁ \\
DX\_count\_non\_malaria & 0 & 1.00 & 0.84 & 0.71 & 0.0 & 0.00 & 1.0 &
1.00 & 5.0 & ▇▁▁▁▁ \\
DX\_severe & 0 & 1.00 & 0.02 & 0.16 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0 &
▇▁▁▁▁ \\
RX\_preconsult\_antibiotics & 0 & 1.00 & 0.17 & 0.37 & 0.0 & 0.00 & 0.0
& 0.00 & 1.0 & ▇▁▁▁▂ \\
RX\_preconsult\_antimalarials & 0 & 1.00 & 0.04 & 0.20 & 0.0 & 0.00 &
0.0 & 0.00 & 1.0 & ▇▁▁▁▁ \\
RX\_antimalarials & 0 & 1.00 & 0.13 & 0.33 & 0.0 & 0.00 & 0.0 & 0.00 &
1.0 & ▇▁▁▁▁ \\
RX\_antimalarial\_parenteral & 0 & 1.00 & 0.02 & 0.15 & 0.0 & 0.00 & 0.0
& 0.00 & 1.0 & ▇▁▁▁▁ \\
RX\_ACT & 0 & 1.00 & 0.01 & 0.08 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0 &
▇▁▁▁▁ \\
RX\_AL & 0 & 1.00 & 0.12 & 0.32 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0 &
▇▁▁▁▁ \\
RX\_artemether & 0 & 1.00 & 0.01 & 0.08 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0
& ▇▁▁▁▁ \\
RX\_artesunate & 0 & 1.00 & 0.02 & 0.15 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0
& ▇▁▁▁▁ \\
RX\_primaquine & 0 & 1.00 & 0.00 & 0.05 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0
& ▇▁▁▁▁ \\
RX\_quinine & 0 & 1.00 & 0.01 & 0.08 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0 &
▇▁▁▁▁ \\
RX\_antibiotics & 0 & 1.00 & 0.53 & 0.50 & 0.0 & 0.00 & 1.0 & 1.00 & 1.0
& ▇▁▁▁▇ \\
RX\_antibiotics\_src\_text & 0 & 1.00 & 0.01 & 0.10 & 0.0 & 0.00 & 0.0 &
0.00 & 1.0 & ▇▁▁▁▁ \\
RX\_count\_other & 0 & 1.00 & 1.49 & 1.30 & 0.0 & 1.00 & 1.0 & 2.00 &
16.0 & ▇▁▁▁▁ \\
MGMT\_referral\_src\_caregiver & 0 & 1.00 & 0.22 & 4.50 & 0.0 & 0.00 &
0.0 & 0.00 & 98.0 & ▇▁▁▁▁ \\
MGMT\_referral\_src\_registry & 0 & 1.00 & 0.01 & 0.10 & 0.0 & 0.00 &
0.0 & 0.00 & 1.0 & ▇▁▁▁▁ \\
CTX\_SPA\_obs & 0 & 1.00 & 0.06 & 0.23 & 0.0 & 0.00 & 0.0 & 0.00 & 1.0 &
▇▁▁▁▁ \\
CTX\_SPA\_obs\_after\_lab & 0 & 1.00 & 0.01 & 0.08 & 0.0 & 0.00 & 0.0 &
0.00 & 1.0 & ▇▁▁▁▁ \\
\bottomrule()
\end{longtable}

\hypertarget{ordinal-encoding}{%
\section{Ordinal encoding}\label{ordinal-encoding}}

The most intuitive strategy is to encode each category with a different
number. The OrdinalEncoder will transform the data in such manner. We
will start by encoding a single column to understand how the encoding
works. We see that each category in ``education'' has been replaced by a
numeric value. We could check the mapping between the categories and the
numerical values by checking the fitted attribute categories\_.

Now, we can check the encoding applied on all categorical features.

We see that the categories have been encoded for each feature (column)
independently. We also note that the number of features before and after
the encoding is the same.

However, be careful when applying this encoding strategy: using this
integer representation leads downstream predictive models to assume that
the values are ordered (0 \textless{} 1 \textless{} 2 \textless{}
3\ldots{} for instance).

By default, OrdinalEncoder uses a lexicographical strategy to map string
category labels to integers. This strategy is arbitrary and often
meaningless. For instance, suppose the dataset has a categorical
variable named ``size'' with categories such as ``S'', ``M'', ``L'',
``XL''. We would like the integer representation to respect the meaning
of the sizes by mapping them to increasing integers such as 0, 1, 2, 3.
However, the lexicographical strategy used by default would map the
labels ``S'', ``M'', ``L'', ``XL'' to 2, 1, 0, 3, by following the
alphabetical order.

The OrdinalEncoder class accepts a categories constructor argument to
pass categories in the expected ordering explicitly. You can find more
information in the scikit-learn documentation if needed.

If a categorical variable does not carry any meaningful order
information then this encoding might be misleading to downstream
statistical models and you might consider using one-hot encoding instead
(see below).

\hypertarget{encoding-nominal-categories-without-assuming-any-order}{%
\section{Encoding nominal categories (without assuming any
order)}\label{encoding-nominal-categories-without-assuming-any-order}}

OneHotEncoder is an alternative encoder that prevents the downstream
models to make a false assumption about the ordering of categories. For
a given feature, it will create as many new columns as there are
possible categories. For a given sample, the value of the column
corresponding to the category will be set to 1 while all the columns of
the other categories will be set to 0.

We will start by encoding a single feature (e.g.~``education'') to
illustrate how the encoding works.

Sparse matrices are efficient data structures when most of your matrix
elements are zero. They won't be covered in detail in this course. If
you want more details about them, you can look at this.
(https://scipy-lectures.org/advanced/scipy\_sparse/introduction.html\#why-sparse-matrices)

We see that encoding a single feature will give a NumPy array full of
zeros and ones. We can get a better understanding using the associated
feature names resulting from the transformation.

The number of features after the encoding is more than 10 times larger
than in the original data because some variables such as occupation and
native-country have many possible categories.

\hypertarget{choosing-an-encoding-strategy}{%
\section{Choosing an encoding
strategy}\label{choosing-an-encoding-strategy}}

Choosing an encoding strategy will depend on the underlying models and
the type of categories (i.e.~ordinal vs.~nominal).

Note

In general OneHotEncoder is the encoding strategy used when the
downstream models are linear models while OrdinalEncoder is often a good
strategy with tree-based models.

Using an OrdinalEncoder will output ordinal categories. This means that
there is an order in the resulting categories (e.g.~0 \textless{} 1
\textless{} 2). The impact of violating this ordering assumption is
really dependent on the downstream models. Linear models will be
impacted by misordered categories while tree-based models will not.

You can still use an OrdinalEncoder with linear models but you need to
be sure that:

the original categories (before encoding) have an ordering;

the encoded categories follow the same ordering than the original
categories. The next exercise highlights the issue of misusing
OrdinalEncoder with a linear model.

One-hot encoding categorical variables with high cardinality can cause
computational inefficiency in tree-based models. Because of this, it is
not recommended to use OneHotEncoder in such cases even if the original
categories do not have a given order. We will show this in the final
exercise of this sequence. Evaluate our predictive pipeline

We can now integrate this encoder inside a machine learning pipeline
like we did with numerical data: let's train a linear classifier on the
encoded data and check the generalization performance of this machine
learning pipeline using cross-validation.

Before we create the pipeline, we have to linger on the native-country.
Let's recall some statistics regarding this column.

We see that the Holand-Netherlands category is occurring rarely. This
will be a problem during cross-validation: if the sample ends up in the
test set during splitting then the classifier would not have seen the
category during training and will not be able to encode it.

In scikit-learn, there are two solutions to bypass this issue:

\begin{verbatim}
list all the possible categories and provide it to the encoder via the keyword argument categories;

use the parameter handle_unknown, i.e. if an unknown category is encountered during transform, the resulting one-hot encoded columns for this feature will be all zeros.
\end{verbatim}

Here, we will use the latter solution for simplicity.

Tip

Be aware the OrdinalEncoder exposes as well a parameter handle\_unknown.
It can be set to use\_encoded\_value. If that option is chosen, you can
define a fixed value to which all unknowns will be set to during
transform. For example,
OrdinalEncoder(handle\_unknown=`use\_encoded\_value', unknown\_value=42)
will set all values encountered during transform to 42 which are not
part of the data encountered during the fit call. You are going to use
these parameters in the next exercise.

We can now create our machine learning pipeline.

from sklearn.pipeline import make\_pipeline from sklearn.linear\_model
import LogisticRegression

model = make\_pipeline( OneHotEncoder(handle\_unknown=``ignore''),
LogisticRegression(max\_iter=500) )

Note

Here, we need to increase the maximum number of iterations to obtain a
fully converged LogisticRegression and silence a ConvergenceWarning.
Contrary to the numerical features, the one-hot encoded categorical
features are all on the same scale (values are 0 or 1), so they would
not benefit from scaling. In this case, increasing max\_iter is the
right thing to do.

Finally, we can check the model's generalization performance only using
the categorical columns.

from sklearn.model\_selection import cross\_validate cv\_results =
cross\_validate(model, data\_categorical, target) cv\_results

\{`fit\_time': array({[}0.7378273 , 0.65593696, 0.66958189, 0.66641235,
0.65688396{]}), `score\_time': array({[}0.02962923, 0.02977753,
0.02971697, 0.03134513, 0.02978778{]}), `test\_score':
array({[}0.83222438, 0.83560242, 0.82872645, 0.83312858,
0.83466421{]})\}

scores = cv\_results{[}``test\_score''{]} print(f''The accuracy is:
\{scores.mean():.3f\} ± \{scores.std():.3f\}``)

The accuracy is: 0.833 ± 0.002

As you can see, this representation of the categorical variables is
slightly more predictive of the revenue than the numerical variables
that we used previously.

\bookmarksetup{startatroot}

\hypertarget{references-2}{%
\chapter*{References}\label{references-2}}
\addcontentsline{toc}{chapter}{References}

\hypertarget{refs}{}
\begin{CSLReferences}{0}{0}
\leavevmode\vadjust pre{\hypertarget{ref-the_turing_way_community_2022_6909298}{}}%
\CSLLeftMargin{1. }%
\CSLRightInline{The Turing Way Community. {The Turing Way: A handbook
for reproducible, ethical and collaborative research} {[}Internet{]}.
Zenodo; 2022. Available from:
\url{https://doi.org/10.5281/zenodo.6909298}}

\leavevmode\vadjust pre{\hypertarget{ref-baker_scientists_2016}{}}%
\CSLLeftMargin{2. }%
\CSLRightInline{Baker M. \href{https://doi.org/10.1038/533452a}{1,500
scientists lift the lid on reproducibility}. Nature. 2016;533:452--4. }

\leavevmode\vadjust pre{\hypertarget{ref-harris_use_2018}{}}%
\CSLLeftMargin{3. }%
\CSLRightInline{Harris JK, Johnson KJ, Carothers BJ, Combs TB, Luke DA,
Wang X. Use of reproducible research practices in public health: {A}
survey of public health analysts. PLOS ONE {[}Internet{]}. 2018
Sep;13(9):1--12. Available from:
\url{https://doi.org/10.1371/journal.pone.0202447}}

\leavevmode\vadjust pre{\hypertarget{ref-knuth_literate_1984}{}}%
\CSLLeftMargin{4. }%
\CSLRightInline{Knuth DE. {Literate Programming}. The Computer Journal
{[}Internet{]}. 1984 Jan;27(2):97--111. Available from:
\url{https://doi.org/10.1093/comjnl/27.2.97}}

\leavevmode\vadjust pre{\hypertarget{ref-maina_spatial_2019}{}}%
\CSLLeftMargin{5. }%
\CSLRightInline{Maina J, Ouma PO, Macharia PM, Alegana VA, Mitto B, Fall
IS, et al. A spatial database of health facilities managed by the public
health sector in sub {Saharan} {Africa}. Scientific Data {[}Internet{]}.
2019 Jul;6(1):134. Available from:
\url{https://doi.org/10.1038/s41597-019-0142-2}}

\leavevmode\vadjust pre{\hypertarget{ref-chambers93}{}}%
\CSLLeftMargin{6. }%
\CSLRightInline{Chambers J. Greater or lesser statistics, a choice for
future research. 1993; }

\leavevmode\vadjust pre{\hypertarget{ref-donoho17}{}}%
\CSLLeftMargin{7. }%
\CSLRightInline{Donoho D. 50 years of data science. Journal of
Computational and Graphical Statistics. 2017;26(4):745--6. }

\leavevmode\vadjust pre{\hypertarget{ref-goldsmith_emergence_2021}{}}%
\CSLLeftMargin{8. }%
\CSLRightInline{Goldsmith J, Sun Y, Fried L, Wing J, Miller G, Berhane
K. The emergence and future of public health data science. Public Health
Reviews {[}Internet{]}. 2021;42. Available from:
\url{https://www.ssph-journal.org/articles/10.3389/phrs.2021.1604023}}

\leavevmode\vadjust pre{\hypertarget{ref-batra_epidemiologist_2021}{}}%
\CSLLeftMargin{9. }%
\CSLRightInline{Batra N. {The Epidemiologist R Handbook}. 2021. }

\leavevmode\vadjust pre{\hypertarget{ref-mayer20}{}}%
\CSLLeftMargin{10. }%
\CSLRightInline{Mayer FW. ruODK: Client for the ODK central API
{[}Internet{]}. 2020. Available from:
\url{https://github.com/ropensci/ruODK}}

\end{CSLReferences}

\appendix
\addcontentsline{toc}{part}{Appendices}

\hypertarget{r-installations}{%
\chapter{R installations}\label{r-installations}}

\textbf{R} is a programming language for statistical computing and
graphics. It is one of main programming language used for data science
(with other programming languages such as Python and Julia).

\hypertarget{step-1-1}{%
\subsubsection{Step 1}\label{step-1-1}}

You can download R from the
\href{https://cran.r-project.org/mirrors.html}{Comprehensive R Archive
Network (CRAN)} which is a network of servers around the world that
store identical up-to-date versions of code and documentation for R.

\includegraphics{./images/paste-13103C13.png}

Scroll down the page to locate the mirror that is the closest to your
geographic location and click on its URL.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
Selecting a mirror that is close to you may help speed up the download.
You can still use another mirror since the closest geographic location
does not always give the best mirror.
\end{tcolorbox}

For instance, when downloading R from Tanzania, you can select the
\href{https://cran.mirror.ac.za/}{mirror from South Africa}.

\hypertarget{step-2-1}{%
\subsubsection{Step 2}\label{step-2-1}}

Once on the CRAN page, select your operating system: Linux, macOS, or
Windows.

\includegraphics{./images/paste-23A4B16E.png}

\hypertarget{step-3-1}{%
\subsubsection{Step 3}\label{step-3-1}}

Select binaries for base distribution

\includegraphics{./images/paste-0739A4C1.png}

\hypertarget{step-4}{%
\subsubsection{Step 4}\label{step-4}}

Download the R installer (\textless{} 80 MB)

\includegraphics[width=3.64583in,height=\textheight]{./images/paste-9624855F.png}

\hypertarget{step-5}{%
\subsubsection{Step 5}\label{step-5}}

In your computer's Downloads folder, double-click the R setup file.

\includegraphics{./images/paste-FD7C97A4.png}

\hypertarget{step-6}{%
\subsubsection{Step 6}\label{step-6}}

Follow the instruction in the installation wizard to complete the
installation.

\includegraphics{./images/paste-0F242DBF.png}

\hypertarget{sec-RStudio-installation}{%
\section{Install and setup RStudio
Desktop}\label{sec-RStudio-installation}}

\textbf{Rstudio} is an integrated development environment (IDE) for R
that enables an easier use of R.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
RStudio is moving away from its R-exclusive focus and becoming
\href{https://posit.co/}{Posit} in October 2022 to enable broader data
science, scientific research, and technical communication
functionalities and, in particular, to integrate Python users.
\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
In order for RStudio desktop to work with R you must have installed R on
your computer, see \textbf{?@sec-R-installation}. RStudio does not
include R when you download and install it.
\end{tcolorbox}

\hypertarget{step-1-2}{%
\subsubsection{Step 1}\label{step-1-2}}

You can download R from the
\href{https://www.rstudio.com/products/rstudio/download/}{RStudio
website}. There are different RStudio products available, but the free
Desktop version offers all necessary features for your analyses.

\includegraphics{./images/paste-3C3D0718.png}

\hypertarget{step-2-2}{%
\subsubsection{Step 2}\label{step-2-2}}

\includegraphics{./images/paste-027BCBD8.png}

Download the RStudio Desktop installer that corresponds to your
operating system.

\hypertarget{step-3-2}{%
\subsubsection{Step 3}\label{step-3-2}}

In your computer's Downloads folder, double-click the RStudio Desktop
setup file.

\includegraphics{./images/paste-31A16011.png}

\hypertarget{step-4-1}{%
\subsubsection{Step 4}\label{step-4-1}}

Follow the instruction in the installation wizard to complete the
installation.

\includegraphics{./images/paste-427EA827.png}

\hypertarget{step-5-1}{%
\subsubsection{Step 5}\label{step-5-1}}

Open RStudio

\hypertarget{step-6-1}{%
\subsubsection{Step 6}\label{step-6-1}}

In RStudio, you can set global options by selecting \textbf{Tools}
\textgreater{} \textbf{Global options}

\includegraphics{./images/paste-D0B6CCF0.png}

\hypertarget{step-7}{%
\subsubsection{Step 7}\label{step-7}}

Under the \textbf{General} options and the \textbf{Basic} tab:

\begin{itemize}
\tightlist
\item
  \textbf{Workspace}

  \begin{itemize}
  \item
    Uncheck \emph{Restore .RData into workspace at startup}
  \item
    Ensure that \emph{Never} is selected for \emph{Save workspace to
    .RData on exit}.
  \end{itemize}
\item
  \textbf{History}

  \begin{itemize}
  \item
    Uncheck \emph{Always save history (even when not saving .RData)}
  \item
    Uncheck \emph{Remove duplicate entries in history}
  \end{itemize}
\end{itemize}

\includegraphics{./images/paste-A507B21D.png}

\hypertarget{sec-Quarto-installation}{%
\section{Install Quarto}\label{sec-Quarto-installation}}

\textbf{Quarto} is a software tool that allows to generate high quality
reproducible data analysis documents (including but not limited to
articles, reports, presentations) with programming language used in data
science (such as R, Python or Julia). It is the successor to \textbf{R
Markdown}.

\hypertarget{step-1-3}{%
\subsubsection{Step 1}\label{step-1-3}}

You can download the Quarto installer that corresponds to your operating
system from the \href{https://quarto.org/docs/get-started/}{Quarto
website}.

\includegraphics{./images/paste-DDD0332C.png}

\hypertarget{step-2-3}{%
\subsubsection{Step 2}\label{step-2-3}}

1. In your computer's Downloads folder, double-click the Quarto setup
file.

2. Follow the instruction in the installation wizard to complete the
installation.

\includegraphics{./images/paste-FE57875E.png}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
When the installation of Quarto is complete, you will not see any new
software on your computer, but Quarto is now available to be used in
RStudio, as well as by all other applications on your computer.

Quarto will select a version of R by looking on your system PATH. Note
that it is possible to override the version of R used by Quarto by
setting the \texttt{QUARTO\_R} environment variable.
\end{tcolorbox}

\hypertarget{sec-rmarkdown-installation}{%
\section{Install the rmarkdown R
package}\label{sec-rmarkdown-installation}}

To use Quarto with R and RStudio, you need to install the
\textbf{rmarkdown} R package.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-note-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colframe=quarto-callout-note-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
A \textbf{R package} is a collection of functions, data, and compiled
code in a well-defined format, created to add specific functionality to
R.

There are 10,000+ user contributed packages and growing.

There is a set of standard (or base) packages which is considered part
of the R source code and automatically available as part of your R
installation. Base packages contain the basic functions that allow R to
work, and enable standard statistical and graphical functions on data
sets.
\end{tcolorbox}

The \textbf{rmarkdown} package will add all necessary functionalities in
your R installation to render Quarto documents that use R.

\hypertarget{step-1-4}{%
\subsubsection{Step 1}\label{step-1-4}}

Open RStudio on your computer

\hypertarget{step-2-4}{%
\subsubsection{Step 2}\label{step-2-4}}

In RStudio, you can install a new package by selecting \textbf{Tools}
\textgreater{} \textbf{Install packages\ldots{}}

\includegraphics{./images/paste-100922E2.png}

\hypertarget{step-3-3}{%
\subsubsection{Step 3}\label{step-3-3}}

\includegraphics{./images/paste-BE660336.png}

\hypertarget{github-setup}{%
\chapter{GitHub setup}\label{github-setup}}

\textbf{GitHub} is a cloud-based hosting platform that lets you host and
manage repositories for version control and collaboration.

\includegraphics[width=2.60417in,height=\textheight]{./images/paste-15A58C67.png}

To Create a GitHub account, follow the instructions that are given in
slide 3 of the Powerpoint document available at the following
\href{https://drive.switch.ch/index.php/s/1eFnksrX0UtjfZV}{link}.

\hypertarget{sec-GitHub-Desktop-installation}{%
\section{Install GitHub desktop}\label{sec-GitHub-Desktop-installation}}

\textbf{GitHub Desktop} is an application that allows to interact with
GitHub through a visual interface instead of using the command line (for
software developers) or GitHub's web browser.

\includegraphics[width=2.60417in,height=\textheight]{./images/paste-9238B1AB.png}

You can install GitHub Desktop on supported Windows or macOS operating
systems.

\hypertarget{step-1-5}{%
\subsubsection{Step 1}\label{step-1-5}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Visit the \href{https://desktop.github.com/}{download page} for GitHub
  Desktop.
\item
  Click Download for Windows.
\end{enumerate}

\includegraphics{./images/paste-465BAC3C.png}

\hypertarget{step-2-5}{%
\subsubsection{Step 2}\label{step-2-5}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  In your computer's Downloads folder, double-click the GitHub Desktop
  setup file.
\item
  Follow the instruction in the installation wizard to complete the
  installation.
\end{enumerate}

\hypertarget{step-3-4}{%
\subsubsection{Step 3}\label{step-3-4}}

To connect your GitHub account to GitHub Desktop, follow the
instructions that are given in slides 6 to 9 of the Powerpoint document
available at the following
\href{https://drive.switch.ch/index.php/s/1eFnksrX0UtjfZV}{link}.

\hypertarget{sec-useful-resources}{%
\chapter{Resources for beginner data
scientists}\label{sec-useful-resources}}

\hypertarget{online-trainings}{%
\section{Online trainings}\label{online-trainings}}

\hypertarget{sec-resources-git}{%
\subsection{Git and GitHub}\label{sec-resources-git}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.7792}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2208}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://www.codecademy.com/learn/learn-git}{Codeacademy} & \\
\bottomrule()
\end{longtable}

\hypertarget{r-programming}{%
\subsection{R programming}\label{r-programming}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.7109}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2891}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://thegraphcourses.org}{The GRAPH network} & {⭐} {⭐} {⭐}
{⭐} {⭐} \\
\href{https://www.coursera.org/learn/r-programming-environment}{The R
programing environment} & {⭐} {⭐} {⭐} {⭐} {⭐} \\
\bottomrule()
\end{longtable}

\hypertarget{interface-r-with-stata}{%
\subsection{Interface R with Stata}\label{interface-r-with-stata}}

\begin{longtable}[]{@{}l@{}}
\toprule()
\url{https://rpubs.com/quarcs-lab/stata-from-Rstudio} \\
\midrule()
\endhead
\url{https://www.stata.com/features/overview/markdown/} \\
\url{https://ignacioriveros1.github.io/r/2020/03/22/r_and_stata.html} \\
\url{https://www.emmanuelteitelbaum.com/post/stata-and-markdown/} \\
\url{https://www.stata.com/python/pystata/install.html} \\
\url{https://data.princeton.edu/stata/markdown} \\
\url{https://github.com/Hemken/Statamarkdown} \\
\bottomrule()
\end{longtable}

\hypertarget{comprehensive-lectures}{%
\subsection{Comprehensive lectures}\label{comprehensive-lectures}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.6169}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1954}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.0651}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1149}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Tools
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Pricing
\end{minipage} \\
\midrule()
\endhead
\href{https://www.edx.org/course/principles-statistical-and-computational-tools-for}{Principles,
Statistical and Computational Tools for Reproducible Data Science} & R
and Rstudio

Python, Git, and GitHub & & \begin{minipage}[t]{\linewidth}\raggedright
\begin{itemize}
\item
  Free (audit track)
\item
  99 USD (verified track)
\end{itemize}
\end{minipage} \\
\href{https://www.edx.org/course/collaborative-data-science-for-healthcare}{Collaborative
Data Science for Healthcare} & Experience with R, Python and/or SQL is
required & & \begin{minipage}[t]{\linewidth}\raggedright
\begin{itemize}
\item
  Free (audit track)
\item
  49 USD (verified track)
\end{itemize}
\end{minipage} \\
& & & \\
& & & \\
\bottomrule()
\end{longtable}

\hypertarget{packages}{%
\section{Packages}\label{packages}}

\hypertarget{r-programming-1}{%
\subsection{R programming}\label{r-programming-1}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.2584}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.4382}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.2978}}@{}}
\toprule()
\endhead
\includegraphics[width=1.30208in,height=\textheight]{./images/tidyverse-logo.png}
& \href{https://www.tidyverse.org/}{tidyverse} & Collection of R
packages designed for data science \\
\includegraphics[width=1.30208in,height=\textheight]{./images/logo.png}
& \href{https://docs.ropensci.org/ruODK/index.html}{ruODK} & \\
\includegraphics[width=1.30208in,height=\textheight]{./images/logo-01.png}
& \href{https://www.danieldsjoberg.com/gtsummary/}{gtsummary} & \\
\includegraphics[width=1.30208in,height=\textheight]{./images/paste-A6E65357.png}
&
\href{https://cran.r-project.org/web/packages/skimr/vignettes/skimr.html}{skimr}
& \\
& \href{https://github.com/R4EPI/sitrep}{sitrep} & \\
\bottomrule()
\end{longtable}

\hypertarget{python-programming}{%
\subsection{Python programming}\label{python-programming}}

\begin{itemize}
\tightlist
\item
  \textbf{Pandas}\\
  \href{https://pandas.pydata.org/docs/getting_started/comparison/comparison_with_stata.html}{Comparison
  with Stata}\\
  \href{https://pandas.pydata.org/docs/getting_started/comparison/comparison_with_r.html}{Comparison
  with R}
\end{itemize}

\hypertarget{books-and-websites}{%
\section{Books and websites}\label{books-and-websites}}

\hypertarget{git-and-github}{%
\subsection{Git and GitHub}\label{git-and-github}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8794}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1206}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://guides.github.com/activities/hello-world/}{GitHub Guides}
& \\
\href{http://happygitwithr.com/}{Happy Git and GitHub for the useR} & \\
https://docs.github.com/en/desktop/installing-and-configuring-github-desktop/overview/getting-started-with-github-desktop
& \\
\bottomrule()
\end{longtable}

\hypertarget{reproducible-research}{%
\subsection{Reproducible research}\label{reproducible-research}}

\begin{itemize}
\tightlist
\item
  \href{https://the-turing-way.netlify.app/welcome.html}{The Turing way}
  (1) {⭐} {⭐} {⭐} {⭐} {⭐}
\end{itemize}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.6792}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.0818}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.2327}}@{}}
\caption{Books and websites}\tabularnewline
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Language
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endfirsthead
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Language
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://epirhandbook.com/en/}{R for applied epidemiology and
public health} (9) & R & {⭐} {⭐} {⭐} {⭐} {⭐} \\
\href{https://www.r4epi.com/}{R for Epidemiology} & R & \\
\href{https://r4epis.netlify.app/}{R4epis} & R & \\
\href{https://r4ds.had.co.nz/}{R for Data Science} & R & {⭐} {⭐} {⭐}
{⭐} {⭐} \\
\href{https://qmd4sci.njtierney.com/}{Quarto for scientists} & R & \\
\href{https://jhudatascience.org/tidyversecourse/}{Tidyverse Skills for
Data Science (jhudatascience.org)} & R & \\
\bottomrule()
\end{longtable}

\hypertarget{communities}{%
\section{Communities}\label{communities}}

\begin{itemize}
\tightlist
\item
  \href{https://www.rfordatasci.com/}{R for data science online learning
  community}
\end{itemize}

\hypertarget{open-data}{%
\section{Open data}\label{open-data}}

\hypertarget{platforms}{%
\subsection{Platforms}\label{platforms}}

\begin{itemize}
\item
  \href{https://open.africa/}{openAfrica}
\item
  \href{https://github.com/CodeForAfrica/}{Code for Africa (CfA)}
\end{itemize}

\hypertarget{data-sets}{%
\subsection{Data sets}\label{data-sets}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.7941}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2059}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Associated publication(s)
\end{minipage} \\
\midrule()
\endhead
\href{https://dataforgood.facebook.com/dfg/tools}{Data for Good} & \\
\href{https://open.africa/dataset/health-facilities-in-africa}{Public
health hacilities in sub-Saharan Africa} & (5) \\
\bottomrule()
\end{longtable}

\hypertarget{conferences}{%
\section{Conferences}\label{conferences}}

\begin{itemize}
\item
  \href{http://www.datascienceafrica.org/}{Data Science Africa}
\item
  \url{https://nef.org/}
\end{itemize}

\hypertarget{sec-useful-resources}{%
\chapter{Resources for intermediate to advanced data
scientists}\label{sec-useful-resources}}

\hypertarget{online-trainings-1}{%
\section{Online trainings}\label{online-trainings-1}}

\hypertarget{r-programming-2}{%
\subsection{R programming}\label{r-programming-2}}

\hypertarget{tidyverse}{%
\subsubsection{Tidyverse}\label{tidyverse}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.7744}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2256}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://www.coursera.org/learn/tidyverse}{Introduction to the
Tidyverse (JHU Data Science Lab's lectures)} & {⭐} {⭐} {⭐} {⭐}
{⭐} \\
\href{https://www.coursera.org/learn/tidyverse-importing-data}{Importing
data in the Tidyverse (JHU Data Science Lab's lectures)} & {⭐} {⭐}
{⭐} {⭐} {⭐} \\
\href{https://www.coursera.org/learn/tidyverse-data-wrangling}{Wranging
data in the Tidyverse} & \\
Visualizing data in the Tidyverse & \\
Modeling Data in the Tidyverse & \\
\bottomrule()
\end{longtable}

\begin{longtable}[]{@{}ll@{}}
\toprule()
Col1 & Col2 \\
\midrule()
\endhead
https://www.coursera.org/learn/advanced-r & \\
https://www.coursera.org/learn/r-packages & \\
https://www.coursera.org/learn/r-data-visualization & \\
\bottomrule()
\end{longtable}

\hypertarget{spatial-analyses}{%
\subsubsection{Spatial analyses}\label{spatial-analyses}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8455}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1545}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://afrimapr.github.io/afrimapr.website/training/}{afrimapr} -
mapping data in Africa & \\
\bottomrule()
\end{longtable}

\begin{longtable}[]{@{}l@{}}
\toprule()
\url{https://afrimapr.github.io/afrimapr.website/} \\
\midrule()
\endhead
\url{https://geocompr.robinlovelace.net/} \\
\url{https://www.paulamoraga.com/book-geospatial/} \\
\url{https://andysouth.shinyapps.io/afrilearnr-crash-course/} \\
\url{https://andysouth.shinyapps.io/intro-to-spatial-r/\#section-summary} \\
\bottomrule()
\end{longtable}

\hypertarget{multilanguage-programming}{%
\subsection{Multilanguage programming}\label{multilanguage-programming}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.6942}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.1570}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.1405}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Language
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://iqss.github.io/dss-workshops/}{Harvard Data Science
workshops materials} & R, Python, Stata & \\
\bottomrule()
\end{longtable}

\hypertarget{machine-learning}{%
\subsection{Machine learning}\label{machine-learning}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.7110}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.0694}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.2139}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
MOOC
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Language
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://www.fun-mooc.fr/en/courses/machine-learning-python-scikit-learn/}{Machine
learning in Python with scikit-learn} & Python & {⭐} {⭐} {⭐} {⭐}
{⭐} \\
\bottomrule()
\end{longtable}

\hypertarget{comprehensive-lectures-1}{%
\subsection{Comprehensive lectures}\label{comprehensive-lectures-1}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.6169}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1954}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.0651}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1149}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Tools
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Pricing
\end{minipage} \\
\midrule()
\endhead
\href{https://www.edx.org/course/principles-statistical-and-computational-tools-for}{Principles,
Statistical and Computational Tools for Reproducible Data Science} & R
and Rstudio

Python, Git, and GitHub & & \begin{minipage}[t]{\linewidth}\raggedright
\begin{itemize}
\item
  Free (audit track)
\item
  99 USD (verified track)
\end{itemize}
\end{minipage} \\
\href{https://www.edx.org/course/collaborative-data-science-for-healthcare}{Collaborative
Data Science for Healthcare} & Experience with R, Python and/or SQL is
required & & \begin{minipage}[t]{\linewidth}\raggedright
\begin{itemize}
\item
  Free (audit track)
\item
  49 USD (verified track)
\end{itemize}
\end{minipage} \\
https://www.coursera.org/learn/data-public-health & & & \\
& & & \\
\bottomrule()
\end{longtable}

\hypertarget{packages-1}{%
\section{Packages}\label{packages-1}}

\hypertarget{r-programming-3}{%
\subsection{R programming}\label{r-programming-3}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.2584}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.4382}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.2978}}@{}}
\toprule()
\endhead
\includegraphics[width=1.30208in,height=\textheight]{./images/tidyverse-logo.png}
& \href{https://www.tidyverse.org/}{tidyverse} & Collection of R
packages designed for data science \\
\includegraphics[width=1.30208in,height=\textheight]{./images/logo.png}
& \href{https://docs.ropensci.org/ruODK/index.html}{ruODK} & \\
\includegraphics[width=1.30208in,height=\textheight]{./images/logo-01.png}
& \href{https://www.danieldsjoberg.com/gtsummary/}{gtsummary} & \\
\includegraphics[width=1.30208in,height=\textheight]{./images/paste-A6E65357.png}
&
\href{https://cran.r-project.org/web/packages/skimr/vignettes/skimr.html}{skimr}
& \\
& \href{https://github.com/R4EPI/sitrep}{sitrep} & \\
\bottomrule()
\end{longtable}

\hypertarget{python-programming-1}{%
\subsection{Python programming}\label{python-programming-1}}

\begin{itemize}
\tightlist
\item
  \textbf{Pandas}\\
  \href{https://pandas.pydata.org/docs/getting_started/comparison/comparison_with_stata.html}{Comparison
  with Stata}\\
  \href{https://pandas.pydata.org/docs/getting_started/comparison/comparison_with_r.html}{Comparison
  with R}
\end{itemize}

\hypertarget{books-and-websites-1}{%
\section{Books and websites}\label{books-and-websites-1}}

\hypertarget{git-and-github-1}{%
\subsection{Git and GitHub}\label{git-and-github-1}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8023}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1977}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://guides.github.com/activities/hello-world/}{GitHub Guides}
& \\
\href{http://happygitwithr.com/}{Happy Git and GitHub for the useR} & \\
\bottomrule()
\end{longtable}

\hypertarget{reproducible-research-1}{%
\subsection{Reproducible research}\label{reproducible-research-1}}

\begin{itemize}
\tightlist
\item
  \href{https://the-turing-way.netlify.app/welcome.html}{The Turing way}
  (1) {⭐} {⭐} {⭐} {⭐} {⭐}
\end{itemize}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.6792}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.0818}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.2327}}@{}}
\caption{Books and websites}\tabularnewline
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Language
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endfirsthead
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Language
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Recommendation
\end{minipage} \\
\midrule()
\endhead
\href{https://epirhandbook.com/en/}{R for applied epidemiology and
public health} (9) & R & {⭐} {⭐} {⭐} {⭐} {⭐} \\
\href{https://www.r4epi.com/}{R for Epidemiology} & R & \\
\href{https://r4epis.netlify.app/}{R4epis} & R & \\
\href{https://r4ds.had.co.nz/}{R for Data Science} & R & {⭐} {⭐} {⭐}
{⭐} {⭐} \\
\href{https://qmd4sci.njtierney.com/}{Quarto for scientists} & R & \\
\href{https://jhudatascience.org/tidyversecourse/}{Tidyverse Skills for
Data Science (jhudatascience.org)} & R & \\
\bottomrule()
\end{longtable}

\hypertarget{communities-1}{%
\section{Communities}\label{communities-1}}

\begin{itemize}
\tightlist
\item
  \href{https://www.rfordatasci.com/}{R for data science online learning
  community}
\end{itemize}

\hypertarget{open-data-1}{%
\section{Open data}\label{open-data-1}}

\hypertarget{platforms-1}{%
\subsection{Platforms}\label{platforms-1}}

\begin{itemize}
\item
  \href{https://open.africa/}{openAfrica}
\item
  \href{https://github.com/CodeForAfrica/}{Code for Africa (CfA)}
\end{itemize}

\hypertarget{data-sets-1}{%
\subsection{Data sets}\label{data-sets-1}}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.7941}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2059}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Link
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Associated publication(s)
\end{minipage} \\
\midrule()
\endhead
\href{https://dataforgood.facebook.com/dfg/tools}{Data for Good} & \\
\href{https://open.africa/dataset/health-facilities-in-africa}{Public
health hacilities in sub-Saharan Africa} & (5) \\
\bottomrule()
\end{longtable}

\hypertarget{conferences-1}{%
\section{Conferences}\label{conferences-1}}

\begin{itemize}
\item
  \href{http://www.datascienceafrica.org/}{Data Science Africa}
\item
  \url{https://nef.org/}
\end{itemize}

\hypertarget{import-data-from-odk-central}{%
\chapter{Import data from ODK
Central}\label{import-data-from-odk-central}}

\hypertarget{overview-11}{%
\subsection{Overview}\label{overview-11}}

Application Programming Interfaces (APIs) allow you to import data
directly from servers.

\hypertarget{learning-objectives-11}{%
\subsection{Learning objectives}\label{learning-objectives-11}}

\begin{itemize}
\tightlist
\item
  We will explore the use of APIs through the example of \textbf{ruODK}
  for importing data from ODK Central to R.
\end{itemize}

\hypertarget{tutorial}{%
\section{Tutorial}\label{tutorial}}

While data digitally captured using ODK Collect or Enketo and stored in
ODK Central can be retrieved in bulk through the web interface, ODK
Central's API provides direct access to its data (and functionality). It
is a more efficient way to ensure that data are always up-to-date.

We will see how to retrieve data through the OData API.

\hypertarget{exercise-1-7}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
1}{✏️ Exercise 1}}\label{exercise-1-7}}

Connect to the ODK Central server data set.

\begin{itemize}
\tightlist
\item
  odata service:
  ``https://private-anon-24fcfe2426-odkcentral.apiary-mock.com/v1/projects/7/forms/simple.svc''
\item
  Email: ``my.email.address@getodk.org''
\item
  Password: ``my.super.secure.password''.
\end{itemize}

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  R: use the
  \href{https://docs.ropensci.org/ruODK/reference/ru_setup.html}{ru\_setup}
  function from the \texttt{ruODK} package (10).
\item
  Python: use functions from the \texttt{pyODK} package. Use
  \texttt{pip} in your standard Python shell (outside of RStudio) to
  install the \texttt{pyODK} package in a Python environment above 3.8.
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{r-17}{%
\subsubsection{R}\label{r-17}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{ruODK}\SpecialCharTok{::}\FunctionTok{ru\_setup}\NormalTok{(}
  \AttributeTok{svc =} \StringTok{"https://private{-}anon{-}24fcfe2426{-}odkcentral.apiary{-}mock.com/v1/projects/7/forms/simple.svc"}\NormalTok{,}
  \AttributeTok{un =} \StringTok{"my.email.address@getodk.org"}\NormalTok{,}
  \AttributeTok{pw =} \StringTok{"my.super.secure.password"}\NormalTok{,}
  \AttributeTok{verbose =} \ConstantTok{TRUE}
\NormalTok{)}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<ruODK settings>
  Default ODK Central Project ID: 7 
  Default ODK Central Form ID: simple 
  Default ODK Central URL: https://private-anon-24fcfe2426-odkcentral.apiary-mock.com 
  Default ODK Central Username: my.email.address@getodk.org 
  Default ODK Central Password: run ruODK::get_default_pw() to show 
  Default ODK Central Passphrase: run ruODK::get_default_pp() to show 
  Default Time Zone: UTC 
  Default ODK Central Version: 1.1 
  Default HTTP GET retries: 3 
  Verbose messages: TRUE 
  Test ODK Central Project ID:  
  Test ODK Central Form ID:  
  Test ODK Central Form ID (ZIP tests):  
  Test ODK Central Form ID (Attachment tests):  
  Test ODK Central Form ID (Parsing tests):  
  Test ODK Central Form ID (WKT tests):  
  Test ODK Central URL:  
  Test ODK Central Username:  
  Test ODK Central Password: run ruODK::get_test_pw() to show 
  Test ODK Central Passphrase: run ruODK::get_test_pp() to show 
  Test ODK Central Version: 1.1 
\end{verbatim}

\hypertarget{python-7}{%
\subsubsection{Python}\label{python-7}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(reticulate)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Warning: Paket 'reticulate' wurde unter R Version 4.1.3 erstellt
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{reticulate}\SpecialCharTok{::}\FunctionTok{use\_condaenv}\NormalTok{(}\StringTok{"pyodk\_test"}\NormalTok{, }\AttributeTok{required =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{reticulate}\SpecialCharTok{::}\FunctionTok{py\_discover\_config}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
python:         C:/ProgramData/Anaconda3/envs/pyodk_test/python.exe
libpython:      C:/ProgramData/Anaconda3/envs/pyodk_test/python38.dll
pythonhome:     C:/ProgramData/Anaconda3/envs/pyodk_test
version:        3.8.13 (default, Mar 28 2022, 06:59:08) [MSC v.1916 64 bit (AMD64)]
Architecture:   64bit
numpy:          C:/ProgramData/Anaconda3/envs/pyodk_test/Lib/site-packages/numpy
numpy_version:  1.23.3

NOTE: Python version was forced by use_python function
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ pyodk.client }\ImportTok{import}\NormalTok{ Client}
\NormalTok{client }\OperatorTok{=}\NormalTok{ Client()}
\NormalTok{client.}\BuiltInTok{open}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<pyodk.client.Client object at 0x000000004E1F2610>
\end{verbatim}

\hypertarget{exercise-2-3}{%
\subsubsection{\texorpdfstring{{✏️} Exercise
2}{✏️ Exercise 2}}\label{exercise-2-3}}

Retrieve data from form and store the data set into a data frame called
df4

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-tip-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip}, rightrule=.15mm, colframe=quarto-callout-tip-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]

\begin{itemize}
\tightlist
\item
  R: use the
  \href{https://docs.ropensci.org/ruODK/reference/odata_submission_get.html}{odata\_submission\_get}
  function from the \texttt{ruODK} package (10).
\item
  Python: use functions from the \texttt{pyODK} package.
\end{itemize}

\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\CommentTok{\# Write your code here}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{r-18}{%
\subsubsection{R}\label{r-18}}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{fq\_form\_schema }\OtherTok{\textless{}{-}}\NormalTok{ ruODK}\SpecialCharTok{::}\FunctionTok{form\_schema}\NormalTok{()}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
i Form schema v1.1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{fq\_form\_schema}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 5 x 5
  name       path             type      binary ruodk_name      
  <chr>      <chr>            <chr>     <lgl>  <chr>           
1 meta       /meta            structure NA     meta            
2 instanceID /meta/instanceID string    NA     meta_instance_id
3 name       /name            string    NA     name            
4 age        /age             int       NA     age             
5 photo      /photo           binary    TRUE   photo           
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}\{r\}}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ ruODK}\SpecialCharTok{::}\FunctionTok{odata\_service\_get}\NormalTok{()}
\NormalTok{df}
\InformationTok{\textasciigrave{}\textasciigrave{}\textasciigrave{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 0 x 3
# ... with 3 variables: name <chr>, kind <chr>, url <chr>
\end{verbatim}

\hypertarget{encrypted-data}{%
\section{Encrypted data}\label{encrypted-data}}

Encrypted data can only be retrieved using the RESTful API and cannot be
retrieved using the oData API. ODK Central supports two modes of
encryption - learn about them here. ruODK supports project managed
encryption, however the support is limited to exactly one encryption
key. The supplied passphrase will be used against the first returned
encryption key. Remaining encryption keys are ignored by ruODK.

\begin{tcolorbox}[enhanced jigsaw, colbacktitle=quarto-callout-important-color!10!white, titlerule=0mm, breakable, opacityback=0, opacitybacktitle=0.6, left=2mm, coltitle=black, colback=white, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, rightrule=.15mm, colframe=quarto-callout-important-color-frame, toprule=.15mm, bottomtitle=1mm, toptitle=1mm, arc=.35mm, bottomrule=.15mm, leftrule=.75mm]
If an incorrect passphrase is given, the request is terminated
immediately. It has been reported that multiple requests with incorrect
passphrases can crash ODK Central.
\end{tcolorbox}



\end{document}
