[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Data Science for Public Health",
    "section": "",
    "text": "Data science and artificial intelligence have the potential to generate fundamentally new insights on global health policies in Africa, but the full realization of this potential depends on the availability of a critical mass of highly trained health data scientists on the continent.\nThis electronic book was created by H√©l√®ne Langet, Fenella Beynon, Fabian Sch√§r, Silvia Cicconi and Gillian Levine from the Swiss Tropical & Public Health Institute (Swiss TPH) and Samwel Lwambura (IHI) from the Ifakara Health Institute (IHI) to accompany the Data Science for Public Health workshop which will be held in Dar-es-Salaam from Monday,September 26th to Wednesday, September 28th 2022.\nThe goal of this workshop is to enable researchers from the Ifakara Health Institute (IHI) to strengthen their expertise in the area and to lay the foundations for the development of a data science curriculum that is adapted to IHI‚Äôs needs.\nThis work is the product of interdisciplinary discussions with Abdallah Mkopi, Grace Mhalu, Robert Moshiro from IHI and feedback from Hajirani Msuya and Martine Masonda, the first group to use these notebooks.\n\n\n\n This book is licensed under a Attribution 4.0 International (CC BY 4.0).\nYou are free to:\n\nShare ‚Äî copy and redistribute the material in any medium or format\nAdapt ‚Äî remix, transform, and build upon the material for any purpose, even commercially.\n\nUnder the following terms:\n\nAttribution ‚Äî You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.\nNo additional restrictions ‚Äî You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.\n\n\n\n\n\nSeptember 25, 2022: First edition.\n\n\n\n\nThis work was funded by the Leading House Africa (LHA) which promotes and fosters bilateral collaboration with partner institutions in Africa."
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1¬† About the workshop",
    "section": "",
    "text": "üóìÔ∏è September 26-28, 2022\nüïò 09:00 - 17:00\nüåá Dar-es-Salaam, Tanzania\nThis workshop targets public health researchers and aims to accompany them in their journey towards Data Science."
  },
  {
    "objectID": "intro.html#is-this-workshop-for-me",
    "href": "intro.html#is-this-workshop-for-me",
    "title": "1¬† About the workshop",
    "section": "1.1 Is this workshop for me?",
    "text": "1.1 Is this workshop for me?\nThis workshop is relevant for researchers who answer yes at least to one of the following questions:\n\nDo you who want to develop data science projects in public health?\nDo you wants to learn more about how open and reproducible science approaches can be used in your daily practice?\nAre you a Stata user (or any other data analysis language) who would like to expand your data analysis skillset with R?\nDo you want to bridge analyses between data analysis tools (Stata, R or Python) and to more easily collaborate on data analysis with other researchers?"
  },
  {
    "objectID": "intro.html#learning-objectives",
    "href": "intro.html#learning-objectives",
    "title": "1¬† About the workshop",
    "section": "1.2 Learning objectives",
    "text": "1.2 Learning objectives\nThere are two complementary aspects of moving into data science:\n\na mindset about how scientists think and collaborate about data, and\na skillset which is composed of an ecosystem of tools (mostly open-source) and practices.\n\nUpon completing the workshop, participants will have gained:\n\nexposure to data science approach, tools and collaborative practices\nlearned the basics of working with dynamic documents in RStudio, and how to incrementally incorporate R into your existing data analysis workflows\nhands-on experience on how to interface between Stata and R and combine them depending on your skills and needs. The idea is not to replace everything you are already doing in Stata into R but that you can continue your learning journey after this workshop at your own pace, also using some of the resources listed in Appendix¬†D."
  },
  {
    "objectID": "intro.html#to-do-before-the-workshop",
    "href": "intro.html#to-do-before-the-workshop",
    "title": "1¬† About the workshop",
    "section": "1.3 To do before the workshop",
    "text": "1.3 To do before the workshop\n\nFill out the online pre-workshop questionnaire\nIf you have not it yet, please go through the following five steps (about 30 minutes).\n\nInstall R (Section¬†A.1)\nInstall and setup RStudio Desktop (Section¬†A.2)\nInstall Quarto (Section¬†A.3)\nInstall the rmarkdown R package (Section¬†A.4)\nCreate a GitHub account (Section¬†B.1)\nInstall GitHub Desktop (Section¬†B.2)\n\n\n\n\n\n\n\n\nNote\n\n\n\n\nAll software used in this workshop are free.\nIf you have any difficulties with the installation, support can be provided on the first day of the workshop before the first session or during breaks.\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\nFor those who have already been introduced to Git, R/RStudio and RMarkdown, note that you need to additionally install Quarto for this workshop."
  },
  {
    "objectID": "intro.html#venue",
    "href": "intro.html#venue",
    "title": "1¬† About the workshop",
    "section": "1.4 Venue",
    "text": "1.4 Venue\nThe workshop takes place at Protea Hotel Dar es Salaam Courtyard on Seaview Ocean Road. The conference room is Nelson Hall."
  },
  {
    "objectID": "intro.html#schedule",
    "href": "intro.html#schedule",
    "title": "1¬† About the workshop",
    "section": "1.5 Schedule",
    "text": "1.5 Schedule\n\n1.5.1 Day 1\n\n\nTable¬†1.1: Schedule Day 1\n\n\n\n\n\n\nTime\nSession\n\n\n\n\n08.30 - 09.00\nWelcome\nSupport for software installation\n\n\n09.00 - 09.15\nIntroduction to data science tools\nOverview of objectives for Day 1\n\n\n09.15 - 10.15\nVersion control with Git\n\n\n10.15 - 10.45\nüçµ ‚òï Break\n\n\n10.45 -11.45\nIntroduction to dynamic documents and Quarto\n\n\n11.45 - 12.15\nUse Quarto with Stata\n\n\n12.15 - 13.15\nüç¥ Lunch break\n\n\n13.15 - 14.00\nImport external data\n\n\n14.00 - 15.00\nManipulate data\n\n\n15.00 - 15.30\nüçµ ‚òï Break\n\n\n15.30 - 16.15\nVisualise data\n\n\n16.15 - 17.00\nShare code and collaborate with Git\n\n\n\n\n\n\n1.5.2 Day 2\n\n\nTable¬†1.2: Schedule Day 2\n\n\n\n\n\n\nTime\nSession (all)\n\n\n\n\n08.30 - 09.00\nWelcome\n\n\n09.00 - 09.20\nIntroduction to Data Science for Public Health\nOverview of objectives for Day 2\n\n\n09.20 - 10.15\nDiscussion on concepts related to to public health data for decision-making\n\n\n10.15 - 10.45\nüçµ ‚òï Break\n\n\n10:45-12:15\nMalaria practical #1\n\n\n12.15- 13.15\nüç¥ Lunch break\n\n\n13.15- 13.30\nPrepare presentation of data findings\n\n\n13.30 - 14.00\nPresent and discuss data findings\n\n\n14.00 - 14.30\nInterdisciplinary discussion on malaria, dataset, uncertainties, challenges\n\n\n14.00 - 14.30\nMalaria practical #2\n\n\n15.00 - 15.30\nüçµ ‚òï Break\n\n\n15.30 - 16.15\nMalaria practical #2\n\n\n16.15 - 16.30\nPrepare presentation of data findings\n\n\n16.30 - 17.00\nPresent and discuss data findings\n\n\n\n\n\n\n1.5.3 Day 3\n\n\nTable¬†1.3: Schedule Day 3\n\n\n\n\n\n\nTime\nSession (all)\n\n\n\n\n08.30 - 09.00\nWelcome\n\n\n09.00 - 09.20\nInterdisciplinary introduction to big data and machine Learning\nOverview of objectives for Day 3\n\n\n09.20 - 10.15\nDiscussion on secondary data sources\n(Public Datasets, e.g.¬†DHS, Facebook, facilities, etc)\nBenefits and drawbacks between primary and secondary data sources\n\n\n10.15 - 10.45\nüçµ ‚òï Break\n\n\n10.45 - 12.15\n[Analysis stream] Introduction to machine learning\n[Interpretation stream] Critically discuss data surveys/reports\n\n\n12:15-13:15\nüç¥ Lunch break\n\n\n13:15-13:45\nSpeed talks - research presentations\n\n\n13:45-15.00\n[Analysis stream] Data practical\n[Interpretation stream] Critically discuss data surveys/reports\n\n\n15.00 - 15.30\nüçµ ‚òï Break\n\n\n15:30-16:00\nFeedback on findings from practicals\n\n\n16:00-16:30\n\nFeedback on workshop - Wrap-up"
  },
  {
    "objectID": "intro.html#to-do-after-the-workshop",
    "href": "intro.html#to-do-after-the-workshop",
    "title": "1¬† About the workshop",
    "section": "1.6 To do after the workshop",
    "text": "1.6 To do after the workshop\n\nFill out the online post-workshop questionnaire.\nThis material will stay online, do not hesitate to refer to it if needed."
  },
  {
    "objectID": "tools_for_reproducible_data_science.html",
    "href": "tools_for_reproducible_data_science.html",
    "title": "2¬† üìö Tools for reproducible quantitative research",
    "section": "",
    "text": "When reporting scientific results, researchers must document the steps they followed so that independent researchers within the broader research community are able to trust and build upon their findings (cumulative knowledge).\n\n\n\n\n\n\nImportant\n\n\n\nReporting should include negative results as they contribute to the development of a cumulative knowledge as much as positive results do and avoid wasting resources.\n\n\n\n\n\nFigure¬†2.1: Research Diagram vs.¬†Research Reality. ‚ÄúPiled Higher and Deeper‚Äù by Jorge Cham www.phdcomics.com\n\n\nThere have been recurrent calls in the recent decades for the scientific community to embrace practices to support research reproducibility and many software tools are now available to facilitate this process.\n\n\n\n\nWhat is meant by reproducible quantitative research and why does it matters?\nWhat should be documented for ensuring the reproducibility of quantitative analyses?\nWhat software tools are available to support reproducible quantitative research?"
  },
  {
    "objectID": "tools_for_reproducible_data_science.html#reproducible-quantitative-research",
    "href": "tools_for_reproducible_data_science.html#reproducible-quantitative-research",
    "title": "2¬† üìö Tools for reproducible quantitative research",
    "section": "2.2 Reproducible quantitative research",
    "text": "2.2 Reproducible quantitative research\nA quantitative analysis is said to be (computationally) reproducible when the same analysis steps performed on the same dataset consistently produce the same quantitative results (1). Given the deterministic nature of computer programmes, a quantitative analysis must be reproducible to be credible.\n\n\n\nFigure¬†2.2: This image was created by Scriberia for The Turing Way community and is used under a CC-BY licence. DOI: 10.5281/zenodo.3332807\n\n\nIn addition to (computational) reproducibility, replicability, robustness and generalisability are key to the generation of strong quantitative evidence.\n\nReplicabilityRobustnessGeneralisability\n\n\nThe same analysis steps are performed on different datasets and produce qualitatively similar answers (1).\n\n\n\nFigure¬†2.3: This image was created by Scriberia for The Turing Way community and is used under a CC-BY licence. DOI: 10.5281/zenodo.3332807\n\n\n\n\nDifferent analysis steps are performed on the same dataset to answer the same research question and produce qualitatively similar or identical answers (1).\n\n\n\nFigure¬†2.4: This image was created by Scriberia for The Turing Way community and is used under a CC-BY licence. DOI: 10.5281/zenodo.3332807\n\n\n\n\nDifferent analysis steps are performed on the different datasets to know how well the work applies to all the different aspects of the research question and produce generalisable answers (1).\n\n\n\nFigure¬†2.5: This image was created by Scriberia for The Turing Way community and is used under a CC-BY licence. DOI: 10.5281/zenodo.3332807"
  },
  {
    "objectID": "tools_for_reproducible_data_science.html#good-documentation-for-reproducible-analyses",
    "href": "tools_for_reproducible_data_science.html#good-documentation-for-reproducible-analyses",
    "title": "2¬† üìö Tools for reproducible quantitative research",
    "section": "2.3 Good documentation for reproducible analyses",
    "text": "2.3 Good documentation for reproducible analyses\nTo guarantee that any other researcher can reproduce your analysis, you would need to document and share the full computational environment, tools, data and code that were used to generate your results.\n\n\n\nFigure¬†2.6: This image was adapted from an original image created by Scriberia for The Turing Way community (CC-BY licence. DOI: 10.5281/zenodo.3332807)."
  },
  {
    "objectID": "tools_for_reproducible_data_science.html#opportunities-and-challenges-of-reproducible-research",
    "href": "tools_for_reproducible_data_science.html#opportunities-and-challenges-of-reproducible-research",
    "title": "2¬† üìö Tools for reproducible quantitative research",
    "section": "2.4 Opportunities and challenges of reproducible research",
    "text": "2.4 Opportunities and challenges of reproducible research\n\nüí¨ Discussion‚ûï Opportunities‚ûñ Barriers and challengesChallenges\n\n\n\nHow do you think reproducible quantitative analyses can improve your research?\nRecent investigations have shown that a significant percentage of scientific studies cannot be reproduced, thus contributing to growing mistrust in scientific results (2,3). What barriers and challenges to reproducible research do you see in your daily practice?\n\nüïí 5 minutes\n\n\n\n\n\nThis image was created by Scriberia for The Turing Way community and is used under a CC-BY licence. DOI: 10.5281/zenodo.3332807\n\n\n\n\n\n\n\nFigure¬†2.7: Example of barriers to reproducibility\n\n\n\n\nIn practice, reproducibility is challenging, even for trained data scientists equipped with an arsenal of software tools. Quantitative analyses can often not be fully reproduced because of complexities in how software tools are packaged, installed, and executed and because of limitations associated with how scientists document analysis steps."
  },
  {
    "objectID": "tools_for_reproducible_data_science.html#software-tools-across-the-research-data-lifecycle",
    "href": "tools_for_reproducible_data_science.html#software-tools-across-the-research-data-lifecycle",
    "title": "2¬† üìö Tools for reproducible quantitative research",
    "section": "2.5 Software tools across the research data lifecycle",
    "text": "2.5 Software tools across the research data lifecycle\nAs illustrated in Figure¬†2.8, there is now a whole set of free or open source software tools that are available to help you automate your processes and overcome reproducibility challenges across the research data lifecycle.\nIn this workshop, you will be introduced to following software tools that will help make your quantitative data processing, study and analysis more reproducible:\n\nGit/GitHub allow you to keep track of various versions of your code, share your code and collaborate with others on code development;\nR is a programming language for statistical computing and graphics and one of main programming language used for data science (with other programming languages such as Python and Julia). The ecosystem around R provides an interactive environment for data science science workflows, thus making R is a great start for your data science journey.\nRstudio is an integrated development environment (IDE) for R that enables an easier use of R.\nQuarto allow you to generate (reproducible) dynamic reports to document your data analyses. We will use Quarto within the R/RStudio environment.\n\n\n\n\n\n\n\nImportant\n\n\n\nIn practice, most data scientists use a mix of languages, often at least R and Python. You will be slightly exposed to R, but the goal of this workshop is\n\n\n\n\n\nFigure¬†2.8: Example of free / open source software tools across the research data lifecycle. This image was adapted from an original image created by Scriberia for The Turing Way community (CC-BY licence. DOI: 10.5281/zenodo.3332807).\n\n\n\n\n\n\n\n\nNote\n\n\n\nAlthough qualitative research contributes as significantly as quantitative research to knowledge generation, the validation of qualitative research findings is a much more complex and debated concept as qualitative analysis is by essence subjective and contextual. This explains the lower availability of software tools dedicated to qualitative research compared to what is available for quantitative research.\n\n\n\n\n\n\n1. The Turing Way Community. The Turing Way: A handbook for reproducible, ethical and collaborative research [Internet]. Zenodo; 2022. Available from: https://doi.org/10.5281/zenodo.6909298\n\n\n2. Baker M. 1,500 scientists lift the lid on reproducibility. Nature. 2016;533:452‚Äì4. \n\n\n3. Harris JK, Johnson KJ, Carothers BJ, Combs TB, Luke DA, Wang X. Use of reproducible research practices in public health: A survey of public health analysts. PLOS ONE [Internet]. 2018 Sep;13(9):1‚Äì12. Available from: https://doi.org/10.1371/journal.pone.0202447"
  },
  {
    "objectID": "version_control_with_git.html",
    "href": "version_control_with_git.html",
    "title": "3¬† üìö Version control with Git",
    "section": "",
    "text": "Does the following situation seem sadly familiar? The challenge here is not only that you have no idea which draft is actually the latest version of the document, but also that it is almost impossible to understand what decision on the document content was taken when.\n\n\n\nFigure¬†3.1: ‚ÄúPiled Higher and Deeper‚Äù by Jorge Cham www.phdcomics.com\n\n\nVersion control is the process by which the development of a document is clearly identified. It provides huge benefits to organization, archiving, and being able to find your files easily when you need them. Git is a tool that\n\n\n\nIn this chapter, we introduce the basic elements of version control. We will learn the terminology and practice version control on a need-to-know basis across the workshop.\n\nWhat is version control?\nWhat tools are available to support version control?\nHow to set up Git version control for a project?"
  },
  {
    "objectID": "version_control_with_git.html#version-control",
    "href": "version_control_with_git.html#version-control",
    "title": "3¬† üìö Version control with Git",
    "section": "3.2 Version control",
    "text": "3.2 Version control\nVersion control generally applies at a level of a project. It tracks and manages different drafts and versions for each document in the project.\n\n\n\n\n\n\nImportant\n\n\n\nWith version control, you will only see a single file, which is the most recent version (final version). This helps avoiding confusion.\n\n\nVersion control provides an audit trail for the revisions and updates of final versions.\n\n\n\n\n\n\nTip\n\n\n\nVersion control tracks what changes have been made, by whom and when, so that you do no longer need to save a copy of your documents with your name or the date in the filename.\n\n\nVersion control allows you to discard recent updates and restore an earlier version of our project if needed.\n\n\n\nThis image was created by Scriberia for The Turing Way community and is used under a CC-BY licence. DOI: 10.5281/zenodo.3332807"
  },
  {
    "objectID": "version_control_with_git.html#git-github-and-github-desktop",
    "href": "version_control_with_git.html#git-github-and-github-desktop",
    "title": "3¬† üìö Version control with Git",
    "section": "3.3 Git, GitHub and GitHub Desktop",
    "text": "3.3 Git, GitHub and GitHub Desktop\n\n\n\n\n\n\n\n\n\nGit\nFree and open programme that tracks changes to your files over time.\n\n\n\nGitHub\nCloud-based hosting platform that lets you host and manage Git repositories. GitHub synchronizes your local files online and enables you to collaborate with others (and yourself).\n\n\n\nGitHub Desktop\nApplication that allows to use Git commands seamlessly through a visual interface instead of using the command line (for software developers) or GitHub‚Äôs website.\n\n\n\nWe will always use these three tools together.\nPlease refer to the following sections for instructions on creation/installation steps:\n\nCreate a GitHub account (Section¬†B.1)\nInstall GitHub Desktop (Section¬†B.2)"
  },
  {
    "objectID": "version_control_with_git.html#set-up-git-version-control-for-a-project",
    "href": "version_control_with_git.html#set-up-git-version-control-for-a-project",
    "title": "3¬† üìö Version control with Git",
    "section": "3.4 Set up Git version control for a project",
    "text": "3.4 Set up Git version control for a project\n\n\n\n\n\n\nNote\n\n\n\nA repository is a database of all changes in your project. You will have a personal copy of all the final versions of the documents in the project (working copy) which will appear on your computer as a folder.\n\n\n\nStep 1Step 2Step 3\n\n\nOpen GitHub Desktop\n\n\n\nIn GitHub Desktop, you can create a new repository by selecting File > New repository.\n\n\n\n\nEnter data_science_workshop_sept_2022 as the name of your new repository.\nClick Choose‚Ä¶ to select the local directory in which your new repository will be created. Using Windows Explorer, navigate to the local repository of your choice.\nCheck Initialize this repository with a README to create a README file in your new repository. This is optional and you will be able to create a README file later if you wish to do so.\nClick on Create repository."
  },
  {
    "objectID": "version_control_with_git.html#to-go-further",
    "href": "version_control_with_git.html#to-go-further",
    "title": "3¬† üìö Version control with Git",
    "section": "3.5 To go further",
    "text": "3.5 To go further\nTo learn more about Git, we refer you to the resources listed in Section¬†D.1."
  },
  {
    "objectID": "rstudio_orientation.html",
    "href": "rstudio_orientation.html",
    "title": "4¬† üìò Getting started with RStudio",
    "section": "",
    "text": "Please review the following sections for instructions on installation steps:\n\nDownloading R (Section¬†A.1)\nDownloading and configuring RStudio (Section¬†A.2)\n\n\n\n\n\nFamiliarise with RStudio\nGet set up with not storing the RStudio workspace"
  },
  {
    "objectID": "rstudio_orientation.html#orientation-to-the-rstudio-interface",
    "href": "rstudio_orientation.html#orientation-to-the-rstudio-interface",
    "title": "4¬† üìò Getting started with RStudio",
    "section": "4.2 Orientation to the RStudio interface",
    "text": "4.2 Orientation to the RStudio interface\nOpen RStudio\nBy default RStudio displays four rectangle panes.\n\n\n\n\n\n\nTip\n\n\n\nIf your RStudio displays only one left pane it is because you have no scripts open yet.\n\n\n\nR Console PaneSource PaneEnvironment PaneLower-right pane\n\n\nThe R Console, by default the left or lower-left pane in R Studio, is the home of the R ‚Äúengine‚Äù. This is where the commands are actually run and non-graphic outputs and error/warning messages appear. You can directly enter and run commands in the R Console, but realize that these commands are not saved as they are when running commands from a script.\n\n\n\n\n\n\nTip\n\n\n\nThis pane is similar to the Stata Command and the Results windows.\n\n\n\n\nThis pane, by default in the upper-left, is space to edit and run your scripts, including the RMarkdown outbreak and survey templates. This pane can also display datasets (data frames) for viewing.\n\n\n\n\n\n\nTip\n\n\n\nThis pane is similar to the Stata Do-file and Data Editor windows.\n\n\n\n\nThis pane, by default the upper-right, is most often used to see brief summaries of objects in the R Environment in the current session. These objects could include imported, modified, or created datasets, parameters you have defined (e.g.¬†a specific epi week for the analysis), or vectors or lists you have defined during analysis (e.g.¬†names of regions). Click on the arrow next to a dataframe name to see its variables.\n\n\n\n\n\n\nTip\n\n\n\nThis pane is similar to the Stata Variables Manager window.\n\n\n\n\nThe lower-right pane includes several tabs:\n\nFiles (library of files)\nPlots (display of graphics including maps)\nPackages (available R packages including installation/update options)\nHelp\nViewer\nPresentation.\n\n\n\n\n\n\n\nTip\n\n\n\nThis pane contains the Stata equivalents of the Plots Manager and Project Manager windows."
  },
  {
    "objectID": "rstudio_orientation.html#open-a-new-r-project",
    "href": "rstudio_orientation.html#open-a-new-r-project",
    "title": "4¬† üìò Getting started with RStudio",
    "section": "4.3 Open a new R project",
    "text": "4.3 Open a new R project\nIn RStudio, you can create a new project by selecting File > New Project‚Ä¶\n\nSelect New Directory\n\nSelect New Project\n\nSelect a location to save the new R project (this creates a new folder).\n\nSave all relevant data files into this new R project folder.\nWe will use this project for the duration of the workshop."
  },
  {
    "objectID": "dynamic_documents.html",
    "href": "dynamic_documents.html",
    "title": "5¬† üìö Dynamic documents",
    "section": "",
    "text": "The final product of a quantitative research is a report (e.g., scientific publications), i.e.¬†a textual description of your research findings along with figures and tables resulting from your analysis. summary tables and figures. Based on this data, you discuss findings and give recommendations while using the data as evidence that backs up your discussion.\nImagine the following situations\n\nyou are informed that you were given the wrong data set just when you have finalised your article for submission to a journal. You are sent a new one and you are asked to run the same analysis with this new data set.\nyou realize that a mistake was made and need to re-examine the code, fix the error, and re-run the analysis 3. someone you are training wants to see the code and be able to reproduce the results to learn about your approach?\n\nSituations like the ones just described are actually quite common for a data scientist.\nIt is actually possible to keep your data science projects organized with RStudio so that re-running an analysis and recreating reports is straightforward and can be done with minimal effort.Dynamic documents can be produced to update on a routine basis (e.g.¬†daily surveillance reports) and/or run on subsets of data (e.g.¬†reports for each jurisdiction).\n\n\n\nThe goal of this section is to briefly discuss why we want to learn quarto, the benefits, and the barriers to using it.\n\nWhat is a dynamic report?\nWhat is Quarto?\nThink about why you want to use Quarto"
  },
  {
    "objectID": "dynamic_documents.html#background-to-r-markdown",
    "href": "dynamic_documents.html#background-to-r-markdown",
    "title": "5¬† üìö Dynamic documents",
    "section": "5.2 Background to R Markdown",
    "text": "5.2 Background to R Markdown\nThis is possible due to the fact that Quarto documents enable code and textual descriptions to be combined into the same document, and the figures and tables produced by the code are automatically added to the document.\nQuarto is a tool that allows you integrate your code, text and figures in a single file in order to make high quality, reproducible reports. A paper published with an included quarto file and data sets can be reproduced by anyone with a computer. R Markdown integrates code and natural language in a way that is called ‚Äúliterate programming‚Äù (1).\nTo explain some of the concepts and packages involved:\n\nMarkdownR MarkdownrmarkdownQuarto\n\n\nMarkdown is a ‚Äúlanguage‚Äù that allows you to write a document using plain text, that can be converted to html and other formats. It is not specific to R.\nMarkdown files have a md extension.\n\n\nIt is a variation on markdown that is specific to R - it allows you to write a document using markdown to produce text and to embed R code and display their outputs. which was a variant of Markdown specifically designed to allow R code chunks to be included.\nR Markdown is a widely-used tool for creating automated, reproducible, and share-worthy outputs, such as reports. It can generate static or interactive outputs, in Word, pdf, html, powerpoint, and other formats.\nR Markdown files have .Rmd extension.\n\n\nIt is the R package: This is used by R to render the .Rmd file into the desired output.\n\n\nQuarto is the successor to R Markdown. As a R Markdown document, a Quarto document intersperces code and text such that the script actually becomes your output document. You can create an entire formatted document, including narrative text (can be dynamic to change based on your data), tables, figures, bullets/numbers, bibliographies, etc.\nQuatro uses a mark-up language similar to HyperText Markup Language (HTML) or LaTeX, in comparison to a ‚ÄúWhat You See Is What You Get‚Äù (WYSIWYG) language, such as Microsoft Word. This means that all the aspects are consistent, for instance, all top-level heading will look the same. But it means that we use symbols to designate how we would like certain aspects to appear. And it is only when we build the mark-up that we get to see what it looks like. A visual editor option can also be used which hides the need for the user to do this mark-up themselves.\nQuarto is not tied to the R language.\nQuarto files have a .Qmd extension.\n\n\n\n\nknitrPandoc\n\n\nThis R package will read the code chunks, execute it, and ‚Äòknit‚Äô it back into the document. This is how tables and graphs are included alongside the text.\n\n\nPandoc actually convert the output into word/pdf/powerpoint etc. It is a software separate from R but is installed automatically with RStudio.\n\n\n\n\nThe process that happens in the background involves feeding the .Rmd file to knitr, which executes the R code chunks and creates a new .md (markdown) file which includes the R code and its rendered output. The .md file is then processed by Pandoc to create the final product: a Microsoft Word document, HTML file, PowerPoint document, PDF, etc.\n\nüí¨ Discussion\n\n\nForm small groups of 2-4 with your neighbours and discuss how you expect learning Quarto might benefit you.\nüïí 5 minutes"
  },
  {
    "objectID": "dynamic_documents.html#references",
    "href": "dynamic_documents.html#references",
    "title": "5¬† üìö Dynamic documents",
    "section": "5.3 References",
    "text": "5.3 References\n\nThe Epidemiologist R Handbook (https://epirhandbook.com)\n\n\n\n\n\n1. Knuth DE. Literate Programming. The Computer Journal [Internet]. 1984 Jan;27(2):97‚Äì111. Available from: https://doi.org/10.1093/comjnl/27.2.97"
  },
  {
    "objectID": "create_first_quarto_doc.html",
    "href": "create_first_quarto_doc.html",
    "title": "6¬† üìò Getting started with Quarto",
    "section": "",
    "text": "Please review the following sections for instructions on installation steps:\n\nDownloading Quarto (Section¬†A.3)\nInstalling the rmarkdown package\n\n\n\n\n\nLearn how to use Quarto"
  },
  {
    "objectID": "create_first_quarto_doc.html#create-a-new-quarto-document",
    "href": "create_first_quarto_doc.html#create-a-new-quarto-document",
    "title": "6¬† üìò Getting started with Quarto",
    "section": "6.2 Create a new Quarto document",
    "text": "6.2 Create a new Quarto document\nWhile it makes sense to use Quarto going forward, there are still a lot of resources written for and in R Markdown. For this reason we provide the R Markdown equivalents for this section in Appendix.\nIn RStudio, you can create a new Quarto document by selecting File > New File > Quarto Document‚Ä¶\n\nWhen you create a new Quarto document, RStudio tries to be helpful by allowing you to select a template which explains the different section of an R Markdown script. R Studio will enable you select options to pick from to generate a template Quarto document to start from.\nThe title and the author names are not important. If the output document type you want is not one of these, do not worry - you can just pick any one and change it later.\nLet us select HTML to create an html document.\nClick on create to open up a new Quarto (.Qmd) document."
  },
  {
    "objectID": "create_first_quarto_doc.html#visual-editor",
    "href": "create_first_quarto_doc.html#visual-editor",
    "title": "6¬† üìò Getting started with Quarto",
    "section": "6.3 Visual Editor",
    "text": "6.3 Visual Editor\nThe RStudio Visual Editor is quite new and has features that improve your writing experience. Working in the Visual Editor feels a bit like working in a Google Doc.\nHere‚Äôs an example showing the same file in the original Source Editor with content in markdown format and in the Visual Editor with content that looks more like it will appear in a live site. You can switch freely between these modes."
  },
  {
    "objectID": "create_first_quarto_doc.html#quarto-document-structure",
    "href": "create_first_quarto_doc.html#quarto-document-structure",
    "title": "6¬† üìò Getting started with Quarto",
    "section": "6.4 Quarto document structure",
    "text": "6.4 Quarto document structure\nAn R Markdown document can be edited in RStudio.\nThere are three basic components to a Quarto document, similar to the components of a R Markdown document:\n\nmetadata (YAML header)\ntext (markdown formatting)\ncode (R code formatting)\n\n\n\nYAML headerTextCode chunks\n\n\nThe very top of the document consists of a (YAML) header surrounded by ‚Äî lines. Here you may want to edit the title of your document. The other settings in the header define the default document type produced (Microsoft Word) when the RMarkdown is ‚Äúknit‚Äù. the information intended to produce an html output.\n\n\nIn WHITE background areas, any text will appear as regular text in the final report. Can have formatting such as headings, italics, bold, numbers, and bullets. See the second page of this RMarkdown cheatsheet for more detail. Can display parameters derived from your data via in-line code (such as epi week of the outbreak peak, as in the example above).\n\n\nIn gray background ‚Äúcode chunks‚Äù, RMarkdown is running R commands. These commands perform data processing and cleaning steps, or could produce visual outputs in the document."
  },
  {
    "objectID": "create_first_quarto_doc.html#quarto-render",
    "href": "create_first_quarto_doc.html#quarto-render",
    "title": "6¬† üìò Getting started with Quarto",
    "section": "6.5 Quarto render",
    "text": "6.5 Quarto render\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code.\n ## Code options\nYou can embed code like this:\n\n1 + 1\n\n[1] 2\n\n\nYou can add options to executable code like this\n\n\n[1] 4\n\n\nThe echo: false option disables the printing of code (only output is displayed)."
  },
  {
    "objectID": "create_first_quarto_doc.html#references",
    "href": "create_first_quarto_doc.html#references",
    "title": "6¬† üìò Getting started with Quarto",
    "section": "6.6 References",
    "text": "6.6 References\n\nThe Epidemiologist R Handbook (https://epirhandbook.com)"
  },
  {
    "objectID": "version_control_with_git2.html",
    "href": "version_control_with_git2.html",
    "title": "7¬† üìò Commit your changes with Git",
    "section": "",
    "text": "Version control uses a working copy where you do your work.\n\n\n\n\n\n\nNote\n\n\n\nYou can update your working copy to incorporate any new edits or versions that have been added to the repository since the last time you updated.\n\n\nYou make arbitrary edits to this copy, without affecting your teammates. When you are happy with your edits, you commit your changes to a repository.\nSnapshot of your entire repository at a specific time.\nOver time, commits should tell a story of the history of your repository and how it came to be the way that it currently is.\nCommits include lots of metadata in addition to the contents and message, like the author, timestamp, and more.\nIt also requires that you write something human-readable that will be a breadcrumb for you in the future. be easy to compare versions, and you can easily revert to previous versions."
  },
  {
    "objectID": "version_control_with_git2.html#push-and-pull",
    "href": "version_control_with_git2.html#push-and-pull",
    "title": "7¬† üìò Commit your changes with Git",
    "section": "7.2 Push and Pull",
    "text": "7.2 Push and Pull"
  },
  {
    "objectID": "use_stata_python_with_quarto.html",
    "href": "use_stata_python_with_quarto.html",
    "title": "8¬† üìò Code chunks",
    "section": "",
    "text": "As the number of programming languages used for scientific discourse is very broad, Quarto was developed to be multilingual, beginning with R, Python, Javascript, and Julia. building on the RStudio (R) and Jupyter (Python, Julia) ecosystems which are very popular.\nIn this section, we will see how to use and mix R, Stata and Python within Quarto so that you can make the most out of it."
  },
  {
    "objectID": "use_stata_python_with_quarto.html#create-code-chunks",
    "href": "use_stata_python_with_quarto.html#create-code-chunks",
    "title": "8¬† üìò Code chunks",
    "section": "8.2 Create code chunks",
    "text": "8.2 Create code chunks\n\n\n\n\n\n\nTip\n\n\n\n\nUse backticks\nClick on icon\nKeyboard shortcut Ctrl + Alt + I"
  },
  {
    "objectID": "use_stata_python_with_quarto.html#r-code-chunks",
    "href": "use_stata_python_with_quarto.html#r-code-chunks",
    "title": "8¬† üìò Code chunks",
    "section": "8.3 R code chunks",
    "text": "8.3 R code chunks\n\n\n\n\n\n\nNote\n\n\n\nA data frame is a two-dimensional array-like structure that contains rows and columns.\n\n\nTo store the content of the iris data set in data frame df, you can use = (equal) but good practice recommend using <- (back arrow) to indicate the direction of your allocation.\n\n```{r}\ndf <- iris\n```\n\nHow to display data\n\n```{r}\n#| df-print: kable\nlibrary(dplyr)\nknitr::kable(head(df, 10))\n```\n\n\n\n\nSepal.Length\nSepal.Width\nPetal.Length\nPetal.Width\nSpecies\n\n\n\n\n5.1\n3.5\n1.4\n0.2\nsetosa\n\n\n4.9\n3.0\n1.4\n0.2\nsetosa\n\n\n4.7\n3.2\n1.3\n0.2\nsetosa\n\n\n4.6\n3.1\n1.5\n0.2\nsetosa\n\n\n5.0\n3.6\n1.4\n0.2\nsetosa\n\n\n5.4\n3.9\n1.7\n0.4\nsetosa\n\n\n4.6\n3.4\n1.4\n0.3\nsetosa\n\n\n5.0\n3.4\n1.5\n0.2\nsetosa\n\n\n4.4\n2.9\n1.4\n0.2\nsetosa\n\n\n4.9\n3.1\n1.5\n0.1\nsetosa\n\n\n\n\n\nThe pipe operator\n\n```{r}\n#| df-print: kable\nlibrary(dplyr)\ndf %>%\n  head(10) %>%\n  knitr::kable()\n```\n\n\n\n\nSepal.Length\nSepal.Width\nPetal.Length\nPetal.Width\nSpecies\n\n\n\n\n5.1\n3.5\n1.4\n0.2\nsetosa\n\n\n4.9\n3.0\n1.4\n0.2\nsetosa\n\n\n4.7\n3.2\n1.3\n0.2\nsetosa\n\n\n4.6\n3.1\n1.5\n0.2\nsetosa\n\n\n5.0\n3.6\n1.4\n0.2\nsetosa\n\n\n5.4\n3.9\n1.7\n0.4\nsetosa\n\n\n4.6\n3.4\n1.4\n0.3\nsetosa\n\n\n5.0\n3.4\n1.5\n0.2\nsetosa\n\n\n4.4\n2.9\n1.4\n0.2\nsetosa\n\n\n4.9\n3.1\n1.5\n0.1\nsetosa\n\n\n\n\n\nYou can cross-reference your table Table¬†8.1\n\n```{r}\n#| label: tbl-iris\n#| tbl-cap: Iris data set\n#| df-print: kable\ndf %>% \n  knitr::kable()\n```\n\n\n\nTable¬†8.1: Iris data set\n\n\nSepal.Length\nSepal.Width\nPetal.Length\nPetal.Width\nSpecies\n\n\n\n\n5.1\n3.5\n1.4\n0.2\nsetosa\n\n\n4.9\n3.0\n1.4\n0.2\nsetosa\n\n\n4.7\n3.2\n1.3\n0.2\nsetosa\n\n\n4.6\n3.1\n1.5\n0.2\nsetosa\n\n\n5.0\n3.6\n1.4\n0.2\nsetosa\n\n\n5.4\n3.9\n1.7\n0.4\nsetosa\n\n\n4.6\n3.4\n1.4\n0.3\nsetosa\n\n\n5.0\n3.4\n1.5\n0.2\nsetosa\n\n\n4.4\n2.9\n1.4\n0.2\nsetosa\n\n\n4.9\n3.1\n1.5\n0.1\nsetosa\n\n\n5.4\n3.7\n1.5\n0.2\nsetosa\n\n\n4.8\n3.4\n1.6\n0.2\nsetosa\n\n\n4.8\n3.0\n1.4\n0.1\nsetosa\n\n\n4.3\n3.0\n1.1\n0.1\nsetosa\n\n\n5.8\n4.0\n1.2\n0.2\nsetosa\n\n\n5.7\n4.4\n1.5\n0.4\nsetosa\n\n\n5.4\n3.9\n1.3\n0.4\nsetosa\n\n\n5.1\n3.5\n1.4\n0.3\nsetosa\n\n\n5.7\n3.8\n1.7\n0.3\nsetosa\n\n\n5.1\n3.8\n1.5\n0.3\nsetosa\n\n\n5.4\n3.4\n1.7\n0.2\nsetosa\n\n\n5.1\n3.7\n1.5\n0.4\nsetosa\n\n\n4.6\n3.6\n1.0\n0.2\nsetosa\n\n\n5.1\n3.3\n1.7\n0.5\nsetosa\n\n\n4.8\n3.4\n1.9\n0.2\nsetosa\n\n\n5.0\n3.0\n1.6\n0.2\nsetosa\n\n\n5.0\n3.4\n1.6\n0.4\nsetosa\n\n\n5.2\n3.5\n1.5\n0.2\nsetosa\n\n\n5.2\n3.4\n1.4\n0.2\nsetosa\n\n\n4.7\n3.2\n1.6\n0.2\nsetosa\n\n\n4.8\n3.1\n1.6\n0.2\nsetosa\n\n\n5.4\n3.4\n1.5\n0.4\nsetosa\n\n\n5.2\n4.1\n1.5\n0.1\nsetosa\n\n\n5.5\n4.2\n1.4\n0.2\nsetosa\n\n\n4.9\n3.1\n1.5\n0.2\nsetosa\n\n\n5.0\n3.2\n1.2\n0.2\nsetosa\n\n\n5.5\n3.5\n1.3\n0.2\nsetosa\n\n\n4.9\n3.6\n1.4\n0.1\nsetosa\n\n\n4.4\n3.0\n1.3\n0.2\nsetosa\n\n\n5.1\n3.4\n1.5\n0.2\nsetosa\n\n\n5.0\n3.5\n1.3\n0.3\nsetosa\n\n\n4.5\n2.3\n1.3\n0.3\nsetosa\n\n\n4.4\n3.2\n1.3\n0.2\nsetosa\n\n\n5.0\n3.5\n1.6\n0.6\nsetosa\n\n\n5.1\n3.8\n1.9\n0.4\nsetosa\n\n\n4.8\n3.0\n1.4\n0.3\nsetosa\n\n\n5.1\n3.8\n1.6\n0.2\nsetosa\n\n\n4.6\n3.2\n1.4\n0.2\nsetosa\n\n\n5.3\n3.7\n1.5\n0.2\nsetosa\n\n\n5.0\n3.3\n1.4\n0.2\nsetosa\n\n\n7.0\n3.2\n4.7\n1.4\nversicolor\n\n\n6.4\n3.2\n4.5\n1.5\nversicolor\n\n\n6.9\n3.1\n4.9\n1.5\nversicolor\n\n\n5.5\n2.3\n4.0\n1.3\nversicolor\n\n\n6.5\n2.8\n4.6\n1.5\nversicolor\n\n\n5.7\n2.8\n4.5\n1.3\nversicolor\n\n\n6.3\n3.3\n4.7\n1.6\nversicolor\n\n\n4.9\n2.4\n3.3\n1.0\nversicolor\n\n\n6.6\n2.9\n4.6\n1.3\nversicolor\n\n\n5.2\n2.7\n3.9\n1.4\nversicolor\n\n\n5.0\n2.0\n3.5\n1.0\nversicolor\n\n\n5.9\n3.0\n4.2\n1.5\nversicolor\n\n\n6.0\n2.2\n4.0\n1.0\nversicolor\n\n\n6.1\n2.9\n4.7\n1.4\nversicolor\n\n\n5.6\n2.9\n3.6\n1.3\nversicolor\n\n\n6.7\n3.1\n4.4\n1.4\nversicolor\n\n\n5.6\n3.0\n4.5\n1.5\nversicolor\n\n\n5.8\n2.7\n4.1\n1.0\nversicolor\n\n\n6.2\n2.2\n4.5\n1.5\nversicolor\n\n\n5.6\n2.5\n3.9\n1.1\nversicolor\n\n\n5.9\n3.2\n4.8\n1.8\nversicolor\n\n\n6.1\n2.8\n4.0\n1.3\nversicolor\n\n\n6.3\n2.5\n4.9\n1.5\nversicolor\n\n\n6.1\n2.8\n4.7\n1.2\nversicolor\n\n\n6.4\n2.9\n4.3\n1.3\nversicolor\n\n\n6.6\n3.0\n4.4\n1.4\nversicolor\n\n\n6.8\n2.8\n4.8\n1.4\nversicolor\n\n\n6.7\n3.0\n5.0\n1.7\nversicolor\n\n\n6.0\n2.9\n4.5\n1.5\nversicolor\n\n\n5.7\n2.6\n3.5\n1.0\nversicolor\n\n\n5.5\n2.4\n3.8\n1.1\nversicolor\n\n\n5.5\n2.4\n3.7\n1.0\nversicolor\n\n\n5.8\n2.7\n3.9\n1.2\nversicolor\n\n\n6.0\n2.7\n5.1\n1.6\nversicolor\n\n\n5.4\n3.0\n4.5\n1.5\nversicolor\n\n\n6.0\n3.4\n4.5\n1.6\nversicolor\n\n\n6.7\n3.1\n4.7\n1.5\nversicolor\n\n\n6.3\n2.3\n4.4\n1.3\nversicolor\n\n\n5.6\n3.0\n4.1\n1.3\nversicolor\n\n\n5.5\n2.5\n4.0\n1.3\nversicolor\n\n\n5.5\n2.6\n4.4\n1.2\nversicolor\n\n\n6.1\n3.0\n4.6\n1.4\nversicolor\n\n\n5.8\n2.6\n4.0\n1.2\nversicolor\n\n\n5.0\n2.3\n3.3\n1.0\nversicolor\n\n\n5.6\n2.7\n4.2\n1.3\nversicolor\n\n\n5.7\n3.0\n4.2\n1.2\nversicolor\n\n\n5.7\n2.9\n4.2\n1.3\nversicolor\n\n\n6.2\n2.9\n4.3\n1.3\nversicolor\n\n\n5.1\n2.5\n3.0\n1.1\nversicolor\n\n\n5.7\n2.8\n4.1\n1.3\nversicolor\n\n\n6.3\n3.3\n6.0\n2.5\nvirginica\n\n\n5.8\n2.7\n5.1\n1.9\nvirginica\n\n\n7.1\n3.0\n5.9\n2.1\nvirginica\n\n\n6.3\n2.9\n5.6\n1.8\nvirginica\n\n\n6.5\n3.0\n5.8\n2.2\nvirginica\n\n\n7.6\n3.0\n6.6\n2.1\nvirginica\n\n\n4.9\n2.5\n4.5\n1.7\nvirginica\n\n\n7.3\n2.9\n6.3\n1.8\nvirginica\n\n\n6.7\n2.5\n5.8\n1.8\nvirginica\n\n\n7.2\n3.6\n6.1\n2.5\nvirginica\n\n\n6.5\n3.2\n5.1\n2.0\nvirginica\n\n\n6.4\n2.7\n5.3\n1.9\nvirginica\n\n\n6.8\n3.0\n5.5\n2.1\nvirginica\n\n\n5.7\n2.5\n5.0\n2.0\nvirginica\n\n\n5.8\n2.8\n5.1\n2.4\nvirginica\n\n\n6.4\n3.2\n5.3\n2.3\nvirginica\n\n\n6.5\n3.0\n5.5\n1.8\nvirginica\n\n\n7.7\n3.8\n6.7\n2.2\nvirginica\n\n\n7.7\n2.6\n6.9\n2.3\nvirginica\n\n\n6.0\n2.2\n5.0\n1.5\nvirginica\n\n\n6.9\n3.2\n5.7\n2.3\nvirginica\n\n\n5.6\n2.8\n4.9\n2.0\nvirginica\n\n\n7.7\n2.8\n6.7\n2.0\nvirginica\n\n\n6.3\n2.7\n4.9\n1.8\nvirginica\n\n\n6.7\n3.3\n5.7\n2.1\nvirginica\n\n\n7.2\n3.2\n6.0\n1.8\nvirginica\n\n\n6.2\n2.8\n4.8\n1.8\nvirginica\n\n\n6.1\n3.0\n4.9\n1.8\nvirginica\n\n\n6.4\n2.8\n5.6\n2.1\nvirginica\n\n\n7.2\n3.0\n5.8\n1.6\nvirginica\n\n\n7.4\n2.8\n6.1\n1.9\nvirginica\n\n\n7.9\n3.8\n6.4\n2.0\nvirginica\n\n\n6.4\n2.8\n5.6\n2.2\nvirginica\n\n\n6.3\n2.8\n5.1\n1.5\nvirginica\n\n\n6.1\n2.6\n5.6\n1.4\nvirginica\n\n\n7.7\n3.0\n6.1\n2.3\nvirginica\n\n\n6.3\n3.4\n5.6\n2.4\nvirginica\n\n\n6.4\n3.1\n5.5\n1.8\nvirginica\n\n\n6.0\n3.0\n4.8\n1.8\nvirginica\n\n\n6.9\n3.1\n5.4\n2.1\nvirginica\n\n\n6.7\n3.1\n5.6\n2.4\nvirginica\n\n\n6.9\n3.1\n5.1\n2.3\nvirginica\n\n\n5.8\n2.7\n5.1\n1.9\nvirginica\n\n\n6.8\n3.2\n5.9\n2.3\nvirginica\n\n\n6.7\n3.3\n5.7\n2.5\nvirginica\n\n\n6.7\n3.0\n5.2\n2.3\nvirginica\n\n\n6.3\n2.5\n5.0\n1.9\nvirginica\n\n\n6.5\n3.0\n5.2\n2.0\nvirginica\n\n\n6.2\n3.4\n5.4\n2.3\nvirginica\n\n\n5.9\n3.0\n5.1\n1.8\nvirginica"
  },
  {
    "objectID": "use_stata_python_with_quarto.html#execute-stata-commands-within-r-code-chunks",
    "href": "use_stata_python_with_quarto.html#execute-stata-commands-within-r-code-chunks",
    "title": "8¬† üìò Code chunks",
    "section": "8.4 Execute Stata commands within R code chunks",
    "text": "8.4 Execute Stata commands within R code chunks\nStata is not a language supported by Quarto. To use Stata within Quarto, you have to use the RStata R package, which is a simple R / Stata interface that enables you to:\n\nexecute Stata commands (inline or from a .do file) from R;\npass a data frame to Stata;\nreturn Stata outputs (including modified data frames) to R.\n\n\n```{r}\nif ( !require(RStata) ) {\n  install.packages('RStata')\n}\nlibrary(RStata)\n```\n\n\n8.4.1 Configure RStudio to execute Stata\n\n8.4.1.1 Find your Stata binary path\nThe function chooseStataBin from the RStata library allows you to browse and set the path to your Stata binary executable.\n```{r}\nstata_bin_path <- RStata::chooseStataBin()\nprint(stata_bin_path)\n```\nWhen you run this code, you should normally get a path which is of the format: ‚Äú\"C:\\Program Files\\Stata16\\StataIC-64\"‚Äù. Note that the .exe extension has been removed from this path. It is important that you keep the format as is, as otherwise your Stata engine will not be recognised.\n\n\n8.4.1.2 Add your Stata binary path to your .Rprofile\nThe Stata binary path setting we just created is just for your current RStudio session and it will be lost once your RStudio is closed. To keep this setting each time you are using RStudio and avoid havin to reconfigure RStata each time you are restarting RStudio, let us add the Stata binary path as an option to .Rprofile, which is your user-specific R configuration file.\n\nlibrary(usethis)\n\nUsethis is a workflow package: it automates repetitive tasks that arise during project setup and development, both for R packages and non-package projects.\nThe function edit_r_profile from the usethis library allows to open your configuration file .Rprofile.\n```{r}\nusethis::edit_r_profile(\"user\")\n```\nAdd the following two lines in the Rprofile file that you have just opened:\n\noptions(‚ÄúRStata.StataPath‚Äù = ‚Ä¶)\noptions(‚ÄúRStata.StataVersion‚Äù = ‚Ä¶)\n\nYou need to indicate the path to your Stata binary executable in the RStata.StataPath option (e.g., ‚Äú\"C:\\Program Files\\Stata16\\StataIC-64\"‚Äù) and the version of your Stata (e.g., 16) in the RStata.StataVersion option.\nafter indicating the path and version your code should look as specified below\n\noptions(‚ÄúRStata.StataPath‚Äù = ‚Äú\"C:\\Program Files (x86)\\Stata15\\Stata-64\"‚Äù)\noptions(‚ÄúRStata.StataVersion‚Äù = 15)\n\nOnce you are done, save and close your .Rprofile."
  },
  {
    "objectID": "use_stata_python_with_quarto.html#python-code-chunks",
    "href": "use_stata_python_with_quarto.html#python-code-chunks",
    "title": "8¬† üìò Code chunks",
    "section": "8.5 Python code chunks",
    "text": "8.5 Python code chunks\n\n\n\n\n\n\nWarning\n\n\n\nThis section is for (advanced) Python/R Markdown users only\n\n\nYou still need to import the R package reticulate if you want to use the Knitr engine and manipulate Python objects within R code chunks.\n\n```{r}\nlibrary(reticulate)\n```\n\n\n8.5.1 Call R objects in Python code chunks\nR objects can be manipulated in Python code chunks by referring to them as r.\n\n```{r}\nval <- 10\n```\n\n\n```{python}\nval = 5\nprint(r.val)\n```\n\n10.0\n\n\n\n\n8.5.2 Call Python objects in R code chunks\nPython objects can be manipulated in R code chunks by referring to them as py$\n\n```{r}\nprint(val)\nprint(py$val)\n```\n\n[1] 10\n[1] 5"
  },
  {
    "objectID": "version_control_with_git3.html",
    "href": "version_control_with_git3.html",
    "title": "9¬† üìò Project history with Git",
    "section": "",
    "text": "The version control capabilities of Git permit us to keep track of changes we make to our code. We can also revert back to previous versions of files. Git also permits us to create branches in which we can test out ideas, then decide if we merge the new branch with the original.\nIn the simplest case, the database contains a linear history: each change is made after the previous one., but you can have a more complex history. We will see this later."
  },
  {
    "objectID": "import_data.html",
    "href": "import_data.html",
    "title": "10¬† üìò Import external data",
    "section": "",
    "text": "Most of the time you will want to generate Quarto documents using your own data. To this aim, you will have to import data from external sources such as files, URLs, or server data (e.g., ODK Central data). There is a dedicated importing function in R and Python for almost every data format. In this section we show you how to import Stata (.dta), Excel (.xlsx) and comma-separated values (CSV, .csv) data formats from files and from URLs, as well as how to import ODK data directly from an ODK Central server.\n\n\n\n\n\n\nImportant\n\n\n\nAs you import data to further process / analyse them, you have to store the imported data in a data frame."
  },
  {
    "objectID": "import_data.html#sec-import-data-from-files",
    "href": "import_data.html#sec-import-data-from-files",
    "title": "10¬† üìò Import external data",
    "section": "10.2 Import data from files",
    "text": "10.2 Import data from files\nAll Python and R functions only require as input the path where the file you want to import is stored. This path has to be passed as a sequence of characters (character) within double (‚Äú‚Äú) or single (‚Äô‚Äô) quotes.\nThe path can be either:\n\nrelative to your Quarto document\n\n\n```{r}\nrelative_path <- \"./data/mydata.csv\"\n```\n\n\nabsolute\n\n\n```{r}\nabsolute_path <- \"C:/Users/myuser/Documents/mydata.csv\"\n```\n\nFunctions in general have additional optional arguments.\n\n10.2.1 Import Excel data\n\n‚úèÔ∏è Exercise 1StataRPython\n\n\nImport the Excel data set dataset1.xlsx and store it into a data frame called df1.\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the import excel Stata command with the stata function from the RStata package.\nR: use the read.xlsx function from the openxlsx package.\nPython: use the read_excel function from the pandas package.\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\nUse the import excel Stata command with the stata function from the RStata package.\n\n```{r}\n#| df-print: kable\nlibrary(RStata)\n\ndf1_stata <- RStata::stata(\"import excel ./data/dataset1a.xlsx\",\n                     data.out = TRUE)\ndf1_stata_sub <- head(df1_stata, 5)\nknitr::kable(df1_stata_sub)\n```\n\n. import excel ./data/dataset1a.xlsx\n(7 vars, 10,309 obs)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nA\nB\nC\nD\nE\nF\nG\n\n\n\n\nchild_ID\nSDC_sex\nSDC_age_in_months\nCLIN_fever\nCLIN_fever_onset\nCLIN_cough\nCLIN_diarrhoea\n\n\n1\n2\n10\n0\n\n1\n1\n\n\n2\n2\n6\n0\n\n0\n1\n\n\n3\n1\n6\n0\n\n0\n0\n\n\n4\n1\n11\n1\n3\n1\n1\n\n\n\n\n\n\n\nUse the read.xlsx function from the openxlsx package.\n\n```{r}\nlibrary(openxlsx)\n\ndf1_r <- openxlsx::read.xlsx(\"./data/dataset1a.xlsx\")\ndf1_r_sub <- head(df1_r, 5)\nknitr::kable(df1_r_sub)\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\nchild_ID\nSDC_sex\nSDC_age_in_months\nCLIN_fever\nCLIN_fever_onset\nCLIN_cough\nCLIN_diarrhoea\n\n\n\n\n1\n2\n10\n0\nNA\n1\n1\n\n\n2\n2\n6\n0\nNA\n0\n1\n\n\n3\n1\n6\n0\nNA\n0\n0\n\n\n4\n1\n11\n1\n3\n1\n1\n\n\n5\n2\n21\n1\n2\n0\n0\n\n\n\n\n\n\n\nUse the read_excel function from the pandas package.\n\n```{python}\nimport pandas\n\ndf1_python = pandas.read_excel('./data/dataset1a.xlsx')\ndf1_python_sub = df1_python.head(5)\n```\n\n\nlibrary(reticulate)\n\nWarning: Paket 'reticulate' wurde unter R Version 4.1.3 erstellt\n\nknitr::kable(py$df1_python_sub)\n\n\n\n\n\n\n\n\n\n\n\n\n\nchild_ID\nSDC_sex\nSDC_age_in_months\nCLIN_fever\nCLIN_fever_onset\nCLIN_cough\nCLIN_diarrhoea\n\n\n\n\n1\n2\n10\n0\nNaN\n1\n1\n\n\n2\n2\n6\n0\nNaN\n0\n1\n\n\n3\n1\n6\n0\nNaN\n0\n0\n\n\n4\n1\n11\n1\n3\n1\n1\n\n\n5\n2\n21\n1\n2\n0\n0\n\n\n\n\n\n\n\n\n\n\n10.2.2 Import CSV data\n\n‚úèÔ∏è Exercise 2StataRPython\n\n\nRead the CSV data set dataset1.csv and store it into a data frame called df2.\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the import delimited Stata command with the stata function from the RStata package.\nR: use the read.csv function from the haven package.\nPython: use the read_csv function from the pandas package.\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\nlibrary(RStata)\n\ndf2 <- RStata::stata(\"import delimited ./data/dataset1b.csv\",\n                     data.out = TRUE)\n```\n\n. import delimited ./data/dataset1b.csv\n(7 vars, 10,308 obs)\n\n\n\n\n\n```{r}\ndf2_r <- read.csv(\"./data/dataset1b.csv\")\ndf2_r_sub <- head(df2_r, 5)\nknitr::kable(df2_r_sub)\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\nchild_ID\nSDC_sex\nSDC_age_in_months\nCLIN_fever\nCLIN_fever_onset\nCLIN_cough\nCLIN_diarrhoea\n\n\n\n\n1\n2\n10\n0\nNA\n1\n1\n\n\n2\n2\n6\n0\nNA\n0\n1\n\n\n3\n1\n6\n0\nNA\n0\n0\n\n\n4\n1\n11\n1\n3\n1\n1\n\n\n5\n2\n21\n1\n2\n0\n0\n\n\n\n\n\n\n\nUse the read_csv function from the pandas package.\n\n```{python}\nimport pandas\n\ndf2 = pandas.read_csv('./data/dataset1b.csv')\n```\n\n\n\n\n\n\n10.2.3 Import Stata data\n\n‚úèÔ∏è Exercise 3StataRPython\n\n\nRead the Stata data set dataset1.dta and store it into a data frame called df3.\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the use Stata command with the stata function from the RStata package.\nR: use the read_dta function from the haven package. This package supports SAS, STATA and SPSS software.\nPython: use the read_stata function from the pandas package.\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\nlibrary(RStata)\n\ndf3 <- RStata::stata(\"use ./data/dataset1c.dta\",\n                     data.out = TRUE)\n```\n\n. use ./data/dataset1c.dta\n\n\n\n\n\n```{r}\nlibrary(haven)\n\ndf3 <- haven::read_dta(\"./data/dataset1c.dta\")\n```\n\n\n\nUse the read_stata function from the pandas package.\n\n```{python}\nimport pandas\n\ndf3 = pandas.read_stata('./data/dataset1c.dta')\n```"
  },
  {
    "objectID": "import_data.html#import-data-from-urls",
    "href": "import_data.html#import-data-from-urls",
    "title": "10¬† üìò Import external data",
    "section": "10.3 Import data from URLs",
    "text": "10.3 Import data from URLs\nAll functions can accept URLs as well instead of the path to a specific file.\n\n‚úèÔ∏è Exercise 4StataRPython\n\n\nImport the CSV data set that contains a comprehensive spatial inventory of 98,745 public health facilities in Sub Saharan Africa directly from the following url and store it into a data frame called df4.\nTo learn more about how this data set was assembled, please refer to (1)\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the import excel Stata command with the stata function from the RStata package.\nR: use the read.xlsx function from the openxlsx package.\nPython: use the read_excel function from the pandas package. In the latest version of pandas (0.19.2) you can directly pass the url\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\nHere, because quotes are already used for the Stata command, you need to use the other type of quotes for indicating the URL.\n\n```{r}\nlibrary(RStata)\n\ndf2 <- RStata::stata('import delimited \"https://open.africa/dataset/d7335980-29d5-476c-bf7a-feb4e22cf631/resource/e2432e8a-cf15-4a8b-b8c3-567f443c1459/download/cfa-data-hospitals-in-africa-00-ssa-mfl-130219.xlsx-ssa-mfl.csv\"',\n                     data.out = TRUE)\n```\n\n. import delimited \"https://open.africa/dataset/d7335980-29d5-476c-bf7a-feb4e22\n> cf631/resource/e2432e8a-cf15-4a8b-b8c3-567f443c1459/download/cfa-data-hospita\n> ls-in-africa-00-ssa-mfl-130219.xlsx-ssa-mfl.csv\"\n(7 vars, 98,745 obs)\n\n\n\n\nUse the read.xlsx function from the openxlsx package.\n\n```{r}\ncsv_url <- \"https://open.africa/dataset/d7335980-29d5-476c-bf7a-feb4e22cf631/resource/e2432e8a-cf15-4a8b-b8c3-567f443c1459/download/cfa-data-hospitals-in-africa-00-ssa-mfl-130219.xlsx-ssa-mfl.csv\"\ndf4 <- read.csv(csv_url)\n```\n\n\n\nUse the read_excel function from the pandas package.\n\n```{python}\nimport pandas\n\ncsv_url = \"https://open.africa/dataset/d7335980-29d5-476c-bf7a-feb4e22cf631/resource/e2432e8a-cf15-4a8b-b8c3-567f443c1459/download/cfa-data-hospitals-in-africa-00-ssa-mfl-130219.xlsx-ssa-mfl.csv\"\ndf1 = pandas.read_csv(csv_url)\n```\n\n\n\n\n\n\n\n\n1. Maina J, Ouma PO, Macharia PM, Alegana VA, Mitto B, Fall IS, et al. A spatial database of health facilities managed by the public health sector in sub Saharan Africa. Scientific Data [Internet]. 2019 Jul;6(1):134. Available from: https://doi.org/10.1038/s41597-019-0142-2"
  },
  {
    "objectID": "manipulate_data.html",
    "href": "manipulate_data.html",
    "title": "11¬† üìò Manipulate data",
    "section": "",
    "text": "Important\n\n\n\nRemember that with Quarto you can store multiple data sets in memory (stored in different data frames df1, df2, df3, etc) and work in parallel on all these data sets."
  },
  {
    "objectID": "manipulate_data.html#type-of-data",
    "href": "manipulate_data.html#type-of-data",
    "title": "11¬† üìò Manipulate data",
    "section": "11.2 Type of data",
    "text": "11.2 Type of data"
  },
  {
    "objectID": "manipulate_data.html#descriptive-statistics",
    "href": "manipulate_data.html#descriptive-statistics",
    "title": "11¬† üìò Manipulate data",
    "section": "11.3 Descriptive statistics",
    "text": "11.3 Descriptive statistics"
  },
  {
    "objectID": "manipulate_data.html#visualise-data",
    "href": "manipulate_data.html#visualise-data",
    "title": "11¬† üìò Manipulate data",
    "section": "11.4 Visualise data",
    "text": "11.4 Visualise data"
  },
  {
    "objectID": "manipulate_data.html#manipulate-python-and-r-data",
    "href": "manipulate_data.html#manipulate-python-and-r-data",
    "title": "11¬† üìò Manipulate data",
    "section": "11.5 Manipulate Python and R data",
    "text": "11.5 Manipulate Python and R data\n\n‚úèÔ∏è Exercise 1üëÄ Solution\n\n\n\nImport dataset1.xlsx using Stata and store it in df1\n\n\n```{r}\n# Write your code here\n```\n\n\nImport dataset1.csv using Python and store it in df2\n\n\n```{python}\n# Write your code here\n```\n\n\nCompare df1and df2. Can you indicate what variable has been modified in dataset1 between df1 and df2?\n\n\n\n\n\n\n\nTip\n\n\n\nUse the R function comparedf\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\nImport dataset1.xlsx using Stata and store it in df1\n\n\n```{r}\nlibrary(RStata)\ndf1 <- RStata::stata(\"import excel ./data/dataset1a.xlsx\",\n                     data.out = TRUE)\n```\n\n. import excel ./data/dataset1a.xlsx\n(7 vars, 10,309 obs)\n\n\n\nImport dataset1.csv using Python and store it in df2\n\n\n```{python}\nimport pandas as pd\ndf2 = pd.read_csv('./data/dataset1b.csv')\n```\n\n\nCompare df1and df2.\n\n\n```{r}\nlibrary(reticulate)\n```\n\nWarning: Paket 'reticulate' wurde unter R Version 4.1.3 erstellt\n\n```{r}\narsenal::comparedf(df1, py$df2)\n```\n\nCompare Object\n\nFunction Call: \narsenal::comparedf(x = df1, y = py$df2)\n\nShared: 0 non-by variables and 10308 observations.\nNot shared: 14 variables and 1 observations.\n\nDifferences found in 0/0 variables compared.\n0 variables compared have non-identical attributes."
  },
  {
    "objectID": "manipulate_data.html#explore-data",
    "href": "manipulate_data.html#explore-data",
    "title": "11¬† üìò Manipulate data",
    "section": "11.6 Explore data",
    "text": "11.6 Explore data\nPackage dplyr\nPipes are a powerful tool for clearly expressing a sequence of multiple operations. So far, you‚Äôve been using them without knowing how they work, or what the alternatives are. Now, in this chapter, it‚Äôs time to explore the pipe in more detail. You‚Äôll learn the alternatives to the pipe, when you shouldn‚Äôt use the pipe, and some useful related tools."
  },
  {
    "objectID": "manipulate_data.html#descriptive-summaries",
    "href": "manipulate_data.html#descriptive-summaries",
    "title": "11¬† üìò Manipulate data",
    "section": "11.7 Descriptive summaries",
    "text": "11.7 Descriptive summaries\nPackages skimrand gtsummary\n```{r}\ninstall.packages(\"skimr\")\n```\n```{r}\ninstall.packages(\"gtsummary\")\n```"
  },
  {
    "objectID": "manipulate_data.html#plot",
    "href": "manipulate_data.html#plot",
    "title": "11¬† üìò Manipulate data",
    "section": "11.8 Plot",
    "text": "11.8 Plot\nPackage ggplot2\n```{r}\ninstall.packages(\"ggplot2\")\n```"
  },
  {
    "objectID": "manipulate_data.html#explore-data-1",
    "href": "manipulate_data.html#explore-data-1",
    "title": "11¬† üìò Manipulate data",
    "section": "11.9 Explore data",
    "text": "11.9 Explore data\nPackage DataExplorer\n```{r}\ninstall.packages(\"DataExplorer\")\n```\n\nDataExplorer::plot_missing(df1)"
  },
  {
    "objectID": "share_and_collaborate_with_git.html#sharing-your-code-with-git",
    "href": "share_and_collaborate_with_git.html#sharing-your-code-with-git",
    "title": "12¬† üìò Share code and collaborate with Git",
    "section": "12.2 Sharing your code with Git",
    "text": "12.2 Sharing your code with Git\nEven if we do not take advantage of the advanced and powerful version control functionality, we can still use Git and GitHub to share our code."
  },
  {
    "objectID": "share_and_collaborate_with_git.html#access-a-remote-github-repository",
    "href": "share_and_collaborate_with_git.html#access-a-remote-github-repository",
    "title": "12¬† üìò Share code and collaborate with Git",
    "section": "12.3 Access a remote GitHub repository",
    "text": "12.3 Access a remote GitHub repository"
  },
  {
    "objectID": "share_and_collaborate_with_git.html#collaborating-with-git",
    "href": "share_and_collaborate_with_git.html#collaborating-with-git",
    "title": "12¬† üìò Share code and collaborate with Git",
    "section": "12.4 Collaborating with Git",
    "text": "12.4 Collaborating with Git\nOnce you set up a central repository, you can have multiple people make changes to code and keep versions synced. GitHub provides a free service for centralized repositories. GitHub also has a special utility, called a pull request, that can be used by anybody to suggest changes to your code. You can easily either accept or deny the request."
  },
  {
    "objectID": "data_science_for_public_health.html#data-science",
    "href": "data_science_for_public_health.html#data-science",
    "title": "13¬† üìö Data Science for Public Health",
    "section": "13.2 Data Science",
    "text": "13.2 Data Science\n\nActivity 1 ‚ùìQuote 1 üí¨Quote 2 üí¨Quote 1\n\n\nüïí 3 minutes: You have probably already heard about data science as this is a main Data Science is today one of the main buzzwords, but what does Data Science mean for you?\n\n\nThe statistics profession faces a choice in its future research between continuing concentration on traditional topics ‚Äì based largely on data analysis supported by mathematical statistics ‚Äì and a broader viewpoint ‚Äì based on an inclusive concept of learning from data. The latter course present severe challenges as well as exciting opportunities. The former risks seeing statistics become increasingly marginal‚Ä¶ (1)\nJohn Chambers (PhD in Statistics) is the creator of the S programming language, and a core member of the R programming language project.\n\n\nData science is the science of learning from data; it studies the methods involved in the analysis and processing of data and proposes technology to improve methods in an evidence-based manner. The scope and impact of this science will expand enormously in coming decades as scientific data and data about science itself become ubiquitously available. (2).\nDavid Donoho is a Professor of Statistics at Stanford University.\n\n\n\nGrowing field with computational power and data generation\nSet of collective evidence-based processes, theories, concepts, tools and technologies\nExtraction of valuable knowledge and information from data (learning from data)\n\n\n\n\nQualitative thinking currently does not receive nearly as much attention as quantitative thinking in data science.\n\nDiscussion üí¨From literature\n\n\nWhat does Data Science mean for you?\n\n\n\nHad you thought of any of those words? Word cloud generated by MonkeyLearn from (3)\n\n\n\n\n\n13.2.1 Where do you see yourself on this Venn diagram"
  },
  {
    "objectID": "data_science_for_public_health.html#what-do-experts-say-about-data-science",
    "href": "data_science_for_public_health.html#what-do-experts-say-about-data-science",
    "title": "13¬† üìö Data Science for Public Health",
    "section": "13.3 What do experts say about Data Science?",
    "text": "13.3 What do experts say about Data Science?\nThe statistics profession faces a choice in its future research between continuing concentration on traditional topics ‚Äì based largely on data analysis supported by mathematical statistics ‚Äì and a broader viewpoint ‚Äì based on an inclusive concept of learning from data. The latter course present severe challenges as well as exciting opportunities. The former risks seeing statistics become increasingly marginal‚Ä¶ John Chambers1 (1)\n‚ÄúData science is the science of learning from data; it studies the methods involved in the analysis and processing of data and proposes technology to improve methods in an evidence-based manner. The scope and impact of this science will expand enormously in coming decades as scientific data and data about science itself become ubiquitously available. David Donoho2 (2).\nPublic health data science is the study of formulating and rigorously answering questions in order to advance health and well-being using a data-centric process that emphasizes clarity, reproducibility, effective communication, and ethical practices. [‚Ä¶] Data science implies a perspective that is shaped by [‚Ä¶] interdisciplinary work. Goldsmith J, Sun Y, Fried LP, Wing J, Miller GW and Berhane K (2021) The Emergence and Future of Public Health Data Science. Public Health Rev 42:1604023."
  },
  {
    "objectID": "data_science_for_public_health.html#a-tentative-definition",
    "href": "data_science_for_public_health.html#a-tentative-definition",
    "title": "13¬† üìö Data Science for Public Health",
    "section": "13.4 A tentative definition",
    "text": "13.4 A tentative definition\nNIH defines data science as ‚Äúthe interdisciplinary field of inquiry in which quantitative and analytical approaches, processes, and systems are developed and used to extract knowledge and insights from increasingly large and/or complex sets of data‚Äù\nIn this book, we define data science as\nData science is an interdisciplinary collaborative field that tries to answer rigorously formulated public health questions by relying on a set of collective evidence-based processes, theories, concepts, tools and technologies that enable the extraction of valuable knowledge and information from data to generate actionable insights that effectively communicated to decision-makers can advance health and well-being.\n\nInterdisciplinary collaborative field\nRigorous public health question formulation\nSet of collective evidence-based processes, theories, concepts, tools and technologies\nExtraction of valuable knowledge and information from data\nGeneration of actionable insights\nEffective communication to decision-makers\n\n\n\n\n\n1. Chambers J. Greater or lesser statistics, a choice for future research. 1993; \n\n\n2. Donoho D. 50 years of data science. Journal of Computational and Graphical Statistics. 2017;26(4):745‚Äì6. \n\n\n3. Goldsmith J, Sun Y, Fried L, Wing J, Miller G, Berhane K. The emergence and future of public health data science. Public Health Reviews [Internet]. 2021;42. Available from: https://www.ssph-journal.org/articles/10.3389/phrs.2021.1604023"
  },
  {
    "objectID": "malaria_case_study_presentation.html",
    "href": "malaria_case_study_presentation.html",
    "title": "14¬† üìö Malaria case study",
    "section": "",
    "text": "These pages will demonstrate how to use Quarto to data from Tanzania.\n\n\n\n\nApply what you have learnt on Day 1 on real data"
  },
  {
    "objectID": "malaria_case_study_presentation.html#getting-started",
    "href": "malaria_case_study_presentation.html#getting-started",
    "title": "14¬† üìö Malaria case study",
    "section": "14.2 Getting started",
    "text": "14.2 Getting started\n\n14.2.1 Access the Quarto template\nDownload the Quarto template used for this case study (add link) using GitHub.\nPlease review previous sections on Quarto, data import and manipulation.\n\n\n14.2.2 Install packages\n```{r}\ninstall.packages(\"ggplot2\")\ninstall.packages(\"ggthemes\")\ninstall.packages(\"networkD3\")\ninstall.packages(\"apyramid\")\n```\n\n```{r}\nlibrary(openxlsx)\nlibrary(dplyr)\nlibrary(skimr)\nlibrary(gtsummary)\nlibrary(finalfit)\nlibrary(ggplot2)\nlibrary(ggthemes)\nlibrary(networkD3) # For alluvial/Sankey diagrams\nlibrary(tidyverse)\n```\n\n\n\n14.2.3 Dataset description\nWe will be using data and examples from a real consultation data which occurred in Tanzania between 2021-07-29 and 2021-12-17 within the Integrated Management of Childhood Illness (TIMCI) project.\n\n\n\n\n\n\nImportant\n\n\n\nData are made available by the Ifakara Health Institute (IHI) for training purposes only. Please note, that some data has been adapted in order to best achieve training objectives. No personally indentifiable information have been kept in this dataset.\n\n\nInformation about the consultations of 10,308 children [1 day - 59 months] from 18 facilities (dispensaries and health centres) in Kaliua District, Sengerema District and Tanga District, Tanzania.\n\n\n\n\n\n\n\n(a)\n\n\n\n\n\n\n\n(b)\n\n\n\n\n\n\n\n\n\n(c)\n\n\n\n\n\n\n\n(d)\n\n\n\n\nFigure¬†14.1: Study area\n\n\n\n\n14.2.4 Data collection\nData were collected using ODK (ODK Collect, ODK Central) between 2021-07-29 and 2021-12-17. Research assistants recorded the following information from different sources.\n\nTypes and sources of information\n\n\n\n\n\n\n\nInformation\nPrefix\nSource\n\n\n\n\nContext\nCTX\nMetadata\n\n\nSociodemographics\nSDC\nCaregiver\n\n\nClinical presentation\nCLIN\nCaregiver\n\n\nLaboratory investigations\nTEST\nChild booklet or facility MTUHA book\n\n\nDiagnoses\nDX\nChild booklet or facility MTUHA book\n\n\nTreatments\nRX\n\n\n\n\nbefore consultation\n\n\nCaregiver\n\n\n\nas a result of the consultation\n\n\nChild booklet or facility MTUHA book\n\n\nReferral advice\nMGMT\n\n\n\n\n\nCaregiver\n\n\n\n\nChild booklet or facility MTUHA book\n\n\n\n\n\n14.2.5 Data preparation\nData cleaning and data de-identification\nPersonally identifiable information (PII) were removed."
  },
  {
    "objectID": "malaria_case_study_presentation.html#population-characteristics",
    "href": "malaria_case_study_presentation.html#population-characteristics",
    "title": "14¬† üìö Malaria case study",
    "section": "14.3 Population characteristics",
    "text": "14.3 Population characteristics\n\n14.3.1 Codebook\n\n\n\n\n\n\n\nVariable\nCoding\n\n\n\n\nSDC_age_in_month\n\n\n\nSDC_sex\n1: male\n2: female\n98: unknown\n\n\nCLIN_fever\n0: no\n1: yes\n98: not sure\n\n\nCLIN_fever_onset\n\n\n\nCLIN_cough\n0: no\n1: yes\n98: not sure\n\n\nCLIN_diarrhoea\n0: no\n1: yes\n98: not sure\n\n\nRX_preconsult_antibiotics\n\n\n\nRX_preconsult_antimalarials\n\n\n\nCONSULT_district\nKaliua\nSengerema\nTanga\n\n\nCONSULT_area\nurban\nrural\n\n\nCONSULT_facility_type\ndispensary\nhealth centre\n\n\n\n\n‚úèÔ∏è Exercise 1\n\n\nHow many variables are numerical? How many features are categorical?\n\n\n\n\n\n\nNote\n\n\n\nA numerical variable is a quantity represented by a real or integer number.\nA categorical variable has discrete values, typically represented by string labels (but not only) taken from a finite list of possible choices.\n\n\nFor instance, the variable native-country in our dataset is a categorical variable because it encodes the data using a finite list of possible countries (along with the ? symbol when this information is missing)"
  },
  {
    "objectID": "malaria_case_study_01.html",
    "href": "malaria_case_study_01.html",
    "title": "15¬† üìô Malaria case study - Part 1",
    "section": "",
    "text": "These pages will demonstrate how to use Quarto to data from Tanzania.\n\n\n\n\nApply what you have learnt on Day 1 on real data"
  },
  {
    "objectID": "malaria_case_study_01.html#getting-started",
    "href": "malaria_case_study_01.html#getting-started",
    "title": "15¬† üìô Malaria case study - Part 1",
    "section": "15.2 Getting started",
    "text": "15.2 Getting started\n\n15.2.1 Access the Quarto template\nDownload the Quarto template used for this case study (add link) using GitHub.\nPlease review previous sections on Quarto, data import and manipulation.\n\n\n15.2.2 Install packages\n```{r}\ninstall.packages(\"ggplot2\")\ninstall.packages(\"ggthemes\")\ninstall.packages(\"networkD3\")\ninstall.packages(\"apyramid\")\n```\n\n```{r}\nlibrary(openxlsx)\nlibrary(tidyverse)\nlibrary(skimr)\nlibrary(DataExplorer)\nlibrary(gtsummary)\nlibrary(finalfit)\nlibrary(ggplot2)\nlibrary(ggthemes)\nlibrary(networkD3) # For alluvial/Sankey diagrams\n```\n\n\n\n15.2.3 Import the data\n\n‚úèÔ∏è Exercise 1StataR\n\n\nImport the dataset and store it into a dataframe called df. Display the first 5 rows and columns child_ID, CTX_month, CTX_district, SDC_age_in_months\n\n\n\n\n\n\nTip\n\n\n\nRefer to Section¬†10.2\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\nstata_df <- haven::read_dta(\"./data/dataset2.dta\")\n```\n\n\n```{r}\n#| df-print: kable\nstata_df %>%\n  head(5) %>%\n  dplyr::select(child_ID,\n                CTX_month,\n                CTX_district,\n                SDC_age_in_months) %>%\n  knitr::kable()\n```\n\n\n\n\nchild_ID\nCTX_month\nCTX_district\nSDC_age_in_months\n\n\n\n\n1\n0\n1\n10\n\n\n2\n0\n1\n6\n\n\n3\n0\n1\n6\n\n\n4\n0\n1\n11\n\n\n5\n1\n1\n21\n\n\n\n\n\n\n\n\n```{r}\ndf <- openxlsx::read.xlsx(\"./data/dataset2.xlsx\")\n```\n\n\n```{r}\n#| df-print: kable\ndf %>%\n  head(5) %>%\n  dplyr::select(child_ID,\n                CTX_month,\n                CTX_district,\n                SDC_age_in_months) %>%\n  knitr::kable()\n```\n\n\n\n\nchild_ID\nCTX_month\nCTX_district\nSDC_age_in_months\n\n\n\n\n1\n7\nKaliua\n10\n\n\n2\n7\nKaliua\n6\n\n\n3\n7\nKaliua\n6\n\n\n4\n7\nKaliua\n11\n\n\n5\n8\nKaliua\n21"
  },
  {
    "objectID": "malaria_case_study_01.html#population-characteristics",
    "href": "malaria_case_study_01.html#population-characteristics",
    "title": "15¬† üìô Malaria case study - Part 1",
    "section": "15.3 Population characteristics",
    "text": "15.3 Population characteristics\n\n15.3.1 Codebook\n\n\n\n\n\n\n\nVariable\nCoding\n\n\n\n\nSDC_age_in_months\n\n\n\nSDC_sex\n1: male\n2: female\n98: unknown\n\n\nCLIN_fever\n0: no\n1: yes\n98: not sure\n\n\nCLIN_fever_onset\n\n\n\nCLIN_cough\n0: no\n1: yes\n98: not sure\n\n\nCLIN_diarrhoea\n0: no\n1: yes\n98: not sure\n\n\nRX_preconsult_antibiotics\n\n\n\nRX_preconsult_antimalarials\n\n\n\nCTX_district\nKaliua\nSengerema\nTanga\n\n\nCTX_area\nUrban\nrural\n\n\nCTX_facility_type\nDispensary\nHealth centre\n\n\n\n\n\n15.3.2 Structure of the data\n\n‚úèÔ∏è Exercise 2StataR\n\n\nExamine the structure of the data, including variable names, labels.\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the codebook command\nR: use the skim function from the skimr package\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\nRStata::stata(\"codebook SDC_age_in_months SDC_sex CLIN_fever CLIN_fever_onset CLIN_diarrhoea CLIN_cough RX_preconsult_antibiotics RX_preconsult_antimalarials CTX_district CTX_area CTX_facility_type\",\n              data.in = stata_df)\n```\n\n. codebook SDC_age_in_months SDC_sex CLIN_fever CLIN_fever_onset CLIN_diarrhoea\n>  CLIN_cough RX_preconsult_antibiotics RX_preconsult_antimalarials CTX_distric\n> t CTX_area CTX_facility_type\n\n-------------------------------------------------------------------------------\nSDC_age_in_months                                             SDC_age_in_months\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,59]                       units:  1\n         unique values:  60                       missing .:  0/10,308\n\n                  mean:   18.7498\n              std. dev:   14.8998\n\n           percentiles:        10%       25%       50%       75%       90%\n                                 3         7        15        27        43\n\n-------------------------------------------------------------------------------\nSDC_sex                                                                 SDC_sex\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,1]                        units:  1\n         unique values:  2                        missing .:  4/10,308\n\n            tabulation:  Freq.  Value\n                         5,229  0\n                         5,075  1\n                             4  .\n\n-------------------------------------------------------------------------------\nCLIN_fever                                                           CLIN_fever\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,2]                        units:  1\n         unique values:  3                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         3,068  0\n                         7,225  1\n                            15  2\n\n-------------------------------------------------------------------------------\nCLIN_fever_onset                                               CLIN_fever_onset\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,14]                       units:  1\n         unique values:  15                       missing .:  3,083/10,308\n\n                  mean:   2.50145\n              std. dev:   1.93099\n\n           percentiles:        10%       25%       50%       75%       90%\n                                 1         1         2         3         4\n\n-------------------------------------------------------------------------------\nCLIN_diarrhoea                                                   CLIN_diarrhoea\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,2]                        units:  1\n         unique values:  3                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         7,982  0\n                         2,306  1\n                            20  2\n\n-------------------------------------------------------------------------------\nCLIN_cough                                                           CLIN_cough\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,2]                        units:  1\n         unique values:  3                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         4,658  0\n                         5,635  1\n                            15  2\n\n-------------------------------------------------------------------------------\nRX_preconsult_antibiotics                             RX_preconsult_antibiotics\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,1]                        units:  1\n         unique values:  2                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         8,573  0\n                         1,735  1\n\n-------------------------------------------------------------------------------\nRX_preconsult_antimalarials                         RX_preconsult_antimalarials\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,1]                        units:  1\n         unique values:  2                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         9,866  0\n                           442  1\n\n-------------------------------------------------------------------------------\nCTX_district                                                       CTX_district\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [1,3]                        units:  1\n         unique values:  3                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         2,429  1\n                         2,703  2\n                         5,176  3\n\n-------------------------------------------------------------------------------\nCTX_area                                                               CTX_area\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [1,2]                        units:  1\n         unique values:  2                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         4,088  1\n                         6,220  2\n\n-------------------------------------------------------------------------------\nCTX_facility_type                                             CTX_facility_type\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [1,2]                        units:  1\n         unique values:  2                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         5,599  1\n                         4,709  2\n\n\n\n\n\n```{r}\ndf %>%\n  skim(SDC_age_in_months,\n       SDC_sex,\n       CLIN_fever,\n       CLIN_fever_onset,\n       CLIN_diarrhoea,\n       CLIN_cough,\n       RX_preconsult_antibiotics,\n       RX_preconsult_antimalarials,\n       CTX_district,\n       CTX_area,\n       CTX_facility_type)\n```\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n10308\n\n\nNumber of columns\n39\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n3\n\n\nnumeric\n8\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nCTX_district\n0\n1\n5\n9\n0\n3\n0\n\n\nCTX_area\n0\n1\n5\n5\n0\n2\n0\n\n\nCTX_facility_type\n0\n1\n10\n13\n0\n2\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nSDC_age_in_months\n0\n1.0\n18.75\n14.90\n0\n7\n15\n27\n59\n‚ñá‚ñÜ‚ñÉ‚ñÇ‚ñÅ\n\n\nSDC_sex\n4\n1.0\n1.49\n0.50\n1\n1\n1\n2\n2\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nCLIN_fever\n0\n1.0\n0.84\n3.74\n0\n0\n1\n1\n98\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nCLIN_fever_onset\n3083\n0.7\n2.50\n1.93\n0\n1\n2\n3\n14\n‚ñá‚ñÖ‚ñÅ‚ñÅ‚ñÅ\n\n\nCLIN_diarrhoea\n0\n1.0\n0.41\n4.32\n0\n0\n0\n0\n98\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nCLIN_cough\n0\n1.0\n0.69\n3.75\n0\n0\n1\n1\n98\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_preconsult_antibiotics\n0\n1.0\n0.17\n0.37\n0\n0\n0\n0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÇ\n\n\nRX_preconsult_antimalarials\n0\n1.0\n0.04\n0.20\n0\n0\n0\n0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\n\n\n\n\n```{r}\ndf <- df %>%\n  tibble::remove_rownames() %>%\n  tibble::column_to_rownames(var=\"child_ID\") %>% \n  dplyr::mutate(across(c(SDC_sex, \n                         CLIN_fever,\n                         CLIN_cough,\n                         CLIN_diarrhoea,\n                         RX_preconsult_antibiotics,\n                         RX_preconsult_antimalarials,\n                         CTX_district,\n                         CTX_area,\n                         CTX_facility_type),\n                       factor))\n```\n\n\n\n\n\n15.3.2.1 Identify missing values\nIdentify missing values in each variable\n\nDataExplorer::plot_missing(df,\n                           geom_label_args = list(size = 2, label.padding = unit(0.2, \"lines\")))\n\n\n\n\n\nDataExplorer::plot_bar(df %>% \n                         dplyr::select(-CTX_facility_ID),\n                       by = \"CTX_district\")\n\n\n\n\n\n\n\n\n\n\n\n‚úèÔ∏è Exercise 3StataRPython\n\n\nAdd the following two new variables to data frame df\n\n\n\n\n\n\n\nVariable\nCoding\n\n\n\n\nSDC_age_category\n<2 months\n2-11 months\n12-23 months\n24-35 months\n36-47 months\n48-59 months\n\n\nCLIN_fever_onset_category\n<2 days\n2-3 days\n4-6 days\n‚â•7 days\n\n\n\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the gen command\nR: use the mutate and case_when functions from the dplyr package\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n\n\n\n```{r}\ndf <- df %>%\n  dplyr::mutate(\n    SDC_age_category = dplyr::case_when(\n      SDC_age_in_months < 2 ~ \"<2 months\",\n      SDC_age_in_months >= 2 & SDC_age_in_months < 12 ~ \"02-11 months\",\n      SDC_age_in_months >= 12 & SDC_age_in_months < 24 ~ \"12-23 months\",\n      SDC_age_in_months >= 24 & SDC_age_in_months < 36 ~ \"24-35 months\",\n      SDC_age_in_months >= 36 & SDC_age_in_months < 48 ~ \"36-47 months\",\n      SDC_age_in_months >= 48 & SDC_age_in_months < 60 ~ \"48-59 months\",\n      TRUE ~ \"\"\n    )\n  ) %>% \n  dplyr::mutate(\n    CLIN_fever_onset_category = dplyr::case_when(\n      CLIN_fever_onset < 2 ~ \"<2 days\",\n      CLIN_fever_onset >= 2 & CLIN_fever_onset < 4 ~ \"2-3 days\",\n      CLIN_fever_onset >= 4 & CLIN_fever_onset < 7 ~ \"4-6 days\",\n      CLIN_fever_onset >= 7 ~ \">= 7 days\",\n      TRUE ~ \"\"\n    )\n  )\n```\n\n\n\n\n\n\n\n\n‚úèÔ∏è Exercise 4StataR\n\n\nDisplay descriptive statistics for the following population characteristics:\n\n\n\n\n\n\nTip\n\n\n\n\nStata\nR: use the tbl_summary function from the gtsummary package\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\nRStata::stata('tabulate SDC_age_category\n              tabulate SDC_sex\n              tabulate CLIN_fever\n              tabulate CLIN_fever_onset_category\n              tabulate CLIN_diarrhoea\n              tabulate CLIN_cough\n              tabulate RX_preconsult_antibiotics\n              tabulate RX_preconsult_antimalarials\n              tabulate CTX_district\n              tabulate CTX_area\n              tabulate CTX_facility_type',\n              data.in = stata_df)\n```\n\n. tabulate SDC_age_category\nvariable SDC_age_category not found\nr(111);\n.               tabulate SDC_sex\n.               tabulate CLIN_fever\n.               tabulate CLIN_fever_onset_category\n.               tabulate CLIN_diarrhoea\n.               tabulate CLIN_cough\n.               tabulate RX_preconsult_antibiotics\n.               tabulate RX_preconsult_antimalarials\n.               tabulate CTX_district\n.               tabulate CTX_area\n.               tabulate CTX_facility_type\n\n\n\n\n\n```{r}\ndf %>%\n  dplyr::select(SDC_age_category,\n                SDC_sex,\n                CLIN_fever,\n                CLIN_fever_onset_category,\n                CLIN_diarrhoea,\n                CLIN_cough,\n                RX_preconsult_antibiotics,\n                RX_preconsult_antimalarials,\n                CTX_district,\n                CTX_area,\n                CTX_facility_type) %>%\n  gtsummary::tbl_summary(missing_text = \"(Missing)\")\n```\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      N = 10,3081\n    \n  \n  \n    SDC_age_category\n\n    <2 months\n597 (5.8%)\n    02-11 months\n3,576 (35%)\n    12-23 months\n2,947 (29%)\n    24-35 months\n1,529 (15%)\n    36-47 months\n980 (9.5%)\n    48-59 months\n679 (6.6%)\n    SDC_sex\n\n    1\n5,229 (51%)\n    2\n5,075 (49%)\n    (Missing)\n4\n    CLIN_fever\n\n    0\n3,068 (30%)\n    1\n7,225 (70%)\n    98\n15 (0.1%)\n    CLIN_fever_onset_category\n\n    \n3,083 (30%)\n    <2 days\n1,998 (19%)\n    >= 7 days\n343 (3.3%)\n    2-3 days\n4,386 (43%)\n    4-6 days\n498 (4.8%)\n    CLIN_diarrhoea\n\n    0\n7,982 (77%)\n    1\n2,306 (22%)\n    98\n20 (0.2%)\n    CLIN_cough\n\n    0\n4,658 (45%)\n    1\n5,635 (55%)\n    98\n15 (0.1%)\n    RX_preconsult_antibiotics\n\n    0\n8,573 (83%)\n    1\n1,735 (17%)\n    RX_preconsult_antimalarials\n\n    0\n9,866 (96%)\n    1\n442 (4.3%)\n    CTX_district\n\n    Kaliua\n2,429 (24%)\n    Sengerema\n2,703 (26%)\n    Tanga\n5,176 (50%)\n    CTX_area\n\n    rural\n4,088 (40%)\n    urban\n6,220 (60%)\n    CTX_facility_type\n\n    dispensary\n5,599 (54%)\n    health center\n4,709 (46%)\n  \n  \n  \n    \n      1 n (%)"
  },
  {
    "objectID": "malaria_case_study_01.html#healthcare-provider-actions",
    "href": "malaria_case_study_01.html#healthcare-provider-actions",
    "title": "15¬† üìô Malaria case study - Part 1",
    "section": "15.4 Healthcare provider actions",
    "text": "15.4 Healthcare provider actions\n\n15.4.1 Codebook\n\nTemperature measured\n\nFever measured\n\nFever (temp or history)\nMalaria test\nAny severe diagnosis\nMalaria diagnosis\nMalaria treatment\nReferral\n\n\n\n\n\n\n\n\nVariable\nCoding\n\n\n\n\nMEAS_temperature\n\n\n\n\n\n\n\nTEST_malaria_result\n0: negative\n1: positive\n2: indeterminate\n95: unreadable result\n98: not sure\n\n\nDX_malaria\n0: no\n1: yes\n\n\nRX_antimalarials\n0: no\n1: yes\n\n\nMGMT_referral_src_caregiver\n\n\n\nMGMT_referral_src_registry\n\n\n\n\n\n\n15.4.2 Structure of the data\n\n‚úèÔ∏è Exercise 5StataR\n\n\nExamine the structure of the data, including variable names, labels.\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the codebook command\nR: use the skim function from the skimr package\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\nRStata::stata(\"codebook MEAS_temperature TEST_malaria_result TEST_malaria_result DX_malaria RX_antimalarials MGMT_referral_src_caregiver MGMT_referral_src_registry\",\n              data.in = stata_df)\n\n. codebook MEAS_temperature TEST_malaria_result TEST_malaria_result DX_malaria \n> RX_antimalarials MGMT_referral_src_caregiver MGMT_referral_src_registry\n\n-------------------------------------------------------------------------------\nMEAS_temperature                                               MEAS_temperature\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [34.5,42.5]                  units:  .1\n         unique values:  16                       missing .:  9,271/10,308\n\n                  mean:   37.0781\n              std. dev:   .977139\n\n           percentiles:        10%       25%       50%       75%       90%\n                                36      36.5        37      37.5      38.5\n\n-------------------------------------------------------------------------------\nTEST_malaria_result                                         TEST_malaria_result\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,98]                       units:  1\n         unique values:  5                        missing .:  4,550/10,308\n\n            tabulation:  Freq.  Value\n                         4,665  0\n                         1,032  1\n                             1  2\n                             3  95\n                            57  98\n                         4,550  .\n\n-------------------------------------------------------------------------------\nTEST_malaria_result                                         TEST_malaria_result\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,98]                       units:  1\n         unique values:  5                        missing .:  4,550/10,308\n\n            tabulation:  Freq.  Value\n                         4,665  0\n                         1,032  1\n                             1  2\n                             3  95\n                            57  98\n                         4,550  .\n\n-------------------------------------------------------------------------------\nDX_malaria                                                           DX_malaria\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,1]                        units:  1\n         unique values:  2                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         8,508  0\n                         1,800  1\n\n-------------------------------------------------------------------------------\nRX_antimalarials                                               RX_antimalarials\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,1]                        units:  1\n         unique values:  2                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                         9,018  0\n                         1,290  1\n\n-------------------------------------------------------------------------------\nMGMT_referral_src_caregiver                         MGMT_referral_src_caregiver\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,98]                       units:  1\n         unique values:  4                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                        10,122  0\n                           164  1\n                             9  97\n                            13  98\n\n-------------------------------------------------------------------------------\nMGMT_referral_src_registry                           MGMT_referral_src_registry\n-------------------------------------------------------------------------------\n\n                  type:  numeric (double)\n\n                 range:  [0,1]                        units:  1\n         unique values:  2                        missing .:  0/10,308\n\n            tabulation:  Freq.  Value\n                        10,194  0\n                           114  1\n\n\n\n\n\ndf %>%\n  skimr::skim(MEAS_temperature,\n              TEST_malaria_result,\n              TEST_malaria_result,\n              DX_malaria,\n              RX_antimalarials,\n              MGMT_referral_src_caregiver,\n              MGMT_referral_src_registry)\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n10308\n\n\nNumber of columns\n40\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nMEAS_temperature\n9271\n0.10\n37.08\n0.98\n34.5\n36.5\n37\n37.5\n42.5\n‚ñÉ‚ñá‚ñÉ‚ñÅ‚ñÅ\n\n\nTEST_malaria_result\n4550\n0.56\n1.20\n9.93\n0.0\n0.0\n0\n0.0\n98.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nDX_malaria\n0\n1.00\n0.17\n0.38\n0.0\n0.0\n0\n0.0\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÇ\n\n\nRX_antimalarials\n0\n1.00\n0.13\n0.33\n0.0\n0.0\n0\n0.0\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nMGMT_referral_src_caregiver\n0\n1.00\n0.22\n4.50\n0.0\n0.0\n0\n0.0\n98.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nMGMT_referral_src_registry\n0\n1.00\n0.01\n0.10\n0.0\n0.0\n0\n0.0\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\n\n\n\n\n\n\n\n‚úèÔ∏è Exercise 3StataRPython\n\n\nAdd the following two new variables to data frame df\n\nMEAS_fever\nFever (temp or history)\n\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the gen command\nR: use the mutate function from the dplyr package\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n\n\n\n```{r}\ndf <- df %>%\n  dplyr::mutate(CALC_temperature_measured = !is.na(MEAS_temperature)) %>%\n  dplyr::mutate(CALC_fever = MEAS_temperature >= 37.5) %>%\n  dplyr::mutate(CALC_fever_or_temp = (CLIN_fever == 1) | (CALC_fever == 1))\n```\n\n\n\n\n\n\n\n\n‚úèÔ∏è Exercise 6StataR\n\n\nDisplay descriptive statistics for the following healthcare provider actions:\n\n\n\n\n\n\nTip\n\n\n\n\nR: use the tbl_summary function from the gtsummary package\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n\n\n\n```{r}\ndf %>%\n  dplyr::select(CALC_temperature_measured,\n                CALC_fever,\n                CALC_fever_or_temp,\n                TEST_malaria_result,\n                TEST_malaria_result,\n                DX_malaria,\n                RX_antimalarials,\n                MGMT_referral_src_caregiver,\n                MGMT_referral_src_registry) %>%\n  gtsummary::tbl_summary(missing_text = \"(Missing)\")\n```\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      N = 10,3081\n    \n  \n  \n    CALC_temperature_measured\n1,037 (10%)\n    CALC_fever\n326 (31%)\n    (Missing)\n9,271\n    CALC_fever_or_temp\n7,252 (97%)\n    (Missing)\n2,842\n    TEST_malaria_result\n\n    0\n4,665 (81%)\n    1\n1,032 (18%)\n    2\n1 (<0.1%)\n    95\n3 (<0.1%)\n    98\n57 (1.0%)\n    (Missing)\n4,550\n    DX_malaria\n1,800 (17%)\n    RX_antimalarials\n1,290 (13%)\n    MGMT_referral_src_caregiver\n\n    0\n10,122 (98%)\n    1\n164 (1.6%)\n    97\n9 (<0.1%)\n    98\n13 (0.1%)\n    MGMT_referral_src_registry\n114 (1.1%)\n  \n  \n  \n    \n      1 n (%)"
  },
  {
    "objectID": "malaria_case_study_01.html#number-of-consultations-by-facility",
    "href": "malaria_case_study_01.html#number-of-consultations-by-facility",
    "title": "15¬† üìô Malaria case study - Part 1",
    "section": "15.5 Number of consultations by facility",
    "text": "15.5 Number of consultations by facility\n\n‚úèÔ∏è Exercise 6StataR\n\n\nPlot the number of consultations by facility in bars, grouped by district.\n\n\n\n\n\n\nTip\n\n\n\n\nStata:\nR:\n\n\n\n\n\n\n```{r}\nstata_cmd <- '\ngraph bar (count) child_ID, over(CTX_facility_ID, axis(off)) over(CTX_district, relabel(1 \"Kaliua\" 2 \"Sengerema\" 3 \"Tanga\")) nofill ytitle(No. consultations) title(No. consultations by facility)\ngraph export ./images/day02_stata_plot.png, replace\n'\nRStata::stata(stata_cmd,\n              data.in = stata_df)\n```\n\n. \n. graph bar (count) child_ID, over(CTX_facility_ID, axis(off)) over(CTX_distric\n> t, relabel(1 \"Kaliua\" 2 \"Sengerema\" 3 \"Tanga\")) nofill ytitle(No. consultatio\n> ns) title(No. consultations by facility)\n. graph export ./images/day02_stata_plot.png, replace\n(file ./images/day02_stata_plot.png written in PNG format)\n\n\n\n\n\n\n```{r}\ndf %>%\n  dplyr::group_by(CTX_district,\n                  CTX_facility_ID) %>%\n  count() %>% \n  ggplot2::ggplot(aes(x = haven::as_factor(CTX_district),\n                      y = n)) + \n  ggplot2::geom_bar(position = position_dodge2(preserve = \"single\"),\n                    stat=\"identity\") +\n  ggplot2::labs(x = \"\", y = \"No. consultations\") +\n  ggthemes::theme_hc()\n```"
  },
  {
    "objectID": "malaria_case_study_01.html#fever-assessment",
    "href": "malaria_case_study_01.html#fever-assessment",
    "title": "15¬† üìô Malaria case study - Part 1",
    "section": "15.6 Fever assessment",
    "text": "15.6 Fever assessment\n\ntemp measurement by reported fever; by facility\n\n\n```{r}\n# Write here\n```\n\n\nchisq.test(df$CLIN_fever, df$TEST_malaria_result)\n\n\n    Pearson's Chi-squared test\n\ndata:  df$CLIN_fever and df$TEST_malaria_result\nX-squared = 61.449, df = 8, p-value = 2.42e-10\n\n\n\n```{r}\ndf$CTX_facility_ID <- haven::as_factor(df$CTX_facility_ID) \ndf %>%\n  dplyr::filter(CLIN_fever == 1) %>%\n  dplyr::select(MEAS_temperature,\n                CTX_facility_ID) %>%\n  gtsummary::tbl_summary(by = CTX_facility_ID) %>%\n  add_p()\n```\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      F8529, N = 1861\n      F8195, N = 5811\n      F8793, N = 7801\n      F7729, N = 1971\n      F4848, N = 4061\n      F8444, N = 2091\n      F9109, N = 3581\n      F8379, N = 4651\n      F5145, N = 4901\n      F6552, N = 2911\n      F4024, N = 5501\n      F3366, N = 6031\n      F7327, N = 2701\n      F4056, N = 621\n      F5560, N = 3561\n      F6813, N = 3231\n      F0542, N = 6821\n      F5656, N = 4161\n      p-value2\n    \n  \n  \n    MEAS_temperature\n37.50 (37.00, 38.00)\nNA (NA, NA)\n39.50 (39.25, 39.75)\n37.00 (36.25, 37.50)\n36.50 (36.00, 36.88)\n37.00 (37.00, 37.00)\n38.50 (37.00, 38.50)\n37.50 (36.50, 38.25)\n37.50 (37.00, 38.75)\n37.00 (37.00, 38.00)\n37.00 (37.00, 37.50)\n38.00 (38.00, 38.50)\n38.25 (38.12, 38.38)\n39.00 (38.25, 39.50)\n37.00 (36.50, 38.00)\n37.00 (36.50, 37.50)\n37.50 (36.88, 37.75)\n36.25 (36.00, 37.00)\n<0.001\n    Unknown\n136\n581\n778\n70\n380\n203\n333\n422\n479\n117\n531\n598\n268\n59\n222\n184\n670\n398\n\n  \n  \n  \n    \n      1 Median (IQR)\n    \n    \n      2 Kruskal-Wallis rank sum test\n    \n  \n\n\n\n\n\nalso showing ‚Äòprevalence‚Äô of fever when of whole clinic vs of those who measure to indicate bias\n\n\n```{r}\n# Write here\n```"
  },
  {
    "objectID": "malaria_case_study_01.html#malaria-tests",
    "href": "malaria_case_study_01.html#malaria-tests",
    "title": "15¬† üìô Malaria case study - Part 1",
    "section": "15.7 Malaria tests",
    "text": "15.7 Malaria tests\n\nmalaria tests of those with history or measured fever\n\n\n```{r}\n# Write here\n```\n\n\n```{r}\ntable(df$CALC_fever_or_temp, df$TEST_malaria_result)\n```\n\n       \n           0    1    2   95   98\n  FALSE   70    2    0    1    1\n  TRUE  3952  966    1    2   47\n\n\n\nchisq.test(df$CALC_fever_or_temp, df$TEST_malaria_result)\n\n\n    Pearson's Chi-squared test\n\ndata:  df$CALC_fever_or_temp and df$TEST_malaria_result\nX-squared = 33.92, df = 4, p-value = 7.74e-07\n\n\n\n```{r}\ndf$CTX_facility_ID <- haven::as_factor(df$CTX_facility_ID) \ndf %>%\n  dplyr::filter(CALC_fever_or_temp == 1) %>%\n  dplyr::select(TEST_malaria_result,\n                CTX_facility_ID) %>%\n  gtsummary::tbl_summary(by = CTX_facility_ID)\n```\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      F8529, N = 1901\n      F8195, N = 5811\n      F8793, N = 7801\n      F7729, N = 1971\n      F4848, N = 4061\n      F8444, N = 2091\n      F9109, N = 3581\n      F8379, N = 4671\n      F5145, N = 4911\n      F6552, N = 3011\n      F4024, N = 5501\n      F3366, N = 6031\n      F7327, N = 2701\n      F4056, N = 621\n      F5560, N = 3581\n      F6813, N = 3301\n      F0542, N = 6831\n      F5656, N = 4161\n    \n  \n  \n    TEST_malaria_result\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    0\n83 (67%)\n151 (33%)\n319 (54%)\n125 (82%)\n285 (75%)\n135 (98%)\n159 (95%)\n371 (93%)\n226 (95%)\n213 (96%)\n221 (97%)\n346 (97%)\n21 (25%)\n32 (57%)\n242 (92%)\n225 (91%)\n511 (90%)\n287 (97%)\n    1\n38 (31%)\n300 (66%)\n270 (46%)\n28 (18%)\n95 (25%)\n0 (0%)\n2 (1.2%)\n25 (6.3%)\n7 (2.9%)\n4 (1.8%)\n6 (2.6%)\n6 (1.7%)\n59 (69%)\n20 (36%)\n20 (7.6%)\n21 (8.5%)\n55 (9.7%)\n10 (3.4%)\n    2\n0 (0%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n    95\n1 (0.8%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n    98\n2 (1.6%)\n5 (1.1%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n3 (2.2%)\n6 (3.6%)\n2 (0.5%)\n6 (2.5%)\n6 (2.7%)\n0 (0%)\n3 (0.8%)\n5 (5.9%)\n4 (7.1%)\n0 (0%)\n1 (0.4%)\n3 (0.5%)\n0 (0%)\n    Unknown\n66\n125\n188\n44\n26\n71\n191\n69\n252\n78\n323\n248\n185\n6\n96\n83\n114\n119\n  \n  \n  \n    \n      1 n (%)"
  },
  {
    "objectID": "malaria_case_study_01.html#malaria-treatments",
    "href": "malaria_case_study_01.html#malaria-treatments",
    "title": "15¬† üìô Malaria case study - Part 1",
    "section": "15.8 Malaria treatments",
    "text": "15.8 Malaria treatments\n\nmalaria diagnoses vs.¬†positive tests vs.¬†treatment.\n\n\n```{r}\n# Write here\n```\n\n\n```{r}\ndf <- df %>%\n  dplyr::mutate(TEST_malaria_positive = 1* (TEST_malaria_result == 1))\ntable(df$TEST_malaria_result, df$DX_malaria, df$RX_antimalarials) %>% knitr::kable()\n```\n\n\n\n\nVar1\nVar2\nVar3\nFreq\n\n\n\n\n0\n0\n0\n3890\n\n\n1\n0\n0\n15\n\n\n2\n0\n0\n1\n\n\n95\n0\n0\n2\n\n\n98\n0\n0\n31\n\n\n0\n1\n0\n645\n\n\n1\n1\n0\n49\n\n\n2\n1\n0\n0\n\n\n95\n1\n0\n1\n\n\n98\n1\n0\n17\n\n\n0\n0\n1\n99\n\n\n1\n0\n1\n50\n\n\n2\n0\n1\n0\n\n\n95\n0\n1\n0\n\n\n98\n0\n1\n2\n\n\n0\n1\n1\n31\n\n\n1\n1\n1\n918\n\n\n2\n1\n1\n0\n\n\n95\n1\n1\n0\n\n\n98\n1\n1\n7\n\n\n\n\n\n\nchisq.test(df$TEST_malaria_result, df$DX_malaria)\n\n\n    Pearson's Chi-squared test\n\ndata:  df$TEST_malaria_result and df$DX_malaria\nX-squared = 2582, df = 4, p-value < 2.2e-16\n\n\n\nchisq.test(df$TEST_malaria_result, df$RX_antimalarials)\n\n\n    Pearson's Chi-squared test\n\ndata:  df$TEST_malaria_result and df$RX_antimalarials\nX-squared = 4508.8, df = 4, p-value < 2.2e-16\n\n\n\n```{r}\n# df$CTX_facility_ID <- haven::as_factor(df$CTX_facility_ID) \n# df %>%\n#   dplyr::filter(TEST_malaria_positive == 1) %>%\n#   dplyr::select(DX_malaria,\n#                 RX_antimalarials,\n#                 CTX_facility_ID) %>%\n#   gtsummary::tbl_summary(by = CTX_facility_ID)\n```"
  },
  {
    "objectID": "malaria_case_study_01_report.html",
    "href": "malaria_case_study_01_report.html",
    "title": "16¬† üìô Malaria case study - Report #1",
    "section": "",
    "text": "The data set used for this report is stored in dataset2.dta.\n\n\n\nExtract of the database\n\n\nchild_ID\nCTX_month\nCTX_district\nSDC_age_in_months\n\n\n\n\n1\n7\nKaliua\n10\n\n\n2\n7\nKaliua\n6\n\n\n3\n7\nKaliua\n6\n\n\n4\n7\nKaliua\n11\n\n\n5\n8\nKaliua\n21"
  },
  {
    "objectID": "malaria_case_study_01_report.html#number-of-consultations-by-facility",
    "href": "malaria_case_study_01_report.html#number-of-consultations-by-facility",
    "title": "16¬† üìô Malaria case study - Report #1",
    "section": "16.2 Number of consultations by facility",
    "text": "16.2 Number of consultations by facility"
  },
  {
    "objectID": "malaria_case_study_01_report.html#population-characteristics",
    "href": "malaria_case_study_01_report.html#population-characteristics",
    "title": "16¬† üìô Malaria case study - Report #1",
    "section": "16.3 Population characteristics",
    "text": "16.3 Population characteristics\n\n16.3.1 Codebook\n\n16.3.1.1 Numerical variables\n\n\n\n\n\n\nVariable\n\n\n\n\nSDC_age_in_months\n\n\nCLIN_fever_onset\n\n\n\n\n\n16.3.1.2 Categorical variables\n\n\n\n\n\n\n\nVariable\nCoding\n\n\n\n\nSDC_sex\n1: male\n2: female\n98: unknown\n\n\nCLIN_fever\n0: no\n1: yes\n98: not sure\n\n\nCLIN_cough\n0: no\n1: yes\n98: not sure\n\n\nCLIN_diarrhoea\n0: no\n1: yes\n98: not sure\n\n\nRX_preconsult_antibiotics\n0: no\n1: yes\n\n\nRX_preconsult_antimalarials\n0: no\n1: yes\n\n\nCTX_district\nKaliua\nSengerema\nTanga\n\n\nCTX_area\nurban\nrural\n\n\nCTX_facility_type\ndispensary\nhealth centre\n\n\n\n\n\n\n16.3.2 Structure of the data\nAdd the following two new variables to data frame df\n\n\n\n\n\n\n\nVariable\nCoding\n\n\n\n\nSDC_age_category\n<2 months\n2-11 months\n12-23 months\n24-35 months\n36-47 months\n48-59 months\n\n\nCLIN_fever_onset_category\n<2 days\n2-3 days\n4-6 days\n‚â• 7 days\n\n\n\n\n\n\n\n\n\n\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n10308\n\n\nNumber of columns\n40\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nfactor\n9\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nSDC_sex\n4\n1\nFALSE\n2\n1: 5229, 2: 5075\n\n\nCLIN_fever\n0\n1\nFALSE\n3\n1: 7225, 0: 3068, 98: 15\n\n\nCLIN_diarrhoea\n0\n1\nFALSE\n3\n0: 7982, 1: 2306, 98: 20\n\n\nCLIN_cough\n0\n1\nFALSE\n3\n1: 5635, 0: 4658, 98: 15\n\n\nRX_preconsult_antibiotics\n0\n1\nFALSE\n2\n0: 8573, 1: 1735\n\n\nRX_preconsult_antimalarials\n0\n1\nFALSE\n2\n0: 9866, 1: 442\n\n\nCTX_district\n0\n1\nFALSE\n3\nTan: 5176, Sen: 2703, Kal: 2429\n\n\nCTX_area\n0\n1\nFALSE\n2\nurb: 6220, rur: 4088\n\n\nCTX_facility_type\n0\n1\nFALSE\n2\ndis: 5599, hea: 4709\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nSDC_age_in_months\n0\n1.0\n18.75\n14.90\n0\n7\n15\n27\n59\n‚ñá‚ñÜ‚ñÉ‚ñÇ‚ñÅ\n\n\nCLIN_fever_onset\n3083\n0.7\n2.50\n1.93\n0\n1\n2\n3\n14\n‚ñá‚ñÖ‚ñÅ‚ñÅ‚ñÅ\n\n\n\n\n\n\n\n16.3.3 Descriptive statistics\n\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      N = 10,3081\n    \n  \n  \n    SDC_age_category\n\n    <2 months\n597 (5.8%)\n    02-11 months\n3,576 (35%)\n    12-23 months\n2,947 (29%)\n    24-35 months\n1,529 (15%)\n    36-47 months\n980 (9.5%)\n    48-59 months\n679 (6.6%)\n    SDC_sex\n\n    1\n5,229 (51%)\n    2\n5,075 (49%)\n    (Missing)\n4\n    CLIN_fever\n\n    0\n3,068 (30%)\n    1\n7,225 (70%)\n    98\n15 (0.1%)\n    CLIN_fever_onset_category\n\n    \n3,083 (30%)\n    <2 days\n1,998 (19%)\n    >= 7 days\n343 (3.3%)\n    2-3 days\n4,386 (43%)\n    4-6 days\n498 (4.8%)\n    CLIN_diarrhoea\n\n    0\n7,982 (77%)\n    1\n2,306 (22%)\n    98\n20 (0.2%)\n    CLIN_cough\n\n    0\n4,658 (45%)\n    1\n5,635 (55%)\n    98\n15 (0.1%)\n    RX_preconsult_antibiotics\n\n    0\n8,573 (83%)\n    1\n1,735 (17%)\n    RX_preconsult_antimalarials\n\n    0\n9,866 (96%)\n    1\n442 (4.3%)\n    CTX_district\n\n    Kaliua\n2,429 (24%)\n    Sengerema\n2,703 (26%)\n    Tanga\n5,176 (50%)\n    CTX_area\n\n    rural\n4,088 (40%)\n    urban\n6,220 (60%)\n    CTX_facility_type\n\n    dispensary\n5,599 (54%)\n    health center\n4,709 (46%)\n  \n  \n  \n    \n      1 n (%)\n    \n  \n\n\n\n\n\n\n16.3.4 Age pyramid\n\n\n\n\n\n\n\n16.3.5 Clincial presentation"
  },
  {
    "objectID": "malaria_case_study_01_report.html#clinical-management",
    "href": "malaria_case_study_01_report.html#clinical-management",
    "title": "16¬† üìô Malaria case study - Report #1",
    "section": "16.4 Clinical management",
    "text": "16.4 Clinical management\n\n16.4.1 Codebook\n\n16.4.1.1 Numeric variables\n\n\n\n\n\n\nVariable\n\n\n\n\nMEAS_temperature\n\n\n\n\n\n16.4.1.2 Categorical variables\n\n\n\n\n\n\n\nVariable\nCoding\n\n\n\n\n\n\n\n\nTEST_malaria_result\n0: negative\n1: positive\n2: indeterminate\n95: unreadable result\n98: not sure\n\n\nDX_malaria\n0: no\n1: yes\n\n\nDX_malaria_severe\n0: no\n1: yes\n\n\nRX_antimalarials\n0: no\n1: yes\n\n\nRX_artemether\n0: no\n1: yes\n\n\nRX_antibiotics\n0: no\n1: yes\n\n\nMGMT_referral_src_caregiver\n\n\n\nMGMT_referral_src_registry\n\n\n\n\n\n\n\n16.4.2 Structure of the data\n\n\n\n\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n10308\n\n\nNumber of columns\n40\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nfactor\n12\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nTEST_malaria_done\n0\n1.00\nFALSE\n2\n1: 5763, 0: 4545\n\n\nTEST_malaria_type\n4550\n0.56\nFALSE\n4\n1: 5371, 2: 340, 98: 45, 95: 2\n\n\nTEST_malaria_result\n4550\n0.56\nFALSE\n5\n0: 4665, 1: 1032, 98: 57, 95: 3\n\n\nDX_severe\n0\n1.00\nFALSE\n2\n0: 10054, 1: 254\n\n\nDX_malaria\n0\n1.00\nFALSE\n2\n0: 8508, 1: 1800\n\n\nDX_malaria_severe\n0\n1.00\nFALSE\n2\n0: 10160, 1: 148\n\n\nRX_antimalarials\n0\n1.00\nFALSE\n2\n0: 9018, 1: 1290\n\n\nRX_antimalarial_parenteral\n0\n1.00\nFALSE\n2\n0: 10059, 1: 249\n\n\nRX_artemether\n0\n1.00\nFALSE\n2\n0: 10248, 1: 60\n\n\nRX_antibiotics\n0\n1.00\nFALSE\n2\n1: 5430, 0: 4878\n\n\nMGMT_referral_src_caregiver\n0\n1.00\nFALSE\n4\n0: 10122, 1: 164, 98: 13, 97: 9\n\n\nMGMT_referral_src_registry\n0\n1.00\nFALSE\n2\n0: 10194, 1: 114\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nMEAS_temperature\n9271\n0.1\n37.08\n0.98\n34.5\n36.5\n37\n37.5\n42.5\n‚ñÉ‚ñá‚ñÉ‚ñÅ‚ñÅ\n\n\n\n\n\n\n\n16.4.3 Descriptive statistics\n\n\n\n\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      N = 10,3081\n    \n  \n  \n    CALC_temperature_measured\n\n    0\n9,271 (90%)\n    1\n1,037 (10%)\n    CALC_fever_measured\n\n    0\n711 (69%)\n    1\n326 (31%)\n    (Missing)\n9,271\n    CALC_fever_all\n\n    0\n3,056 (30%)\n    1\n7,252 (70%)\n    TEST_malaria_done\n\n    0\n4,545 (44%)\n    1\n5,763 (56%)\n    TEST_malaria_type\n\n    1\n5,371 (93%)\n    2\n340 (5.9%)\n    95\n2 (<0.1%)\n    98\n45 (0.8%)\n    (Missing)\n4,550\n    TEST_malaria_result\n\n    0\n4,665 (81%)\n    1\n1,032 (18%)\n    2\n1 (<0.1%)\n    95\n3 (<0.1%)\n    98\n57 (1.0%)\n    (Missing)\n4,550\n    DX_severe\n\n    0\n10,054 (98%)\n    1\n254 (2.5%)\n    DX_malaria\n\n    0\n8,508 (83%)\n    1\n1,800 (17%)\n    DX_malaria_severe\n\n    0\n10,160 (99%)\n    1\n148 (1.4%)\n    RX_antimalarials\n\n    0\n9,018 (87%)\n    1\n1,290 (13%)\n    RX_antimalarial_parenteral\n\n    0\n10,059 (98%)\n    1\n249 (2.4%)\n    RX_antibiotics\n\n    0\n4,878 (47%)\n    1\n5,430 (53%)\n    MGMT_referral_src_caregiver\n\n    0\n10,122 (98%)\n    1\n164 (1.6%)\n    97\n9 (<0.1%)\n    98\n13 (0.1%)\n    MGMT_referral_src_registry\n\n    0\n10,194 (99%)\n    1\n114 (1.1%)\n  \n  \n  \n    \n      1 n (%)"
  },
  {
    "objectID": "malaria_case_study_01_report.html#fever-assessment",
    "href": "malaria_case_study_01_report.html#fever-assessment",
    "title": "16¬† üìô Malaria case study - Report #1",
    "section": "16.5 Fever assessment",
    "text": "16.5 Fever assessment\n\n\n\n\n\nFigure¬†16.1: Range of temperature measurements for children with fever (1), without fever (2) and with unkwnown fever presentation (98) by facility\n\n\n\n\n\n\n\n\n\nFigure¬†16.2: Prevalence of fever when of whole clinic vs of those who measure to indicate bias"
  },
  {
    "objectID": "malaria_case_study_01_report.html#from-fever-assessment-to-malaria-treatment",
    "href": "malaria_case_study_01_report.html#from-fever-assessment-to-malaria-treatment",
    "title": "16¬† üìô Malaria case study - Report #1",
    "section": "16.6 From fever assessment to malaria treatment",
    "text": "16.6 From fever assessment to malaria treatment\n\n\n\n\n\n\n\n\n\nFigure¬†16.3: Malaria decay\n\n\n\n\n\n\n\n\n\n\nFigure¬†16.4: Malaria decay for facility F8793\n\n\n\n\n\n\n\n\n\n\nFigure¬†16.5: Malaria decay for facility F7729"
  },
  {
    "objectID": "malaria_case_study_01_report.html#malaria-tests",
    "href": "malaria_case_study_01_report.html#malaria-tests",
    "title": "16¬† üìô Malaria case study - Report #1",
    "section": "16.7 Malaria tests",
    "text": "16.7 Malaria tests\n\nmalaria tests of those with history or measured fever\n\n\n\n   \n       0    1    2   95   98\n  0  713   66    0    1   10\n  1 3952  966    1    2   47\n\n\n\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      F0542, N = 6831\n      F3366, N = 6031\n      F4024, N = 5501\n      F4056, N = 621\n      F4848, N = 4061\n      F5145, N = 4911\n      F5560, N = 3581\n      F5656, N = 4161\n      F6552, N = 3011\n      F6813, N = 3301\n      F7327, N = 2701\n      F7729, N = 1971\n      F8195, N = 5811\n      F8379, N = 4671\n      F8444, N = 2091\n      F8529, N = 1901\n      F8793, N = 7801\n      F9109, N = 3581\n    \n  \n  \n    TEST_malaria_result\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    0\n511 (90%)\n346 (97%)\n221 (97%)\n32 (57%)\n285 (75%)\n226 (95%)\n242 (92%)\n287 (97%)\n213 (96%)\n225 (91%)\n21 (25%)\n125 (82%)\n151 (33%)\n371 (93%)\n135 (98%)\n83 (67%)\n319 (54%)\n159 (95%)\n    1\n55 (9.7%)\n6 (1.7%)\n6 (2.6%)\n20 (36%)\n95 (25%)\n7 (2.9%)\n20 (7.6%)\n10 (3.4%)\n4 (1.8%)\n21 (8.5%)\n59 (69%)\n28 (18%)\n300 (66%)\n25 (6.3%)\n0 (0%)\n38 (31%)\n270 (46%)\n2 (1.2%)\n    2\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n    95\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n1 (0.8%)\n1 (0.2%)\n0 (0%)\n    98\n3 (0.5%)\n3 (0.8%)\n0 (0%)\n4 (7.1%)\n0 (0%)\n6 (2.5%)\n0 (0%)\n0 (0%)\n6 (2.7%)\n1 (0.4%)\n5 (5.9%)\n0 (0%)\n5 (1.1%)\n2 (0.5%)\n3 (2.2%)\n2 (1.6%)\n1 (0.2%)\n6 (3.6%)\n    Unknown\n114\n248\n323\n6\n26\n252\n96\n119\n78\n83\n185\n44\n125\n69\n71\n66\n188\n191\n  \n  \n  \n    \n      1 n (%)"
  },
  {
    "objectID": "malaria_case_study_01_report.html#malaria-treatments",
    "href": "malaria_case_study_01_report.html#malaria-treatments",
    "title": "16¬† üìô Malaria case study - Report #1",
    "section": "16.8 Malaria treatments",
    "text": "16.8 Malaria treatments\n\nmalaria diagnoses vs.¬†positive tests vs.¬†treatments\n\n\n\n\n\n\nVar1\nVar2\nVar3\nFreq\n\n\n\n\n0\n0\n0\n3890\n\n\n1\n0\n0\n15\n\n\n2\n0\n0\n1\n\n\n95\n0\n0\n2\n\n\n98\n0\n0\n31\n\n\n0\n1\n0\n645\n\n\n1\n1\n0\n49\n\n\n2\n1\n0\n0\n\n\n95\n1\n0\n1\n\n\n98\n1\n0\n17\n\n\n0\n0\n1\n99\n\n\n1\n0\n1\n50\n\n\n2\n0\n1\n0\n\n\n95\n0\n1\n0\n\n\n98\n0\n1\n2\n\n\n0\n1\n1\n31\n\n\n1\n1\n1\n918\n\n\n2\n1\n1\n0\n\n\n95\n1\n1\n0\n\n\n98\n1\n1\n7\n\n\n\n\n\n\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      F0542, N = 591\n      F3366, N = 91\n      F4024, N = 61\n      F4056, N = 211\n      F4848, N = 1051\n      F5145, N = 71\n      F5560, N = 221\n      F5656, N = 131\n      F6552, N = 41\n      F6813, N = 211\n      F7327, N = 611\n      F7729, N = 281\n      F8195, N = 3201\n      F8379, N = 251\n      F8529, N = 411\n      F8793, N = 2881\n      F9109, N = 21\n    \n  \n  \n    DX_malaria\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    0\n2 (3.4%)\n3 (33%)\n0 (0%)\n0 (0%)\n34 (32%)\n2 (29%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n2 (3.3%)\n1 (3.6%)\n9 (2.8%)\n8 (32%)\n1 (2.4%)\n3 (1.0%)\n0 (0%)\n    1\n57 (97%)\n6 (67%)\n6 (100%)\n21 (100%)\n71 (68%)\n5 (71%)\n22 (100%)\n13 (100%)\n4 (100%)\n21 (100%)\n59 (97%)\n27 (96%)\n311 (97%)\n17 (68%)\n40 (98%)\n285 (99%)\n2 (100%)\n    RX_antimalarials\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    0\n4 (6.8%)\n4 (44%)\n2 (33%)\n0 (0%)\n1 (1.0%)\n2 (29%)\n1 (4.5%)\n2 (15%)\n2 (50%)\n0 (0%)\n4 (6.6%)\n2 (7.1%)\n32 (10%)\n2 (8.0%)\n1 (2.4%)\n5 (1.7%)\n0 (0%)\n    1\n55 (93%)\n5 (56%)\n4 (67%)\n21 (100%)\n104 (99%)\n5 (71%)\n21 (95%)\n11 (85%)\n2 (50%)\n21 (100%)\n57 (93%)\n26 (93%)\n288 (90%)\n23 (92%)\n40 (98%)\n283 (98%)\n2 (100%)\n  \n  \n  \n    \n      1 n (%)"
  },
  {
    "objectID": "malaria_case_study_02_report.html",
    "href": "malaria_case_study_02_report.html",
    "title": "17¬† üìô Malaria case study - Report #2",
    "section": "",
    "text": "In this section we will explore the impact of the presence of research staff observing consultations as part of a Service Provision Assessment (SPA) on RCT data.\n\n\n\n\n\n\nNote\n\n\n\nAdd sensitivity analysis definition\n\n\n\n\n\nThe data set used for this report is stored in dataset2.dta."
  },
  {
    "objectID": "malaria_case_study_02_report.html#descriptive-statistics",
    "href": "malaria_case_study_02_report.html#descriptive-statistics",
    "title": "17¬† üìô Malaria case study - Report #2",
    "section": "17.2 Descriptive statistics",
    "text": "17.2 Descriptive statistics\n\n17.2.1 Population characteristics\n\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      All, N = 10,3081\n      Observed, N = 6561\n      p-value2\n    \n  \n  \n    SDC_age_category\n\n\n0.4\n    <2 months\n597 (5.8%)\n40 (6.1%)\n\n    02-11 months\n3,576 (35%)\n206 (31%)\n\n    12-23 months\n2,947 (29%)\n209 (32%)\n\n    24-35 months\n1,529 (15%)\n96 (15%)\n\n    36-47 months\n980 (9.5%)\n67 (10%)\n\n    48-59 months\n679 (6.6%)\n38 (5.8%)\n\n    SDC_sex\n\n\n0.3\n    1\n5,229 (51%)\n318 (49%)\n\n    2\n5,075 (49%)\n337 (51%)\n\n    (Missing)\n4\n1\n\n    CLIN_fever\n\n\n>0.9\n    0\n3,068 (30%)\n193 (29%)\n\n    1\n7,225 (70%)\n462 (70%)\n\n    98\n15 (0.1%)\n1 (0.2%)\n\n    CLIN_fever_onset_category\n\n\n0.034\n    \n3,083 (30%)\n194 (30%)\n\n    <2 days\n1,998 (19%)\n157 (24%)\n\n    >= 7 days\n343 (3.3%)\n21 (3.2%)\n\n    2-3 days\n4,386 (43%)\n248 (38%)\n\n    4-6 days\n498 (4.8%)\n36 (5.5%)\n\n    CLIN_diarrhoea\n\n\n0.019\n    0\n7,982 (77%)\n477 (73%)\n\n    1\n2,306 (22%)\n178 (27%)\n\n    98\n20 (0.2%)\n1 (0.2%)\n\n    CLIN_cough\n\n\n0.055\n    0\n4,658 (45%)\n270 (41%)\n\n    1\n5,635 (55%)\n384 (59%)\n\n    98\n15 (0.1%)\n2 (0.3%)\n\n    RX_preconsult_antibiotics\n\n\n0.049\n    0\n8,573 (83%)\n565 (86%)\n\n    1\n1,735 (17%)\n91 (14%)\n\n    RX_preconsult_antimalarials\n\n\n0.6\n    0\n9,866 (96%)\n631 (96%)\n\n    1\n442 (4.3%)\n25 (3.8%)\n\n    CTX_district\n\n\n0.001\n    Kaliua\n2,429 (24%)\n149 (23%)\n\n    Sengerema\n2,703 (26%)\n214 (33%)\n\n    Tanga\n5,176 (50%)\n293 (45%)\n\n    CTX_area\n\n\n<0.001\n    rural\n4,088 (40%)\n309 (47%)\n\n    urban\n6,220 (60%)\n347 (53%)\n\n    CTX_facility_type\n\n\n<0.001\n    dispensary\n5,599 (54%)\n412 (63%)\n\n    health center\n4,709 (46%)\n244 (37%)\n\n  \n  \n  \n    \n      1 n (%)\n    \n    \n      2 Pearson's Chi-squared test; Fisher's exact test\n    \n  \n\n\n\n\n\n\n17.2.2 Clinical management\n\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      All, N = 10,3081\n      Observed, N = 6561\n      p-value2\n    \n  \n  \n    CALC_temperature_measured\n\n\n0.5\n    0\n9,271 (90%)\n595 (91%)\n\n    1\n1,037 (10%)\n61 (9.3%)\n\n    CALC_fever_measured\n\n\n0.6\n    0\n711 (69%)\n40 (66%)\n\n    1\n326 (31%)\n21 (34%)\n\n    (Missing)\n9,271\n595\n\n    CALC_fever_all\n\n\n>0.9\n    0\n3,056 (30%)\n193 (29%)\n\n    1\n7,252 (70%)\n463 (71%)\n\n    TEST_malaria_done\n5,763 (56%)\n367 (56%)\n>0.9\n    TEST_malaria_type\n\n\n0.4\n    1\n5,371 (93%)\n339 (92%)\n\n    2\n340 (5.9%)\n23 (6.3%)\n\n    95\n2 (<0.1%)\n0 (0%)\n\n    98\n45 (0.8%)\n5 (1.4%)\n\n    (Missing)\n4,550\n289\n\n    TEST_malaria_result\n\n\n0.5\n    0\n4,665 (81%)\n289 (79%)\n\n    1\n1,032 (18%)\n76 (21%)\n\n    2\n1 (<0.1%)\n0 (0%)\n\n    95\n3 (<0.1%)\n0 (0%)\n\n    98\n57 (1.0%)\n2 (0.5%)\n\n    (Missing)\n4,550\n289\n\n    DX_severe\n254 (2.5%)\n10 (1.5%)\n0.13\n    DX_malaria\n1,800 (17%)\n116 (18%)\n0.9\n    DX_malaria_severe\n148 (1.4%)\n6 (0.9%)\n0.3\n    RX_antimalarials\n1,290 (13%)\n114 (17%)\n<0.001\n    RX_antimalarial_parenteral\n249 (2.4%)\n29 (4.4%)\n0.002\n    RX_antibiotics\n5,430 (53%)\n351 (54%)\n0.7\n    MGMT_referral_src_caregiver\n\n\n0.2\n    0\n10,122 (98%)\n640 (98%)\n\n    1\n164 (1.6%)\n14 (2.1%)\n\n    97\n9 (<0.1%)\n2 (0.3%)\n\n    98\n13 (0.1%)\n0 (0%)\n\n    MGMT_referral_src_registry\n114 (1.1%)\n8 (1.2%)\n0.8\n  \n  \n  \n    \n      1 n (%)\n    \n    \n      2 Pearson's Chi-squared test; Fisher's exact test"
  },
  {
    "objectID": "malaria_case_study_02_report.html#from-fever-assessment-to-malaria-treatment",
    "href": "malaria_case_study_02_report.html#from-fever-assessment-to-malaria-treatment",
    "title": "17¬† üìô Malaria case study - Report #2",
    "section": "17.3 From fever assessment to malaria treatment",
    "text": "17.3 From fever assessment to malaria treatment\n\n17.3.1 RCT population\n\n\n\n\n\n\n\n\n\n\n17.3.2 SPA (sub)-population"
  },
  {
    "objectID": "malaria_case_study_03_report.html",
    "href": "malaria_case_study_03_report.html",
    "title": "18¬† üìô Malaria case study - Report #3",
    "section": "",
    "text": "Data are stored in dataset3.dta.\n\n\n\nExtract of the database\n\n\n\n\n\n\n\n\nRCT_child_ID\nRCT_CLIN_fever\nSPA_CLIN_fever_reported\nSPA_CLIN_fever_investigated\n\n\n\n\n1\n1\n1\nNA\n\n\n2\n1\n0\n0\n\n\n3\n1\n1\nNA\n\n\n4\n0\n0\n1\n\n\n5\n1\n1\nNA\n\n\n6\n0\n1\nNA\n\n\n7\n1\n1\nNA\n\n\n8\n0\n0\n1\n\n\n9\n1\n1\nNA\n\n\n10\n1\n1\nNA\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFever complaint (SPA)\nNo fever complaint (SPA)\n\n\n\n\nFever (RCT)\n327\n76\n\n\nNo fever (RCT)\n39\n144\n\n\nUnknown (RCT)\n0\n1\n\n\n\n\n\n\n\n\n\n\n\nFever (SPA)\nNo fever (SPA)\nUnknown (SPA)\n\n\n\n\nFever (RCT)\n332\n31\n40\n\n\nNo fever (RCT)\n40\n76\n67\n\n\nUnknown (RCT)\n0\n1\n0"
  },
  {
    "objectID": "big_data_and_artificial_intelligence.html",
    "href": "big_data_and_artificial_intelligence.html",
    "title": "19¬† üìö Big data and machine learning",
    "section": "",
    "text": "key dates and vocabular from the Artificial Intelligence community\nmachine learning vs.¬†statistics\ntrade-off between accuracy and generalisability"
  },
  {
    "objectID": "big_data_and_artificial_intelligence.html#big-data",
    "href": "big_data_and_artificial_intelligence.html#big-data",
    "title": "19¬† üìö Big data and machine learning",
    "section": "19.2 Big data",
    "text": "19.2 Big data\nBig data is a combination of structured, semistructured and unstructured data collected by organizations that can be mined for information and used in Big data refers to data sets that are too large or complex to be dealt with by traditional data-processing application software."
  },
  {
    "objectID": "big_data_and_artificial_intelligence.html#development-of-artificial-intelligence",
    "href": "big_data_and_artificial_intelligence.html#development-of-artificial-intelligence",
    "title": "19¬† üìö Big data and machine learning",
    "section": "19.3 Development of Artificial Intelligence",
    "text": "19.3 Development of Artificial Intelligence"
  },
  {
    "objectID": "big_data_and_artificial_intelligence.html#machine-learning-vs.-statistics",
    "href": "big_data_and_artificial_intelligence.html#machine-learning-vs.-statistics",
    "title": "19¬† üìö Big data and machine learning",
    "section": "19.4 Machine Learning vs.¬†Statistics",
    "text": "19.4 Machine Learning vs.¬†Statistics\n\nInferencePrediction"
  },
  {
    "objectID": "big_data_and_artificial_intelligence.html#learning-from-data-accuracy-or-generalizability",
    "href": "big_data_and_artificial_intelligence.html#learning-from-data-accuracy-or-generalizability",
    "title": "19¬† üìö Big data and machine learning",
    "section": "19.5 Learning From Data: Accuracy or Generalizability?",
    "text": "19.5 Learning From Data: Accuracy or Generalizability?\n\n\n19.5.1 Train / test split\nWe can split the original data into a training set and a testing set."
  },
  {
    "objectID": "ds4ph_day3_session01_practical_session.html",
    "href": "ds4ph_day3_session01_practical_session.html",
    "title": "20¬† üìô Practical",
    "section": "",
    "text": "This tutorial is adapted from the excellent Machine learning in Python with scikit-learn"
  },
  {
    "objectID": "ds4ph_day3_session01_practical_session.html#question",
    "href": "ds4ph_day3_session01_practical_session.html#question",
    "title": "20¬† üìô Practical",
    "section": "20.2 Question",
    "text": "20.2 Question\nWe are interested in predicting referral in children under 5 based on two of the clinical measurements at the consultation:\n\nage in months and\nparam2.\n\n\n```{r}\nlibrary(tidyverse) # includes dplyr and tibble\nlibrary(skimr)\nlibrary(ggplot2)\nlibrary(DataExplorer)\n```"
  },
  {
    "objectID": "ds4ph_day3_session01_practical_session.html#load-the-data",
    "href": "ds4ph_day3_session01_practical_session.html#load-the-data",
    "title": "20¬† üìô Practical",
    "section": "20.3 Load the data",
    "text": "20.3 Load the data\nThe dataset is stored in dataset1.dta.\nRead the dataset and store it into a dataframe called df.\nLet‚Äôs first load the entire adult dataset containing both numerical and categorical data.\n\n```{r}\ndf <- openxlsx::read.xlsx(\"./data/dataset3.xlsx\")\n```"
  },
  {
    "objectID": "ds4ph_day3_session01_practical_session.html#data-exploration",
    "href": "ds4ph_day3_session01_practical_session.html#data-exploration",
    "title": "20¬† üìô Practical",
    "section": "20.4 Data exploration",
    "text": "20.4 Data exploration\nWe want to do some data exploration to get an initial understanding of the data. Before building a predictive model, it is always a good idea to look at the data:\n\nmaybe the task you are trying to achieve can be solved without machine learning;\nyou need to check that the information you need for your task is actually present in the dataset;\ninspecting the data is a good way to find peculiarities. These can arise during data collection (for example, malfunctioning sensor or missing values), or from the way the data is processed afterwards (for example capped values).\n\n\n20.4.1 Variables / features\n\n‚úèÔ∏è Exercise 1R\n\n\nExamine the structure of the data, including variable names, labels.\n\nHow many variables are numerical?\nHow many features are categorical?\n\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the codebook command\nR: use the skim function from the skimr package\n\n\n\nDisplay the variables/features child_id, test and test for the 10 first observations/samples in the data.\n\n\n\n\n\n\nTip\n\n\n\n\nStata hint: use the the combination of describe and list command to inspect the data\nR hint: you need to load the dplyr library to use piping\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\ndf %>%\n  skimr::skim()\n```\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n587\n\n\nNumber of columns\n51\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n6\n\n\nnumeric\n45\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nRCT_CTX_district\n0\n1.00\n5\n9\n0\n3\n0\n\n\nRCT_CTX_facility_ID\n0\n1.00\n5\n5\n0\n18\n0\n\n\nRCT_CTX_area\n0\n1.00\n5\n5\n0\n2\n0\n\n\nRCT_CTX_facility_type\n0\n1.00\n10\n13\n0\n2\n0\n\n\nRCT_RX_free_text\n454\n0.23\n6\n177\n0\n109\n0\n\n\nSPA_CTX_provider_ID\n0\n1.00\n3\n3\n0\n4\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nRCT_child_ID\n0\n1.00\n294.00\n169.60\n1.0\n147.5\n294\n440.5\n587\n‚ñá‚ñá‚ñá‚ñá‚ñá\n\n\nRCT_CTX_month\n0\n1.00\n8.64\n0.53\n7.0\n8.0\n9\n9.0\n11\n‚ñÅ‚ñÖ‚ñá‚ñÅ‚ñÅ\n\n\nRCT_CTX_day_of_week\n0\n1.00\n1.95\n1.37\n0.0\n1.0\n2\n3.0\n4\n‚ñÜ‚ñá‚ñá‚ñá‚ñÜ\n\n\nRCT_SDC_sex\n1\n1.00\n1.51\n0.50\n1.0\n1.0\n2\n2.0\n2\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nRCT_SDC_age_in_months\n0\n1.00\n18.74\n14.46\n0.0\n8.0\n15\n26.0\n59\n‚ñá‚ñá‚ñÉ‚ñÇ‚ñÅ\n\n\nRCT_CLIN_fever\n0\n1.00\n0.85\n4.04\n0.0\n0.0\n1\n1.0\n98\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_CLIN_fever_onset\n184\n0.69\n2.37\n1.97\n1.0\n1.0\n2\n3.0\n14\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_CLIN_cough\n0\n1.00\n0.91\n5.70\n0.0\n0.0\n1\n1.0\n98\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_CLIN_diarrhoea\n0\n1.00\n0.42\n4.06\n0.0\n0.0\n0\n1.0\n98\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_MEAS_temperature\n549\n0.06\n37.11\n1.34\n34.5\n36.5\n37\n37.5\n40\n‚ñÉ‚ñá‚ñá‚ñÉ‚ñÇ\n\n\nRCT_TEST_malaria_done\n0\n1.00\n0.55\n0.50\n0.0\n0.0\n1\n1.0\n1\n‚ñÜ‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nRCT_TEST_malaria_type\n266\n0.55\n2.58\n12.02\n1.0\n1.0\n1\n1.0\n98\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_TEST_malaria_result\n266\n0.55\n0.81\n7.72\n0.0\n0.0\n0\n0.0\n98\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_DX_malaria\n0\n1.00\n0.15\n0.36\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÇ\n\n\nRCT_DX_malaria_severe\n0\n1.00\n0.01\n0.09\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_DX_count_non_malaria\n0\n1.00\n1.01\n0.75\n0.0\n1.0\n1\n1.0\n4\n‚ñÉ‚ñá‚ñÇ‚ñÅ‚ñÅ\n\n\nRCT_DX_severe\n0\n1.00\n0.02\n0.12\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_RX_preconsult_antibiotics\n0\n1.00\n0.13\n0.34\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_RX_preconsult_antimalarials\n0\n1.00\n0.03\n0.18\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_RX_antimalarials\n0\n1.00\n0.15\n0.36\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÇ\n\n\nRCT_RX_antimalarial_parenteral\n0\n1.00\n0.04\n0.20\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_RX_ACT\n0\n1.00\n0.01\n0.07\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_RX_AL\n0\n1.00\n0.14\n0.35\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÇ\n\n\nRCT_RX_artemether\n0\n1.00\n0.01\n0.07\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_RX_artesunate\n0\n1.00\n0.04\n0.19\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_RX_primaquine\n0\n1.00\n0.00\n0.00\n0.0\n0.0\n0\n0.0\n0\n‚ñÅ‚ñÅ‚ñá‚ñÅ‚ñÅ\n\n\nRCT_RX_quinine\n0\n1.00\n0.00\n0.00\n0.0\n0.0\n0\n0.0\n0\n‚ñÅ‚ñÅ‚ñá‚ñÅ‚ñÅ\n\n\nRCT_RX_antibiotics\n0\n1.00\n0.52\n0.50\n0.0\n0.0\n1\n1.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nRCT_RX_antibiotics_src_text\n0\n1.00\n0.03\n0.17\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_RX_count_other\n0\n1.00\n1.40\n0.93\n0.0\n1.0\n1\n2.0\n11\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_MGMT_referral_src_caregiver\n0\n1.00\n0.35\n5.66\n0.0\n0.0\n0\n0.0\n97\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_MGMT_referral_src_registry\n0\n1.00\n0.01\n0.11\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_CTX_SPA_obs\n0\n1.00\n1.00\n0.00\n1.0\n1.0\n1\n1.0\n1\n‚ñÅ‚ñÅ‚ñá‚ñÅ‚ñÅ\n\n\nRCT_CTX_SPA_obs_after_lab\n0\n1.00\n0.00\n0.04\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nSPA_CLIN_fever_reported\n0\n1.00\n0.62\n0.48\n0.0\n0.0\n1\n1.0\n1\n‚ñÖ‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nSPA_CLIN_fever_investigated\n366\n0.38\n0.52\n0.50\n0.0\n0.0\n1\n1.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nSPA_CLIN_fever\n473\n0.19\n0.05\n0.22\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nSPA_CLIN_fever_onset\n283\n0.52\n2.42\n1.15\n1.0\n2.0\n2\n3.0\n8\n‚ñá‚ñÖ‚ñÇ‚ñÅ‚ñÅ\n\n\nSPA_MEAS_temperature_done\n0\n1.00\n0.30\n0.46\n0.0\n0.0\n0\n1.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÉ\n\n\nSPA_MGMT_admission\n0\n1.00\n0.01\n0.08\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nSPA_MGMT_referral_other_facility\n0\n1.00\n0.02\n0.12\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nSPA_MGMT_referral_other_provider\n0\n1.00\n0.01\n0.07\n0.0\n0.0\n0\n0.0\n1\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nSPA_RX_count\n0\n1.00\n2.17\n1.03\n1.0\n1.0\n2\n3.0\n7\n‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ\n\n\nSPA_TEST_malaria_ordered\n0\n1.00\n0.55\n0.50\n0.0\n0.0\n1\n1.0\n1\n‚ñÜ‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nSPA_RX_prereferral\n587\n0.00\nNaN\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n\n\n\n\n\n```{r}\ndf <- df %>%\n  tibble::remove_rownames() %>%\n  tibble::column_to_rownames(var=\"RCT_child_ID\") %>% \n  dplyr::mutate(across(c(RCT_CTX_month,\n                         RCT_CTX_day_of_week,\n                         RCT_SDC_sex, \n                         RCT_CLIN_fever,\n                         RCT_CLIN_cough,\n                         RCT_CLIN_diarrhoea,\n                         RCT_RX_preconsult_antibiotics,\n                         RCT_RX_preconsult_antimalarials,\n                         RCT_CTX_district,\n                         RCT_CTX_area,\n                         RCT_CTX_facility_type,\n                         RCT_TEST_malaria_done,\n                         RCT_TEST_malaria_type,\n                         RCT_TEST_malaria_result,\n                         RCT_DX_malaria,\n                         RCT_DX_malaria_severe,\n                         SPA_CLIN_fever_reported,\n                         SPA_CLIN_fever_investigated,\n                         SPA_CLIN_fever,\n                         RCT_DX_severe,\n                         RCT_RX_antimalarials,\n                         RCT_RX_antimalarial_parenteral,\n                         RCT_RX_ACT,\n                         RCT_RX_AL,\n                         RCT_RX_artemether,\n                         RCT_RX_artesunate,\n                         RCT_RX_primaquine,\n                         RCT_RX_quinine,\n                         RCT_RX_antibiotics,\n                         RCT_RX_antibiotics_src_text,\n                         RCT_MGMT_referral_src_caregiver,\n                         RCT_MGMT_referral_src_registry,\n                         RCT_CTX_SPA_obs,\n                         RCT_CTX_SPA_obs_after_lab,\n                         SPA_MEAS_temperature_done,\n                         SPA_MGMT_admission,\n                         SPA_MGMT_referral_other_facility,\n                         SPA_MGMT_referral_other_provider,\n                         SPA_TEST_malaria_ordered,\n                         SPA_RX_prereferral),\n                       factor))\n```\n\n\n```{r}\ndf %>%\n  skimr::skim()\n```\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n587\n\n\nNumber of columns\n50\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n3\n\n\nfactor\n40\n\n\nnumeric\n7\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nRCT_CTX_facility_ID\n0\n1.00\n5\n5\n0\n18\n0\n\n\nRCT_RX_free_text\n454\n0.23\n6\n177\n0\n109\n0\n\n\nSPA_CTX_provider_ID\n0\n1.00\n3\n3\n0\n4\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nRCT_CTX_month\n0\n1.00\nFALSE\n5\n9: 360, 8: 219, 10: 4, 11: 3\n\n\nRCT_CTX_day_of_week\n0\n1.00\nFALSE\n5\n1: 138, 2: 119, 3: 118, 0: 108\n\n\nRCT_CTX_district\n0\n1.00\nFALSE\n3\nTan: 288, Sen: 179, Kal: 120\n\n\nRCT_CTX_area\n0\n1.00\nFALSE\n2\nurb: 342, rur: 245\n\n\nRCT_CTX_facility_type\n0\n1.00\nFALSE\n2\ndis: 386, hea: 201\n\n\nRCT_SDC_sex\n1\n1.00\nFALSE\n2\n2: 300, 1: 286\n\n\nRCT_CLIN_fever\n0\n1.00\nFALSE\n3\n1: 403, 0: 183, 98: 1\n\n\nRCT_CLIN_cough\n0\n1.00\nFALSE\n3\n1: 340, 0: 245, 98: 2\n\n\nRCT_CLIN_diarrhoea\n0\n1.00\nFALSE\n3\n0: 437, 1: 149, 98: 1\n\n\nRCT_TEST_malaria_done\n0\n1.00\nFALSE\n2\n1: 321, 0: 266\n\n\nRCT_TEST_malaria_type\n266\n0.55\nFALSE\n3\n1: 295, 2: 21, 98: 5\n\n\nRCT_TEST_malaria_result\n266\n0.55\nFALSE\n3\n0: 254, 1: 65, 98: 2\n\n\nRCT_DX_malaria\n0\n1.00\nFALSE\n2\n0: 497, 1: 90\n\n\nRCT_DX_malaria_severe\n0\n1.00\nFALSE\n2\n0: 582, 1: 5\n\n\nRCT_DX_severe\n0\n1.00\nFALSE\n2\n0: 578, 1: 9\n\n\nRCT_RX_preconsult_antibiotics\n0\n1.00\nFALSE\n2\n0: 510, 1: 77\n\n\nRCT_RX_preconsult_antimalarials\n0\n1.00\nFALSE\n2\n0: 568, 1: 19\n\n\nRCT_RX_antimalarials\n0\n1.00\nFALSE\n2\n0: 497, 1: 90\n\n\nRCT_RX_antimalarial_parenteral\n0\n1.00\nFALSE\n2\n0: 563, 1: 24\n\n\nRCT_RX_ACT\n0\n1.00\nFALSE\n2\n0: 584, 1: 3\n\n\nRCT_RX_AL\n0\n1.00\nFALSE\n2\n0: 502, 1: 85\n\n\nRCT_RX_artemether\n0\n1.00\nFALSE\n2\n0: 584, 1: 3\n\n\nRCT_RX_artesunate\n0\n1.00\nFALSE\n2\n0: 564, 1: 23\n\n\nRCT_RX_primaquine\n0\n1.00\nFALSE\n1\n0: 587\n\n\nRCT_RX_quinine\n0\n1.00\nFALSE\n1\n0: 587\n\n\nRCT_RX_antibiotics\n0\n1.00\nFALSE\n2\n1: 308, 0: 279\n\n\nRCT_RX_antibiotics_src_text\n0\n1.00\nFALSE\n2\n0: 569, 1: 18\n\n\nRCT_MGMT_referral_src_caregiver\n0\n1.00\nFALSE\n3\n0: 572, 1: 13, 97: 2\n\n\nRCT_MGMT_referral_src_registry\n0\n1.00\nFALSE\n2\n0: 580, 1: 7\n\n\nRCT_CTX_SPA_obs\n0\n1.00\nFALSE\n1\n1: 587\n\n\nRCT_CTX_SPA_obs_after_lab\n0\n1.00\nFALSE\n2\n0: 586, 1: 1\n\n\nSPA_CLIN_fever_reported\n0\n1.00\nFALSE\n2\n1: 366, 0: 221\n\n\nSPA_CLIN_fever_investigated\n366\n0.38\nFALSE\n2\n1: 114, 0: 107\n\n\nSPA_CLIN_fever\n473\n0.19\nFALSE\n2\n0: 108, 1: 6\n\n\nSPA_MEAS_temperature_done\n0\n1.00\nFALSE\n2\n0: 413, 1: 174\n\n\nSPA_MGMT_admission\n0\n1.00\nFALSE\n2\n0: 583, 1: 4\n\n\nSPA_MGMT_referral_other_facility\n0\n1.00\nFALSE\n2\n0: 578, 1: 9\n\n\nSPA_MGMT_referral_other_provider\n0\n1.00\nFALSE\n2\n0: 584, 1: 3\n\n\nSPA_TEST_malaria_ordered\n0\n1.00\nFALSE\n2\n1: 323, 0: 264\n\n\nSPA_RX_prereferral\n587\n0.00\nFALSE\n0\n:\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nRCT_SDC_age_in_months\n0\n1.00\n18.74\n14.46\n0.0\n8.0\n15\n26.0\n59\n‚ñá‚ñá‚ñÉ‚ñÇ‚ñÅ\n\n\nRCT_CLIN_fever_onset\n184\n0.69\n2.37\n1.97\n1.0\n1.0\n2\n3.0\n14\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRCT_MEAS_temperature\n549\n0.06\n37.11\n1.34\n34.5\n36.5\n37\n37.5\n40\n‚ñÉ‚ñá‚ñá‚ñÉ‚ñÇ\n\n\nRCT_DX_count_non_malaria\n0\n1.00\n1.01\n0.75\n0.0\n1.0\n1\n1.0\n4\n‚ñÉ‚ñá‚ñÇ‚ñÅ‚ñÅ\n\n\nRCT_RX_count_other\n0\n1.00\n1.40\n0.93\n0.0\n1.0\n1\n2.0\n11\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nSPA_CLIN_fever_onset\n283\n0.52\n2.42\n1.15\n1.0\n2.0\n2\n3.0\n8\n‚ñá‚ñÖ‚ñÇ‚ñÅ‚ñÅ\n\n\nSPA_RX_count\n0\n1.00\n2.17\n1.03\n1.0\n1.0\n2\n3.0\n7\n‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ\n\n\n\n\n\n\n\n\nNumerical variables can be naturally handled by machine learning algorithms that are typically composed of a sequence of arithmetic instructions such as additions and multiplications.\n\nDataExplorer::plot_missing(df,\n                           geom_label_args = list(size = 2, label.padding = unit(0.2, \"lines\")))\n\n\n\n\n\nDataExplorer::plot_bar(df %>% \n                         dplyr::select(-RCT_CTX_facility_ID),\n                       by = \"RCT_CTX_district\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n20.4.2 Target classes\n\n‚úèÔ∏è Exercise 1R\n\n\nWhat are the different antibiotic treatment classes available in the dataset and how many observations/samples of each types are there?\n\n\n\n\n\n\nTip\n\n\n\n\nPython: select the right column and use the value_counts method.\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\ndf %>%\n  skimr::skim(RCT_CTX_facility_ID)\n```\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n587\n\n\nNumber of columns\n50\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nRCT_CTX_facility_ID\n0\n1\n5\n5\n0\n18\n0"
  },
  {
    "objectID": "ds4ph_day3_session01_practical_session.html#variablefeature-distribution",
    "href": "ds4ph_day3_session01_practical_session.html#variablefeature-distribution",
    "title": "20¬† üìô Practical",
    "section": "20.5 Variable/feature distribution",
    "text": "20.5 Variable/feature distribution\nLet‚Äôs look at the distribution of individual features, to get some insights about the data. We can start by plotting histograms, note that this only works for features containing numerical values.\n\n‚úèÔ∏è Exercise 2R\n\n\nPlot histograms for the numerical variables/features\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\nDataExplorer::plot_histogram(df)\n\n\n\n\n\n\n\n\n‚úèÔ∏è Exercise 3R\n\n\nShow variable/feature distribution for each class.\nLooking at these distributions, how difficult do you think it will be to classify the sick children using the param1 and param2 variables/features?\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n#dummy <- caret::dummyVars(\" ~ .\", data=df)\n\n\nggplot2::ggplot(data = df, aes(x = RCT_SDC_age_in_months, fill = RCT_TEST_malaria_done)) +\n  geom_histogram(binwidth = 1, alpha = 0.5, position = \"identity\") +\n  theme_minimal()\n\n\n\n\n\nggplot2::ggplot(data = df, aes(x = RCT_CLIN_fever_onset, fill = RCT_TEST_malaria_done)) +\n  geom_histogram(binwidth = 1, alpha = 0.5, position = \"identity\") +\n  theme_minimal()\n\n\n\n\n\nggplot2::ggplot(data = df, aes(x = RCT_CLIN_fever_onset, fill = RCT_TEST_malaria_done)) +\n  geom_histogram(binwidth = 1, alpha = 0.5, position = \"identity\") +\n  theme_minimal()\n\n\n\n\n\nggplot2::ggplot(data = df, aes(x = RCT_MEAS_temperature, fill = RCT_TEST_malaria_done)) +\n  geom_histogram(binwidth = 0.5, alpha = 0.5, position = \"identity\") +\n  theme_minimal()\n\n\n\n\n\n\n\nThe score of a model will in general depend on the way we make the training / test split. One downside of doing a single split is that it does not give any information about this variability. Another downside, in a setting where the amount of data is small, is that the data available for training and testing will be even smaller after splitting."
  },
  {
    "objectID": "cross_validation.html",
    "href": "cross_validation.html",
    "title": "21¬† Cross-validation",
    "section": "",
    "text": "Generalization performance metrics are collected for each repetition and then aggregated. As a result we can assess the variability of our measure of the model‚Äôs generalization performance.\nNote that there exists several cross-validation strategies, each of them defines how to repeat the fit/score procedure. In this section, we will use the K-fold strategy: the entire dataset is split into K partitions. The fit/score procedure is repeated K times where at each iteration K - 1 partitions are used to fit the model and 1 partition is used to score.\n\n\n\nK-fold strategy\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis figure shows the particular case of K-fold cross-validation strategy. For each cross-validation split, the procedure trains a clone of model on all the red samples and evaluate the score of the model on the blue samples. As mentioned earlier, there is a variety of different cross-validation strategies. Some of these aspects will be covered in more detail in future notebooks.\n\n\nCross-validation is therefore computationally intensive because it requires training several models instead of one.\nQuestion\nCross-validation allows us to:\na) train the model faster\n\nb) measure the generalization performance of the model\n\nc) reach better generalization performance\n\nd) estimate the variability of the generalization score\nSelect all answers that apply"
  },
  {
    "objectID": "categorical_data_encoding.html",
    "href": "categorical_data_encoding.html",
    "title": "22¬† Strategies to encode categorical data",
    "section": "",
    "text": "In this notebook, we will present typical ways of dealing with categorical variables by encoding them, namely ordinal encoding and one-hot encoding.\n\n\n\n\nseen two common strategies for encoding categorical features: ordinal encoding and one-hot encoding;\nused a pipeline to use a one-hot encoder before fitting a logistic regression.\n\n\n```{r}\nlibrary(dplyr)\nlibrary(skimr)\n```\n\n\n\n\nLet‚Äôs first load the entire adult dataset containing both numerical and categorical data.\n\n```{r}\ndf <- openxlsx::read.xlsx(\"./data/dataset2.xlsx\")\n```\n\n\n‚úèÔ∏è Exercise 1R\n\n\nExamine the structure of the data, including variable names, labels.\n\n\n\n\n\n\nTip\n\n\n\n\nStata: use the codebook command\nR: use the skim function from the skimr package\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\ndf %>%\n  skimr::skim()\n```\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n10308\n\n\nNumber of columns\n39\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n5\n\n\nnumeric\n34\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nCTX_district\n0\n1.0\n5\n9\n0\n3\n0\n\n\nCTX_facility_ID\n0\n1.0\n5\n5\n0\n18\n0\n\n\nCTX_area\n0\n1.0\n5\n5\n0\n2\n0\n\n\nCTX_facility_type\n0\n1.0\n10\n13\n0\n2\n0\n\n\nRX_free_text\n9279\n0.1\n3\n220\n0\n729\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nchild_ID\n0\n1.00\n5154.50\n2975.81\n1.0\n2577.75\n5154.5\n7731.25\n10308.0\n‚ñá‚ñá‚ñá‚ñá‚ñá\n\n\nCTX_month\n0\n1.00\n9.81\n1.28\n7.0\n9.00\n10.0\n11.00\n12.0\n‚ñÜ‚ñá‚ñá‚ñá‚ñÉ\n\n\nCTX_day_of_week\n0\n1.00\n1.88\n1.47\n0.0\n0.00\n2.0\n3.00\n6.0\n‚ñá‚ñÉ‚ñÉ‚ñÉ‚ñÅ\n\n\nSDC_sex\n4\n1.00\n1.49\n0.50\n1.0\n1.00\n1.0\n2.00\n2.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nSDC_age_in_months\n0\n1.00\n18.75\n14.90\n0.0\n7.00\n15.0\n27.00\n59.0\n‚ñá‚ñÜ‚ñÉ‚ñÇ‚ñÅ\n\n\nCLIN_fever\n0\n1.00\n0.84\n3.74\n0.0\n0.00\n1.0\n1.00\n98.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nCLIN_fever_onset\n3083\n0.70\n2.50\n1.93\n0.0\n1.00\n2.0\n3.00\n14.0\n‚ñá‚ñÖ‚ñÅ‚ñÅ‚ñÅ\n\n\nCLIN_cough\n0\n1.00\n0.69\n3.75\n0.0\n0.00\n1.0\n1.00\n98.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nCLIN_diarrhoea\n0\n1.00\n0.41\n4.32\n0.0\n0.00\n0.0\n0.00\n98.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nMEAS_temperature\n9271\n0.10\n37.08\n0.98\n34.5\n36.50\n37.0\n37.50\n42.5\n‚ñÉ‚ñá‚ñÉ‚ñÅ‚ñÅ\n\n\nTEST_malaria_done\n0\n1.00\n0.56\n0.50\n0.0\n0.00\n1.0\n1.00\n1.0\n‚ñÜ‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nTEST_malaria_type\n4550\n0.56\n1.85\n8.72\n1.0\n1.00\n1.0\n1.00\n98.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nTEST_malaria_result\n4550\n0.56\n1.20\n9.93\n0.0\n0.00\n0.0\n0.00\n98.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nDX_malaria\n0\n1.00\n0.17\n0.38\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÇ\n\n\nDX_malaria_severe\n0\n1.00\n0.01\n0.12\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nDX_count_non_malaria\n0\n1.00\n0.84\n0.71\n0.0\n0.00\n1.0\n1.00\n5.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nDX_severe\n0\n1.00\n0.02\n0.16\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_preconsult_antibiotics\n0\n1.00\n0.17\n0.37\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÇ\n\n\nRX_preconsult_antimalarials\n0\n1.00\n0.04\n0.20\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_antimalarials\n0\n1.00\n0.13\n0.33\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_antimalarial_parenteral\n0\n1.00\n0.02\n0.15\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_ACT\n0\n1.00\n0.01\n0.08\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_AL\n0\n1.00\n0.12\n0.32\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_artemether\n0\n1.00\n0.01\n0.08\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_artesunate\n0\n1.00\n0.02\n0.15\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_primaquine\n0\n1.00\n0.00\n0.05\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_quinine\n0\n1.00\n0.01\n0.08\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_antibiotics\n0\n1.00\n0.53\n0.50\n0.0\n0.00\n1.0\n1.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\nRX_antibiotics_src_text\n0\n1.00\n0.01\n0.10\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nRX_count_other\n0\n1.00\n1.49\n1.30\n0.0\n1.00\n1.0\n2.00\n16.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nMGMT_referral_src_caregiver\n0\n1.00\n0.22\n4.50\n0.0\n0.00\n0.0\n0.00\n98.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nMGMT_referral_src_registry\n0\n1.00\n0.01\n0.10\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nCTX_SPA_obs\n0\n1.00\n0.06\n0.23\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\nCTX_SPA_obs_after_lab\n0\n1.00\n0.01\n0.08\n0.0\n0.00\n0.0\n0.00\n1.0\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ\n\n\n\n\n\n\n\n\n\n\n\nThe most intuitive strategy is to encode each category with a different number. The OrdinalEncoder will transform the data in such manner. We will start by encoding a single column to understand how the encoding works. We see that each category in ‚Äúeducation‚Äù has been replaced by a numeric value. We could check the mapping between the categories and the numerical values by checking the fitted attribute categories_.\nNow, we can check the encoding applied on all categorical features.\nWe see that the categories have been encoded for each feature (column) independently. We also note that the number of features before and after the encoding is the same.\nHowever, be careful when applying this encoding strategy: using this integer representation leads downstream predictive models to assume that the values are ordered (0 < 1 < 2 < 3‚Ä¶ for instance).\nBy default, OrdinalEncoder uses a lexicographical strategy to map string category labels to integers. This strategy is arbitrary and often meaningless. For instance, suppose the dataset has a categorical variable named ‚Äúsize‚Äù with categories such as ‚ÄúS‚Äù, ‚ÄúM‚Äù, ‚ÄúL‚Äù, ‚ÄúXL‚Äù. We would like the integer representation to respect the meaning of the sizes by mapping them to increasing integers such as 0, 1, 2, 3. However, the lexicographical strategy used by default would map the labels ‚ÄúS‚Äù, ‚ÄúM‚Äù, ‚ÄúL‚Äù, ‚ÄúXL‚Äù to 2, 1, 0, 3, by following the alphabetical order.\nThe OrdinalEncoder class accepts a categories constructor argument to pass categories in the expected ordering explicitly. You can find more information in the scikit-learn documentation if needed.\nIf a categorical variable does not carry any meaningful order information then this encoding might be misleading to downstream statistical models and you might consider using one-hot encoding instead (see below).\n\n\n\nOneHotEncoder is an alternative encoder that prevents the downstream models to make a false assumption about the ordering of categories. For a given feature, it will create as many new columns as there are possible categories. For a given sample, the value of the column corresponding to the category will be set to 1 while all the columns of the other categories will be set to 0.\nWe will start by encoding a single feature (e.g.¬†‚Äúeducation‚Äù) to illustrate how the encoding works.\nSparse matrices are efficient data structures when most of your matrix elements are zero. They won‚Äôt be covered in detail in this course. If you want more details about them, you can look at this. (https://scipy-lectures.org/advanced/scipy_sparse/introduction.html#why-sparse-matrices)\nWe see that encoding a single feature will give a NumPy array full of zeros and ones. We can get a better understanding using the associated feature names resulting from the transformation.\nThe number of features after the encoding is more than 10 times larger than in the original data because some variables such as occupation and native-country have many possible categories.\n\n\n\nChoosing an encoding strategy will depend on the underlying models and the type of categories (i.e.¬†ordinal vs.¬†nominal).\nNote\nIn general OneHotEncoder is the encoding strategy used when the downstream models are linear models while OrdinalEncoder is often a good strategy with tree-based models.\nUsing an OrdinalEncoder will output ordinal categories. This means that there is an order in the resulting categories (e.g.¬†0 < 1 < 2). The impact of violating this ordering assumption is really dependent on the downstream models. Linear models will be impacted by misordered categories while tree-based models will not.\nYou can still use an OrdinalEncoder with linear models but you need to be sure that:\nthe original categories (before encoding) have an ordering;\nthe encoded categories follow the same ordering than the original categories. The next exercise highlights the issue of misusing OrdinalEncoder with a linear model.\nOne-hot encoding categorical variables with high cardinality can cause computational inefficiency in tree-based models. Because of this, it is not recommended to use OneHotEncoder in such cases even if the original categories do not have a given order. We will show this in the final exercise of this sequence. Evaluate our predictive pipeline\nWe can now integrate this encoder inside a machine learning pipeline like we did with numerical data: let‚Äôs train a linear classifier on the encoded data and check the generalization performance of this machine learning pipeline using cross-validation.\nBefore we create the pipeline, we have to linger on the native-country. Let‚Äôs recall some statistics regarding this column.\nWe see that the Holand-Netherlands category is occurring rarely. This will be a problem during cross-validation: if the sample ends up in the test set during splitting then the classifier would not have seen the category during training and will not be able to encode it.\nIn scikit-learn, there are two solutions to bypass this issue:\nlist all the possible categories and provide it to the encoder via the keyword argument categories;\n\nuse the parameter handle_unknown, i.e. if an unknown category is encountered during transform, the resulting one-hot encoded columns for this feature will be all zeros.\nHere, we will use the latter solution for simplicity.\nTip\nBe aware the OrdinalEncoder exposes as well a parameter handle_unknown. It can be set to use_encoded_value. If that option is chosen, you can define a fixed value to which all unknowns will be set to during transform. For example, OrdinalEncoder(handle_unknown=‚Äòuse_encoded_value‚Äô, unknown_value=42) will set all values encountered during transform to 42 which are not part of the data encountered during the fit call. You are going to use these parameters in the next exercise.\nWe can now create our machine learning pipeline.\nfrom sklearn.pipeline import make_pipeline from sklearn.linear_model import LogisticRegression\nmodel = make_pipeline( OneHotEncoder(handle_unknown=‚Äúignore‚Äù), LogisticRegression(max_iter=500) )\nNote\nHere, we need to increase the maximum number of iterations to obtain a fully converged LogisticRegression and silence a ConvergenceWarning. Contrary to the numerical features, the one-hot encoded categorical features are all on the same scale (values are 0 or 1), so they would not benefit from scaling. In this case, increasing max_iter is the right thing to do.\nFinally, we can check the model‚Äôs generalization performance only using the categorical columns.\nfrom sklearn.model_selection import cross_validate cv_results = cross_validate(model, data_categorical, target) cv_results\n{‚Äòfit_time‚Äô: array([0.7378273 , 0.65593696, 0.66958189, 0.66641235, 0.65688396]), ‚Äòscore_time‚Äô: array([0.02962923, 0.02977753, 0.02971697, 0.03134513, 0.02978778]), ‚Äòtest_score‚Äô: array([0.83222438, 0.83560242, 0.82872645, 0.83312858, 0.83466421])}\nscores = cv_results[‚Äútest_score‚Äù] print(f‚ÄùThe accuracy is: {scores.mean():.3f} ¬± {scores.std():.3f}‚Äú)\nThe accuracy is: 0.833 ¬± 0.002\nAs you can see, this representation of the categorical variables is slightly more predictive of the revenue than the numerical variables that we used previously."
  },
  {
    "objectID": "ds4ph_day3_session02_practical_session.html",
    "href": "ds4ph_day3_session02_practical_session.html",
    "title": "23¬† Data Science for Public Health - Day 3 - Session 2",
    "section": "",
    "text": "In this notebook, we present how to build predictive models on tabular datasets, with only numerical features.\nIn particular we will highlight:\nthe scikit-learn API: .fit(X, y)/.predict(X)/.score(X, y);\n\nhow to evaluate the generalization performance of a model with a train-test split.\nLoading the dataset with Pandas\nWe will use the same dataset ‚Äúadult_census‚Äù described in the previous notebook. For more details about the dataset see http://www.openml.org/d/1590.\nNumerical data is the most natural type of data used in machine learning and can (almost) directly be fed into predictive models. We will load a subset of the original data with only the numerical columns.\nimport pandas as pd\nadult_census = pd.read_csv(‚Äú../datasets/adult-census-numeric.csv‚Äù)\nLet‚Äôs have a look at the first records of this dataframe:\nadult_census.head()\nage     capital-gain    capital-loss    hours-per-week  class\n0 41 0 0 92 <=50K 1 48 0 0 40 <=50K 2 60 0 0 25 <=50K 3 37 0 0 45 <=50K 4 73 3273 0 40 <=50K\nWe see that this CSV file contains all information: the target that we would like to predict (i.e.¬†‚Äúclass‚Äù) and the data that we want to use to train our predictive model (i.e.¬†the remaining columns). The first step is to separate columns to get on one side the target and on the other side the data. Separate the data and the target\ntarget_name = ‚Äúclass‚Äù target = adult_census[target_name] target\n0 <=50K 1 <=50K 2 <=50K 3 <=50K 4 <=50K ‚Ä¶\n39068 <=50K 39069 <=50K 39070 >50K 39071 <=50K 39072 >50K Name: class, Length: 39073, dtype: object\ndata = adult_census.drop(columns=[target_name, ]) data.head()\nage     capital-gain    capital-loss    hours-per-week\n0 41 0 0 92 1 48 0 0 40 2 60 0 0 25 3 37 0 0 45 4 73 3273 0 40\nWe can now linger on the variables, also denominated features, that we will use to build our predictive model. In addition, we can also check how many samples are available in our dataset.\ndata.columns\nIndex([‚Äòage‚Äô, ‚Äòcapital-gain‚Äô, ‚Äòcapital-loss‚Äô, ‚Äòhours-per-week‚Äô], dtype=‚Äòobject‚Äô)\nprint(f‚ÄùThe dataset contains {data.shape[0]} samples and ‚Äù f‚Äù{data.shape[1]} features‚Äù)\nThe dataset contains 39073 samples and 4 features\nFit a model and make predictions\nWe will build a classification model using the ‚ÄúK-nearest neighbors‚Äù strategy. To predict the target of a new sample, a k-nearest neighbors takes into account its k closest samples in the training set and predicts the majority target of these samples.\nCaution\nWe use a K-nearest neighbors here. However, be aware that it is seldom useful in practice. We use it because it is an intuitive algorithm. In the next notebook, we will introduce better models.\nThe fit method is called to train the model from the input (features) and target data.\nfrom sklearn.neighbors import KNeighborsClassifier\nmodel = KNeighborsClassifier() _ = model.fit(data, target)\nLearning can be represented as follows:\nPredictor fit diagram\nThe method fit is composed of two elements: (i) a learning algorithm and (ii) some model states. The learning algorithm takes the training data and training target as input and sets the model states. These model states will be used later to either predict (for classifiers and regressors) or transform data (for transformers).\nBoth the learning algorithm and the type of model states are specific to each type of model.\nNote\nHere and later, we use the name data and target to be explicit. In scikit-learn documentation, data is commonly named X and target is commonly called y.\nLet‚Äôs use our model to make some predictions using the same dataset.\ntarget_predicted = model.predict(data)\nWe can illustrate the prediction mechanism as follows:\nPredictor predict diagram\nTo predict, a model uses a prediction function that will use the input data together with the model states. As for the learning algorithm and the model states, the prediction function is specific for each type of model.\nLet‚Äôs now have a look at the computed predictions. For the sake of simplicity, we will look at the five first predicted targets.\ntarget_predicted[:5]\narray([‚Äô >50K‚Äô, ‚Äô <=50K‚Äô, ‚Äô <=50K‚Äô, ‚Äô <=50K‚Äô, ‚Äô <=50K‚Äô], dtype=object)\nIndeed, we can compare these predictions to the actual data‚Ä¶\ntarget[:5]\n0 <=50K 1 <=50K 2 <=50K 3 <=50K 4 <=50K Name: class, dtype: object\n‚Ä¶and we could even check if the predictions agree with the real targets:\ntarget[:5] == target_predicted[:5]\n0 False 1 True 2 True 3 True 4 True Name: class, dtype: bool\nprint(f‚ÄùNumber of correct prediction: ‚Äù f‚Äù{(target[:5] == target_predicted[:5]).sum()} / 5‚Äù)\nNumber of correct prediction: 4 / 5\nHere, we see that our model makes a mistake when predicting for the first sample.\nTo get a better assessment, we can compute the average success rate.\n(target == target_predicted).mean()\n0.8242776341719346\nThis result means that the model makes a correct prediction for approximately 82 samples out of 100. Note that we used the same data to train and evaluate our model. Can this evaluation be trusted or is it too good to be true? Train-test data split\nWhen building a machine learning model, it is important to evaluate the trained model on data that was not used to fit it, as generalization is more than memorization (meaning we want a rule that generalizes to new data, without comparing to data we memorized). It is harder to conclude on never-seen instances than on already seen ones.\nCorrect evaluation is easily done by leaving out a subset of the data when training the model and using it afterwards for model evaluation. The data used to fit a model is called training data while the data used to assess a model is called testing data.\nWe can load more data, which was actually left-out from the original data set.\nadult_census_test = pd.read_csv(‚Äò../datasets/adult-census-numeric-test.csv‚Äô)\nFrom this new data, we separate our input features and the target to predict, as in the beginning of this notebook.\ntarget_test = adult_census_test[target_name] data_test = adult_census_test.drop(columns=[target_name, ])\nWe can check the number of features and samples available in this new set.\nprint(f‚ÄùThe testing dataset contains {data_test.shape[0]} samples and ‚Äù f‚Äù{data_test.shape[1]} features‚Äù)\nThe testing dataset contains 9769 samples and 4 features\nInstead of computing the prediction and manually computing the average success rate, we can use the method score. When dealing with classifiers this method returns their performance metric.\naccuracy = model.score(data_test, target_test) model_name = model.__class__.__name__\nprint(f‚ÄùThe test accuracy using a {model_name} is ‚Äù f‚Äù{accuracy:.3f}‚Äú)\nThe test accuracy using a KNeighborsClassifier is 0.804\nLet‚Äôs check the underlying mechanism when the score method is called:\nPredictor score diagram\nTo compute the score, the predictor first computes the predictions (using the predict method) and then uses a scoring function to compare the true target y and the predictions. Finally, the score is returned.\nIf we compare with the accuracy obtained by wrongly evaluating the model on the training set, we find that this evaluation was indeed optimistic compared to the score obtained on a held-out test set.\nIt shows the importance to always testing the generalization performance of predictive models on a different set than the one used to train these models. We will discuss later in more detail how predictive models should be evaluated.\nNote\nIn this MOOC, we will refer to generalization performance of a model when referring to the test score or test error obtained by comparing the prediction of a model and the true targets. Equivalent terms for generalization performance are predictive performance and statistical performance. We will refer to computational performance of a predictive model when assessing the computational costs of training a predictive model or using it to make predictions. Notebook Recap\nIn this notebook we:\nfitted a k-nearest neighbors model on a training dataset;\n\nevaluated its generalization performance on the testing data;\n\nintroduced the scikit-learn API .fit(X, y) (to train a model), .predict(X) (to make predictions) and .score(X, y) (to evaluate a model)."
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "1. Mayer FW. ruODK: Client for the ODK central API\n[Internet]. 2020. Available from: https://github.com/ropensci/ruODK\n\n\n2. Donoho D. 50 years of data science. Journal of\nComputational and Graphical Statistics. 2017;26(4):745‚Äì6. \n\n\n3. Chambers J. Greater or lesser statistics, a\nchoice for future research. 1993; \n\n\n4. Maina J, Ouma PO, Macharia PM, Alegana VA,\nMitto B, Fall IS, et al. A spatial database of health facilities managed\nby the public health sector in sub Saharan\nAfrica. Scientific Data [Internet]. 2019 Jul;6(1):134.\nAvailable from: https://doi.org/10.1038/s41597-019-0142-2\n\n\n5. The\nTuring Way Community. The Turing Way: A handbook\nfor reproducible, ethical and collaborative research [Internet].\nZenodo; 2022. Available from: https://doi.org/10.5281/zenodo.6909298\n\n\n6. Goldsmith J, Sun Y, Fried L, Wing J, Miller G,\nBerhane K. The emergence and future of public health data science.\nPublic Health Reviews [Internet]. 2021;42. Available from: https://www.ssph-journal.org/articles/10.3389/phrs.2021.1604023\n\n\n7. Batra N. The Epidemiologist R\nHandbook. 2021. \n\n\n8. Knuth DE. Literate Programming.\nThe Computer Journal [Internet]. 1984 Jan;27(2):97‚Äì111. Available from:\nhttps://doi.org/10.1093/comjnl/27.2.97\n\n\n9. Harris JK, Johnson KJ, Carothers BJ, Combs TB,\nLuke DA, Wang X. Use of reproducible research practices in public\nhealth: A survey of public health analysts. PLOS ONE\n[Internet]. 2018 Sep;13(9):1‚Äì12. Available from: https://doi.org/10.1371/journal.pone.0202447\n\n\n10. Baker M. 1,500 scientists lift the lid on\nreproducibility. Nature. 2016;533:452‚Äì4."
  },
  {
    "objectID": "r_setup.html",
    "href": "r_setup.html",
    "title": "Appendix A ‚Äî R installations",
    "section": "",
    "text": "R is a programming language for statistical computing and graphics. It is one of main programming language used for data science (with other programming languages such as Python and Julia).\n\nStep 1Step 2Step 3Step 4Step 5Step 6\n\n\nYou can download R from the Comprehensive R Archive Network (CRAN) which is a network of servers around the world that store identical up-to-date versions of code and documentation for R.\n\nScroll down the page to locate the mirror that is the closest to your geographic location and click on its URL.\n\n\n\n\n\n\nTip\n\n\n\nSelecting a mirror that is close to you may help speed up the download. You can still use another mirror since the closest geographic location does not always give the best mirror.\n\n\nFor instance, when downloading R from Tanzania, you can select the mirror from South Africa.\n\n\nOnce on the CRAN page, select your operating system: Linux, macOS, or Windows.\n\n\n\nSelect binaries for base distribution\n\n\n\nDownload the R installer (< 80 MB)\n\n\n\nIn your computer‚Äôs Downloads folder, double-click the R setup file.\n\n\n\nFollow the instruction in the installation wizard to complete the installation."
  },
  {
    "objectID": "r_setup.html#sec-RStudio-installation",
    "href": "r_setup.html#sec-RStudio-installation",
    "title": "Appendix A ‚Äî R installations",
    "section": "A.2 Install and setup RStudio Desktop",
    "text": "A.2 Install and setup RStudio Desktop\nRstudio is an integrated development environment (IDE) for R that enables an easier use of R.\n\n\n\n\n\n\nNote\n\n\n\nRStudio is moving away from its R-exclusive focus and becoming Posit in October 2022 to enable broader data science, scientific research, and technical communication functionalities and, in particular, to integrate Python users.\n\n\n\n\n\n\n\n\nImportant\n\n\n\nIn order for RStudio desktop to work with R you must have installed R on your computer, see Section¬†A.1. RStudio does not include R when you download and install it.\n\n\n\nStep 1Step 2Step 3Step 4Step 5Step 6Step 7\n\n\nYou can download R from the RStudio website. There are different RStudio products available, but the free Desktop version offers all necessary features for your analyses.\n\n\n\n\nDownload the RStudio Desktop installer that corresponds to your operating system.\n\n\nIn your computer‚Äôs Downloads folder, double-click the RStudio Desktop setup file.\n\n\n\nFollow the instruction in the installation wizard to complete the installation.\n\n\n\nOpen RStudio\n\n\nIn RStudio, you can set global options by selecting Tools > Global options\n\n\n\nUnder the General options and the Basic tab:\n\nWorkspace\n\nUncheck Restore .RData into workspace at startup\nEnsure that Never is selected for Save workspace to .RData on exit.\n\nHistory\n\nUncheck Always save history (even when not saving .RData)\nUncheck Remove duplicate entries in history"
  },
  {
    "objectID": "r_setup.html#sec-Quarto-installation",
    "href": "r_setup.html#sec-Quarto-installation",
    "title": "Appendix A ‚Äî R installations",
    "section": "A.3 Install Quarto",
    "text": "A.3 Install Quarto\nQuarto is a software tool that allows to generate high quality reproducible data analysis documents (including but not limited to articles, reports, presentations) with programming language used in data science (such as R, Python or Julia). It is the successor to R Markdown.\n\nStep 1Step 2\n\n\nYou can download the Quarto installer that corresponds to your operating system from the Quarto website.\n\n\n\n1. In your computer‚Äôs Downloads folder, double-click the Quarto setup file.\n2. Follow the instruction in the installation wizard to complete the installation.\n\n\n\n\n\n\n\nImportant\n\n\n\nWhen the installation of Quarto is complete, you will not see any new software on your computer, but Quarto is now available to be used in RStudio, as well as by all other applications on your computer.\nQuarto will select a version of R by looking on your system PATH. Note that it is possible to override the version of R used by Quarto by setting the QUARTO_R environment variable."
  },
  {
    "objectID": "r_setup.html#sec-rmarkdown-installation",
    "href": "r_setup.html#sec-rmarkdown-installation",
    "title": "Appendix A ‚Äî R installations",
    "section": "A.4 Install the rmarkdown R package",
    "text": "A.4 Install the rmarkdown R package\nTo use Quarto with R and RStudio, you need to install the rmarkdown R package.\n\n\n\n\n\n\nNote\n\n\n\nA R package is a collection of functions, data, and compiled code in a well-defined format, created to add specific functionality to R.\nThere are 10,000+ user contributed packages and growing.\nThere is a set of standard (or base) packages which is considered part of the R source code and automatically available as part of your R installation. Base packages contain the basic functions that allow R to work, and enable standard statistical and graphical functions on data sets.\n\n\nThe rmarkdown package will add all necessary functionalities in your R installation to render Quarto documents that use R.\n\nStep 1Step 2Step 3\n\n\nOpen RStudio on your computer\n\n\nIn RStudio, you can install a new package by selecting Tools > Install packages‚Ä¶"
  },
  {
    "objectID": "github_setup.html",
    "href": "github_setup.html",
    "title": "Appendix B ‚Äî GitHub setup",
    "section": "",
    "text": "GitHub is a cloud-based hosting platform that lets you host and manage repositories for version control and collaboration.\n\nTo Create a GitHub account, follow the instructions that are given in slide 3 of the Powerpoint document available at the following link."
  },
  {
    "objectID": "github_setup.html#sec-GitHub-Desktop-installation",
    "href": "github_setup.html#sec-GitHub-Desktop-installation",
    "title": "Appendix B ‚Äî GitHub setup",
    "section": "B.2 Install GitHub desktop",
    "text": "B.2 Install GitHub desktop\nGitHub Desktop is an application that allows to interact with GitHub through a visual interface instead of using the command line (for software developers) or GitHub‚Äôs web browser.\n\nYou can install GitHub Desktop on supported Windows or macOS operating systems.\n\nStep 1Step 2Step 3\n\n\n\nVisit the download page for GitHub Desktop.\nClick Download for Windows.\n\n\n\n\n\nIn your computer‚Äôs Downloads folder, double-click the GitHub Desktop setup file.\nFollow the instruction in the installation wizard to complete the installation.\n\n\n\nTo connect your GitHub account to GitHub Desktop, follow the instructions that are given in slides 6 to 9 of the Powerpoint document available at the following link."
  },
  {
    "objectID": "import_data_from_odk_central.html",
    "href": "import_data_from_odk_central.html",
    "title": "Appendix C ‚Äî Import data from ODK Central",
    "section": "",
    "text": "Application Programming Interfaces (APIs) allow you to import data directly from servers.\n\n\n\n\nWe will explore the use of APIs through the example of ruODK for importing data from ODK Central to R."
  },
  {
    "objectID": "import_data_from_odk_central.html#tutorial",
    "href": "import_data_from_odk_central.html#tutorial",
    "title": "Appendix C ‚Äî Import data from ODK Central",
    "section": "C.2 Tutorial",
    "text": "C.2 Tutorial\nWhile data digitally captured using ODK Collect or Enketo and stored in ODK Central can be retrieved in bulk through the web interface, ODK Central‚Äôs API provides direct access to its data (and functionality). It is a more efficient way to ensure that data are always up-to-date.\nWe will see how to retrieve data through the OData API.\n\n‚úèÔ∏è Exercise 1R\n\n\nConnect to the ODK Central server data set.\n\nodata service: ‚Äúhttps://private-anon-24fcfe2426-odkcentral.apiary-mock.com/v1/projects/7/forms/simple.svc‚Äù\nEmail: ‚Äúmy.email.address@getodk.org‚Äù\nPassword: ‚Äúmy.super.secure.password‚Äù.\n\n\n\n\n\n\n\nTip\n\n\n\n\nR: use the ru_setup function from the ruODK package (1).\nPython: use functions from the pyODK package.\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\nruODK::ru_setup(\n  svc = \"https://private-anon-24fcfe2426-odkcentral.apiary-mock.com/v1/projects/7/forms/simple.svc\",\n  un = \"my.email.address@getodk.org\",\n  pw = \"my.super.secure.password\",\n  verbose = TRUE\n)\n```\n\n<ruODK settings>\n  Default ODK Central Project ID: 7 \n  Default ODK Central Form ID: simple \n  Default ODK Central URL: https://private-anon-24fcfe2426-odkcentral.apiary-mock.com \n  Default ODK Central Username: my.email.address@getodk.org \n  Default ODK Central Password: run ruODK::get_default_pw() to show \n  Default ODK Central Passphrase: run ruODK::get_default_pp() to show \n  Default Time Zone: UTC \n  Default ODK Central Version: 1.1 \n  Default HTTP GET retries: 3 \n  Verbose messages: TRUE \n  Test ODK Central Project ID:  \n  Test ODK Central Form ID:  \n  Test ODK Central Form ID (ZIP tests):  \n  Test ODK Central Form ID (Attachment tests):  \n  Test ODK Central Form ID (Parsing tests):  \n  Test ODK Central Form ID (WKT tests):  \n  Test ODK Central URL:  \n  Test ODK Central Username:  \n  Test ODK Central Password: run ruODK::get_test_pw() to show \n  Test ODK Central Passphrase: run ruODK::get_test_pp() to show \n  Test ODK Central Version: 1.1 \n\n\n\n\n\n\n‚úèÔ∏è Exercise 2R\n\n\nRetrieve data from form and store the data set into a data frame called df4\n\n\n\n\n\n\nTip\n\n\n\n\nR: use the odata_submission_get function from the ruODK package (1).\nPython: use functions from the pyODK package.\n\n\n\n\n```{r}\n# Write your code here\n```\n\n\n\n\n```{r}\nfq_form_schema <- ruODK::form_schema()\n```\n\ni Form schema v1.1\n\n```{r}\nfq_form_schema\n```\n\n# A tibble: 5 x 5\n  name       path             type      binary ruodk_name      \n  <chr>      <chr>            <chr>     <lgl>  <chr>           \n1 meta       /meta            structure NA     meta            \n2 instanceID /meta/instanceID string    NA     meta_instance_id\n3 name       /name            string    NA     name            \n4 age        /age             int       NA     age             \n5 photo      /photo           binary    TRUE   photo           \n\n\n\n```{r}\ndf <- ruODK::odata_service_get()\ndf\n```\n\n# A tibble: 0 x 3\n# ... with 3 variables: name <chr>, kind <chr>, url <chr>"
  },
  {
    "objectID": "import_data_from_odk_central.html#encrypted-data",
    "href": "import_data_from_odk_central.html#encrypted-data",
    "title": "Appendix C ‚Äî Import data from ODK Central",
    "section": "C.3 Encrypted data",
    "text": "C.3 Encrypted data\nEncrypted data can only be retrieved using the RESTful API and cannot be retrieved using the oData API. ODK Central supports two modes of encryption - learn about them here. ruODK supports project managed encryption, however the support is limited to exactly one encryption key. The supplied passphrase will be used against the first returned encryption key. Remaining encryption keys are ignored by ruODK.\n\n\n\n\n\n\nImportant\n\n\n\nIf an incorrect passphrase is given, the request is terminated immediately. It has been reported that multiple requests with incorrect passphrases can crash ODK Central.\n\n\n\n\n\n\n1. Mayer FW. ruODK: Client for the ODK central API [Internet]. 2020. Available from: https://github.com/ropensci/ruODK"
  },
  {
    "objectID": "useful_resources.html",
    "href": "useful_resources.html",
    "title": "Appendix D ‚Äî Useful resources",
    "section": "",
    "text": "To learn more about this topic, we highly recommend the following resources:\n\nCodeacademy\nGitHub Guides\nTry Git tutorial\nHappy Git and GitHub for the useR"
  },
  {
    "objectID": "useful_resources.html#online-trainings",
    "href": "useful_resources.html#online-trainings",
    "title": "Appendix D ‚Äî Useful resources",
    "section": "D.2 Online trainings",
    "text": "D.2 Online trainings\n\nD.2.1 Programming\n\n\n\nLink\nLanguage\nRecommendation\n\n\n\n\nThe GRAPH network\nR\n‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê\n\n\nJohns Hopkins University Data Science Lab‚Äôs courses\nR\n‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê\n\n\nafrimapr - mapping data in Africa\nR\n\n\n\nHarvard Data Science workshops materials\nR, Python, Stata\n\n\n\n\n\n\nD.2.2 Machine learning\n\n\n\nMOOC\nLanguage\nRecommendation\n\n\n\n\nMachine learning in Python with scikit-learn\nPython\n‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê"
  },
  {
    "objectID": "useful_resources.html#packages",
    "href": "useful_resources.html#packages",
    "title": "Appendix D ‚Äî Useful resources",
    "section": "D.3 Packages",
    "text": "D.3 Packages\n\nD.3.1 R\n\n\n\n\ntidyverse\nCollection of R packages designed for data science\n\n\n\nruODK\n\n\n\n\ngtsummary\n\n\n\n\nskimr\n\n\n\n\nsitrep\n\n\n\n\n\n\nD.3.2 Python\n\nPandas\nComparison with Stata\nComparison with R"
  },
  {
    "objectID": "useful_resources.html#books-and-websites",
    "href": "useful_resources.html#books-and-websites",
    "title": "Appendix D ‚Äî Useful resources",
    "section": "D.4 Books and websites",
    "text": "D.4 Books and websites\n\nD.4.1 Reproducible research\n\nThe Turing way (1) ‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê\n\n\n\nD.4.2 R books\n\nBooks and websites\n\n\nR for applied epidemiology and public health (2)\n‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê\n\n\nR for Epidemiology\n\n\n\nR4epis\n\n\n\nR for Data Science\n‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê\n\n\nQuarto for scientists"
  },
  {
    "objectID": "useful_resources.html#communities",
    "href": "useful_resources.html#communities",
    "title": "Appendix D ‚Äî Useful resources",
    "section": "D.5 Communities",
    "text": "D.5 Communities\n\nR for data science online learning community"
  },
  {
    "objectID": "useful_resources.html#open-data",
    "href": "useful_resources.html#open-data",
    "title": "Appendix D ‚Äî Useful resources",
    "section": "D.6 Open data",
    "text": "D.6 Open data\n\nD.6.1 Platforms\n\nopenAfrica\nCode for Africa (CfA)\n\n\n\nD.6.2 Data sets\n\n\n\nDataset\nAssociated publication(s)\n\n\n\n\nData for Good\n\n\n\nPublic health hacilities in sub-Saharan Africa\n(3)"
  },
  {
    "objectID": "useful_resources.html#conferences",
    "href": "useful_resources.html#conferences",
    "title": "Appendix D ‚Äî Useful resources",
    "section": "D.7 Conferences",
    "text": "D.7 Conferences\n\nData Science Africa\nhttps://nef.org/\n\n\n\n\n\n1. The Turing Way Community. The Turing Way: A handbook for reproducible, ethical and collaborative research [Internet]. Zenodo; 2022. Available from: https://doi.org/10.5281/zenodo.6909298\n\n\n2. Batra N. The Epidemiologist R Handbook. 2021. \n\n\n3. Maina J, Ouma PO, Macharia PM, Alegana VA, Mitto B, Fall IS, et al. A spatial database of health facilities managed by the public health sector in sub Saharan Africa. Scientific Data [Internet]. 2019 Jul;6(1):134. Available from: https://doi.org/10.1038/s41597-019-0142-2"
  }
]