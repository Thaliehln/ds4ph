---
title: "Data Science for Public Health - Day 3 - Import big datasets"
date: "2022-09-26"
format:
  html:
    toc: true
    number-sections: true
editor: visual
execute:
  echo: false
  warning: false
---

# Introduction
*
Most of the time you will want to create *Quarto* documents using your own data. The first thing you will usually do when starting an new *Quarto* document is to import your data. You can import several datasets. If you want to further process / analyse your data, you will have to store each dataset in a specific variable.

# Import data from files

There is a dedicated importing function in R and Python for almost every data format. In this session we show you how to read Stata (`.dta`), Excel (`.xlsx`) and comma-separated values (`.CSV`) formats.

Only one argument is required within these function. We need to know the PATH where the file is stored.

Indicate functions that accepts URL as well (it is the case for Python functions).

## Import Excel data

Read the Excel dataset **dataset1.xlsx** and store it into a dataframe called **df1**.

-   R hint: use the [read_dta](https://haven.tidyverse.org/reference/read_dta.html) function from the `haven` package.
-   Python hint: use the [read_xls](https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html) function from the `pandas` package.

```{r}
#| echo: true
# Write your code here
```

```{r}
library(haven)
df1 <- haven::read_dta("dataset1.xlsx")
```

```{python}
import pandas as pd
df1 = pd.read_xls('dataset1.xlsx')
```

## Import CSV data

Read the CSV dataset **dataset1.csv** and store it into a dataframe called **df2**.

-   R hint: use the [read_dta](https://haven.tidyverse.org/reference/read_dta.html) function from the `haven` package.
-   Python hint: use the [read_csv](https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html) function from the `pandas` package.

```{r}
#| echo: true
# Write your code here
```

```{r}
library(haven)
df2 <- haven::read_dta("dataset1.csv")
```

```{python}
import pandas as pd
df2 = pd.read_csv('dataset1.csv')
```

## Import Stata data

Read the Stata dataset **dataset1.dta** and store it into a dataframe called **df3**.

-   R hint: use the [read_dta](https://haven.tidyverse.org/reference/read_dta.html) function from the `haven` package. This package supports SAS, STATA and SPSS software.
-   Python hint: use the [read_stata](https://pandas.pydata.org/docs/reference/api/pandas.read_stata.html) function from the `pandas` package.

```{r}
#| echo: true
# Write your code here
```

```{r}
library(haven)
df3 <- haven::read_dta("dataset1.dta")
```

```{python}
import pandas as pd
df3 = pd.read_stata('dataset1.dta')
```

## Question

Can you indicate what variable has been modified in dataset1 between these 3 formats?

# Import data from ODK or other odata using APIs

-   R hint: use the [read_dta](https://haven.tidyverse.org/reference/read_dta.html) function from the \`ruODK\`\` package. This package supports SAS, STATA and SPSS software.
-   Python hint: use the [read_stata](https://pandas.pydata.org/docs/reference/api/pandas.read_stata.html) function from the `pyODK` package.

```{r}
#| echo: true
# Write your code here
```
